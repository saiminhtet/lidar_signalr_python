"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/indicators/indicators",["highcharts","highcharts/modules/stock"],function(a){return e(a),e.Highcharts=a,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(a){var e=a?a._modules:{};function t(a,e,t,i){a.hasOwnProperty(e)||(a[e]=i.apply(null,t))}t(e,"mixins/indicator-required.js",[e["parts/Globals.js"]],function(a){var r=a.error;return{isParentLoaded:function(a,e,t,i,n){return a?!i||i(a):(r(n||this.generateMessage(t,e)),!1)},generateMessage:function(a,e){return'Error: "'+a+'" indicator type requires "'+e+'" indicator loaded before. Please read docs: https://api.highcharts.com/highstock/plotOptions.'+a}}}),t(e,"indicators/indicators.src.js",[e["parts/Globals.js"],e["parts/Utilities.js"],e["mixins/indicator-required.js"]],function(a,e,t){var i=e.extend,f=e.isArray,n=e.pick,l=e.splat,r=a.error,o=a.Series,s=a.addEvent,d=a.seriesType,p=a.seriesTypes,c=a.seriesTypes.ohlc.prototype,h=t.generateMessage;s(a.Series,"init",function(a){var e=a.options;e.useOhlcData&&"highcharts-navigator-series"!==e.id&&i(this,{pointValKey:c.pointValKey,keys:c.keys,pointArrayMap:c.pointArrayMap,toYData:c.toYData})}),s(o,"afterSetOptions",function(a){var e=a.options,t=e.dataGrouping;t&&e.useOhlcData&&"highcharts-navigator-series"!==e.id&&(t.approximation="ohlc")}),d("sma","line",{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:0,period:14}},{processData:function(){var a=this,e=a.options.compareToMain,t=a.linkedParent;o.prototype.processData.apply(a,arguments),t&&t.compareValue&&e&&(a.compareValue=t.compareValue)},bindTo:{series:!0,eventName:"updatedData"},hasDerivedData:!0,useCommonDataGrouping:!0,nameComponents:["period"],nameSuffixes:[],calculateOn:"init",requiredIndicators:[],requireIndicators:function(){var e={allLoaded:!0};return this.requiredIndicators.forEach(function(a){p[a]?p[a].prototype.requireIndicators():(e.allLoaded=!1,e.needed=a)}),e},init:function(a,e){var t,u=this,i=u.requireIndicators();if(!i.allLoaded)return r(h(u.type,i.needed));function n(){var a,e,t,i,n,r,o=u.points||[],s=(u.xData||[]).length,d=u.getValues(u.linkedParent,u.options.params)||{values:[],xData:[],yData:[]},p=[],c=!0;if(s&&!u.hasGroupedData&&u.visible&&u.points)if(u.cropped){for(u.xAxis&&(i=u.xAxis.min,n=u.xAxis.max),t=u.cropData(d.xData,d.yData,i,n),r=0;r<t.xData.length;r++)p.push([t.xData[r]].concat(l(t.yData[r])));a=d.xData.indexOf(u.xData[0]),e=d.xData.indexOf(u.xData[u.xData.length-1]),-1===a&&e===d.xData.length-2&&p[0][0]===o[0].x&&p.shift(),u.updateData(p)}else d.xData.length!==s-1&&d.xData.length!==s+1&&(c=!1,u.updateData(d.values));c&&(u.xData=d.xData,u.yData=d.yData,u.options.data=d.values),!1===u.bindTo.series&&(delete u.processedXData,u.isDirty=!0,u.redraw()),u.isDirtyData=!1}return o.prototype.init.call(u,a,e),a.linkSeries(),u.dataEventsToUnbind=[],u.linkedParent?(u.dataEventsToUnbind.push(s(u.bindTo.series?u.linkedParent:u.linkedParent.xAxis,u.bindTo.eventName,n)),"init"===u.calculateOn?n():t=s(u.chart,u.calculateOn,function(){n(),t()}),u):r("Series "+u.options.linkedTo+" not found! Check `linkedTo`.",!1,a)},getName:function(){var a=this.name,t=[];return a||((this.nameComponents||[]).forEach(function(a,e){t.push(this.options.params[a]+n(this.nameSuffixes[e],""))},this),a=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+t.join(", ")+")":"")),a},getValues:function(a,e){var t,i,n=e.period,r=a.xData,o=a.yData,s=o.length,d=0,p=0,c=[],u=[],l=[],h=-1;if(r.length<n)return!1;for(f(o[0])&&(h=e.index?e.index:0);d<n-1;)p+=h<0?o[d]:o[d][h],d++;for(t=d;t<s;t++)p+=h<0?o[t]:o[t][h],i=[r[t],p/n],c.push(i),u.push(i[0]),l.push(i[1]),p-=h<0?o[t-d]:o[t-d][h];return{values:c,xData:u,yData:l}},destroy:function(){this.dataEventsToUnbind.forEach(function(a){a()}),o.prototype.destroy.call(this)}})}),t(e,"masters/indicators/indicators.src.js",[],function(){})});