"use strict";!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/indicators/bollinger-bands",["highcharts","highcharts/modules/stock"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var i=t?t._modules:{};function e(t,i,e,n){t.hasOwnProperty(i)||(t[i]=n.apply(null,e))}e(i,"mixins/multipe-lines.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,i){var h=i.defined,u=t.each,c=t.merge,m=t.error,y=t.seriesTypes.sma;return{pointArrayMap:["top","bottom"],pointValKey:"top",linesApiNames:["bottomLine"],getTranslatedLinesNames:function(i){var e=[];return u(this.pointArrayMap,function(t){t!==i&&e.push("plot"+t.charAt(0).toUpperCase()+t.slice(1))}),e},toYData:function(i){var e=[];return u(this.pointArrayMap,function(t){e.push(i[t])}),e},translate:function(){var n,o=this,t=o.pointArrayMap,a=o.getTranslatedLinesNames();y.prototype.translate.apply(o,arguments),u(o.points,function(e){u(t,function(t,i){null!==(n=e[t])&&(e[a[i]]=o.yAxis.toPixels(n,!0))})})},drawGraph:function(){var e,n=this,t=n.pointValKey,i=n.linesApiNames,o=n.points,a=o.length,s=n.options,r=n.graph,p={options:{gapSize:s.gapSize}},l=[],d=n.getTranslatedLinesNames(t);u(d,function(t,i){for(l[i]=[];a--;)e=o[a],l[i].push({x:e.x,plotX:e.plotX,plotY:e[t],isNull:!h(e[t])});a=o.length}),u(i,function(t,i){l[i]?(n.points=l[i],s[t]?n.options=c(s[t].styles,p):m('Error: "There is no '+t+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names." at mixin/multiple-line.js:34'),n.graph=n["graph"+t],y.prototype.drawGraph.call(n),n["graph"+t]=n.graph):m('Error: "'+t+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")}),n.points=o,n.options=s,n.graph=r,y.prototype.drawGraph.call(n)}}}),e(i,"indicators/bollinger-bands.src.js",[i["parts/Globals.js"],i["parts/Utilities.js"],i["mixins/multipe-lines.js"]],function(t,i,e){var x=i.isArray,n=t.merge,A=t.seriesTypes.sma;function D(t,i,e,n){for(var o,a=0,s=t.length,r=0;r<s;r++)a+=(o=(e?t[r][i]:t[r])-n)*o;return a/=s-1,Math.sqrt(a)}t.seriesType("bb","sma",{params:{period:20,standardDeviation:2,index:3},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"}},t.merge(e,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameComponents:["period","standardDeviation"],linesApiNames:["topLine","bottomLine"],init:function(){A.prototype.init.apply(this,arguments),this.options=n({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(t,i){var e,n,o,a,s,r,p,l,d,h,u=i.period,c=i.standardDeviation,m=t.xData,y=t.yData,f=y?y.length:0,g=[],b=[],v=[];if(m.length<u)return!1;for(l=x(y[0]),h=u;h<=f;h++)s=m.slice(h-u,h),r=y.slice(h-u,h),a=(d=A.prototype.getValues.call(this,{xData:s,yData:r},i)).xData[0],n=(e=d.yData[0])+c*(p=D(r,i.index,l,e)),o=e-c*p,g.push([a,n,e,o]),b.push(a),v.push([n,e,o]);return{values:g,xData:b,yData:v}}}))}),e(i,"masters/indicators/bollinger-bands.src.js",[],function(){})});