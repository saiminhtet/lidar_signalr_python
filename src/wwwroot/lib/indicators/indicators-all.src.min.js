"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/indicators/indicators-all",["highcharts","highcharts/modules/stock"],function(e){return t(e),t.Highcharts=e,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(e){var t=e?e._modules:{};function a(e,t,a,o){e.hasOwnProperty(t)||(e[t]=o.apply(null,a))}a(t,"mixins/indicator-required.js",[t["parts/Globals.js"]],function(e){var n=e.error;return{isParentLoaded:function(e,t,a,o,i){return e?!o||o(e):(n(i||this.generateMessage(a,t)),!1)},generateMessage:function(e,t){return'Error: "'+e+'" indicator type requires "'+t+'" indicator loaded before. Please read docs: https://api.highcharts.com/highstock/plotOptions.'+e}}}),a(t,"indicators/indicators.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/indicator-required.js"]],function(e,t,a){var o=t.extend,m=t.isArray,i=t.pick,h=t.splat,n=e.error,s=e.Series,r=e.addEvent,l=e.seriesType,p=e.seriesTypes,u=e.seriesTypes.ohlc.prototype,d=a.generateMessage;r(e.Series,"init",function(e){var t=e.options;t.useOhlcData&&"highcharts-navigator-series"!==t.id&&o(this,{pointValKey:u.pointValKey,keys:u.keys,pointArrayMap:u.pointArrayMap,toYData:u.toYData})}),r(s,"afterSetOptions",function(e){var t=e.options,a=t.dataGrouping;a&&t.useOhlcData&&"highcharts-navigator-series"!==t.id&&(a.approximation="ohlc")}),l("sma","line",{name:void 0,tooltip:{valueDecimals:4},linkedTo:void 0,compareToMain:!1,params:{index:0,period:14}},{processData:function(){var e=this,t=e.options.compareToMain,a=e.linkedParent;s.prototype.processData.apply(e,arguments),a&&a.compareValue&&t&&(e.compareValue=a.compareValue)},bindTo:{series:!0,eventName:"updatedData"},hasDerivedData:!0,useCommonDataGrouping:!0,nameComponents:["period"],nameSuffixes:[],calculateOn:"init",requiredIndicators:[],requireIndicators:function(){var t={allLoaded:!0};return this.requiredIndicators.forEach(function(e){p[e]?p[e].prototype.requireIndicators():(t.allLoaded=!1,t.needed=e)}),t},init:function(e,t){var a,c=this,o=c.requireIndicators();if(!o.allLoaded)return n(d(c.type,o.needed));function i(){var e,t,a,o,i,n,s=c.points||[],r=(c.xData||[]).length,l=c.getValues(c.linkedParent,c.options.params)||{values:[],xData:[],yData:[]},p=[],u=!0;if(r&&!c.hasGroupedData&&c.visible&&c.points)if(c.cropped){for(c.xAxis&&(o=c.xAxis.min,i=c.xAxis.max),a=c.cropData(l.xData,l.yData,o,i),n=0;n<a.xData.length;n++)p.push([a.xData[n]].concat(h(a.yData[n])));e=l.xData.indexOf(c.xData[0]),t=l.xData.indexOf(c.xData[c.xData.length-1]),-1===e&&t===l.xData.length-2&&p[0][0]===s[0].x&&p.shift(),c.updateData(p)}else l.xData.length!==r-1&&l.xData.length!==r+1&&(u=!1,c.updateData(l.values));u&&(c.xData=l.xData,c.yData=l.yData,c.options.data=l.values),!1===c.bindTo.series&&(delete c.processedXData,c.isDirty=!0,c.redraw()),c.isDirtyData=!1}return s.prototype.init.call(c,e,t),e.linkSeries(),c.dataEventsToUnbind=[],c.linkedParent?(c.dataEventsToUnbind.push(r(c.bindTo.series?c.linkedParent:c.linkedParent.xAxis,c.bindTo.eventName,i)),"init"===c.calculateOn?i():a=r(c.chart,c.calculateOn,function(){i(),a()}),c):n("Series "+c.options.linkedTo+" not found! Check `linkedTo`.",!1,e)},getName:function(){var e=this.name,a=[];return e||((this.nameComponents||[]).forEach(function(e,t){a.push(this.options.params[e]+i(this.nameSuffixes[t],""))},this),e=(this.nameBase||this.type.toUpperCase())+(this.nameComponents?" ("+a.join(", ")+")":"")),e},getValues:function(e,t){var a,o,i=t.period,n=e.xData,s=e.yData,r=s.length,l=0,p=0,u=[],c=[],h=[],d=-1;if(n.length<i)return!1;for(m(s[0])&&(d=t.index?t.index:0);l<i-1;)p+=d<0?s[l]:s[l][d],l++;for(a=l;a<r;a++)p+=d<0?s[a]:s[a][d],o=[n[a],p/i],u.push(o),c.push(o[0]),h.push(o[1]),p-=d<0?s[a-l]:s[a-l][d];return{values:u,xData:c,yData:h}},destroy:function(){this.dataEventsToUnbind.forEach(function(e){e()}),s.prototype.destroy.call(this)}})}),a(t,"indicators/accumulation-distribution.src.js",[t["parts/Globals.js"]],function(S){(0,S.seriesType)("ad","sma",{params:{volumeSeriesID:"volume"}},{nameComponents:!1,nameBase:"Accumulation/Distribution",getValues:function(e,t){var a,o,i,n,s,r,l,p,u,c,h,d,m=t.period,y=e.xData,g=e.yData,f=t.volumeSeriesID,v=e.chart.get(f),D=v&&v.yData,x=g?g.length:0,b=[],A=[],j=[];if(y.length<=m&&x&&4!==g[0].length)return!1;if(!v)return S.error("Series "+f+" not found! Check `volumeSeriesID`.",!0,e.chart);for(o=m;o<x;o++)a=b.length,n=y,r=D,0,p=(s=g)[l=o][1],u=s[l][2],c=s[l][3],h=r[l],d=c===p&&c===u||p===u?0:(2*c-u-p)/(p-u)*h,i=[n[l],d],0<a&&(i[1]+=b[a-1][1]),b.push(i),A.push(i[0]),j.push(i[1]);return{values:b,xData:A,yData:j}}})}),a(t,"indicators/ao.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var y=t.isArray,g=e.correctFloat,a=e.noop;e.seriesType("ao","sma",{greaterBarColor:"#06B535",lowerBarColor:"#F21313",threshold:0,groupPadding:.2,pointPadding:.2,states:{hover:{halo:{size:0}}}},{nameBase:"AO",nameComponents:!1,markerAttribs:a,getColumnMetrics:e.seriesTypes.column.prototype.getColumnMetrics,crispCol:e.seriesTypes.column.prototype.crispCol,translate:e.seriesTypes.column.prototype.translate,drawPoints:e.seriesTypes.column.prototype.drawPoints,drawGraph:function(){var e,t=this.options,a=this.points,o=this.userOptions.color,i=t.greaterBarColor,n=t.lowerBarColor,s=a[0];if(!o&&s)for(s.color=i,e=1;e<a.length;e++)a[e].y>a[e-1].y?a[e].color=i:a[e].y<a[e-1].y?a[e].color=n:a[e].color=a[e-1].color},getValues:function(e){var t,a,o,i,n,s,r=e.xData||[],l=e.yData||[],p=l.length,u=[],c=[],h=[],d=0,m=0;if(r.length<=34||!y(l[0])||4!==l[0].length)return!1;for(n=0;n<33;n++)i=(l[n][1]+l[n][2])/2,29<=n&&(d=g(d+i)),m=g(m+i);for(s=33;s<p;s++)i=(l[s][1]+l[s][2])/2,d=g(d+i),m=g(m+i),t=g(d/5-m/34),u.push([r[s],t]),c.push(r[s]),h.push(t),o=s+1-34,d=g(d-(l[a=s+1-5][1]+l[a][2])/2),m=g(m-(l[o][1]+l[o][2])/2);return{values:u,xData:c,yData:h}}})}),a(t,"mixins/multipe-lines.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var c=t.defined,h=e.each,d=e.merge,m=e.error,y=e.seriesTypes.sma;return{pointArrayMap:["top","bottom"],pointValKey:"top",linesApiNames:["bottomLine"],getTranslatedLinesNames:function(t){var a=[];return h(this.pointArrayMap,function(e){e!==t&&a.push("plot"+e.charAt(0).toUpperCase()+e.slice(1))}),a},toYData:function(t){var a=[];return h(this.pointArrayMap,function(e){a.push(t[e])}),a},translate:function(){var o,i=this,e=i.pointArrayMap,n=i.getTranslatedLinesNames();y.prototype.translate.apply(i,arguments),h(i.points,function(a){h(e,function(e,t){null!==(o=a[e])&&(a[n[t]]=i.yAxis.toPixels(o,!0))})})},drawGraph:function(){var a,o=this,e=o.pointValKey,t=o.linesApiNames,i=o.points,n=i.length,s=o.options,r=o.graph,l={options:{gapSize:s.gapSize}},p=[],u=o.getTranslatedLinesNames(e);h(u,function(e,t){for(p[t]=[];n--;)a=i[n],p[t].push({x:a.x,plotX:a.plotX,plotY:a[e],isNull:!c(a[e])});n=i.length}),h(t,function(e,t){p[t]?(o.points=p[t],s[e]?o.options=d(s[e].styles,l):m('Error: "There is no '+e+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names." at mixin/multiple-line.js:34'),o.graph=o["graph"+e],y.prototype.drawGraph.call(o),o["graph"+e]=o.graph):m('Error: "'+e+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")}),o.points=i,o.options=s,o.graph=r,y.prototype.drawGraph.call(o)}}}),a(t,"indicators/aroon.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/multipe-lines.js"]],function(e,t,a){var m=t.pick;function y(e,t){for(var a=e[0],o=0,i=1;i<e.length;i++)("max"===t&&e[i]>=a||"min"===t&&e[i]<=a)&&(a=e[i],o=i);return o}e.seriesType("aroon","sma",{params:{period:25},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Aroon Up: {point.y}<br/>Aroon Down: {point.aroonDown}<br/>'},aroonDown:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}},e.merge(a,{nameBase:"Aroon",pointArrayMap:["y","aroonDown"],pointValKey:"y",linesApiNames:["aroonDown"],getValues:function(e,t){for(var a,o,i,n,s=t.period,r=e.xData,l=e.yData,p=l?l.length:0,u=[],c=[],h=[],d=s-1;d<p;d++)n=y((a=l.slice(d-s+1,d+2)).map(function(e){return m(e[2],e)}),"min"),o=y(a.map(function(e){return m(e[1],e)}),"max")/s*100,i=n/s*100,r[d+1]&&(u.push([r[d+1],o,i]),c.push(r[d+1]),h.push([o,i]));return{values:u,xData:c,yData:h}}}))}),a(t,"indicators/aroon-oscillator.src.js",[t["parts/Globals.js"],t["mixins/multipe-lines.js"],t["mixins/indicator-required.js"]],function(e,t,a){var l=e.seriesTypes.aroon,o=a;e.seriesType("aroonoscillator","aroon",{params:{period:25},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b>: {point.y}'}},e.merge(t,{nameBase:"Aroon Oscillator",pointArrayMap:["y"],pointValKey:"y",linesApiNames:[],init:function(){var t=arguments,a=this;o.isParentLoaded(l,"aroon",a.type,function(e){e.prototype.init.apply(a,t)})},getValues:function(e,t){for(var a,o=[],i=[],n=[],s=l.prototype.getValues.call(this,e,t),r=0;r<s.yData.length;r++)a=s.yData[r][0]-s.yData[r][1],o.push([s.xData[r],a]),i.push(s.xData[r]),n.push(a);return{values:o,xData:i,yData:n}}}))}),a(t,"indicators/atr.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var r,S=t.isArray;function T(e,t){var a=e,o=t,i=a[1]-a[2],n=o===r?0:Math.abs(a[1]-o[3]),s=o===r?0:Math.abs(a[2]-o[3]);return Math.max(i,n,s)}(0,e.seriesType)("atr","sma",{params:{period:14}},{getValues:function(e,t){var a,o,i,n,s,r,l,p,u,c,h,d=t.period,m=e.xData,y=e.yData,g=y?y.length:0,f=1,v=0,D=0,x=[],b=[],A=[],j=[[m[0],y[0]]];if(m.length<=d||!S(y[0])||4!==y[0].length)return!1;for(o=1;o<=g;o++)l=j,p=y,0,c=m[u=o],h=p[u],l.push([c,h]),d<f?(i=y,s=d,r=v,v=(a=[m[(n=o)-1],(r*(s-1)+T(i[n-1],i[n-2]))/s])[1],x.push(a),b.push(a[0]),A.push(a[1])):(d===f?(v=D/(o-1),x.push([m[o-1],v]),b.push(m[o-1]),A.push(v)):D+=T(y[o-1],y[o-2]),f++);return{values:x,xData:b,yData:A}}})}),a(t,"indicators/bollinger-bands.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/multipe-lines.js"]],function(e,t,a){var x=t.isArray,o=e.merge,b=e.seriesTypes.sma;function A(e,t,a,o){for(var i,n=0,s=e.length,r=0;r<s;r++)n+=(i=(a?e[r][t]:e[r])-o)*i;return n/=s-1,Math.sqrt(n)}e.seriesType("bb","sma",{params:{period:20,standardDeviation:2,index:3},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"}},e.merge(a,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameComponents:["period","standardDeviation"],linesApiNames:["topLine","bottomLine"],init:function(){b.prototype.init.apply(this,arguments),this.options=o({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(e,t){var a,o,i,n,s,r,l,p,u,c,h=t.period,d=t.standardDeviation,m=e.xData,y=e.yData,g=y?y.length:0,f=[],v=[],D=[];if(m.length<h)return!1;for(p=x(y[0]),c=h;c<=g;c++)s=m.slice(c-h,c),r=y.slice(c-h,c),n=(u=b.prototype.getValues.call(this,{xData:s,yData:r},t)).xData[0],o=(a=u.yData[0])+d*(l=A(r,t.index,p,a)),i=a-d*l,f.push([n,o,a,i]),v.push(n),D.push([o,a,i]);return{values:f,xData:v,yData:D}}}))}),a(t,"indicators/cci.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var v=t.isArray;function D(e,t){for(var a=e.length,o=0,i=0;i<a;i++)o+=Math.abs(t-e[i]);return o}(0,e.seriesType)("cci","sma",{params:{period:14}},{getValues:function(e,t){var a,o,i,n,s,r,l=t.period,p=e.xData,u=e.yData,c=u?u.length:0,h=[],d=[],m=1,y=[],g=[],f=[];if(p.length<=l||!v(u[0])||4!==u[0].length)return!1;for(;m<l;)o=u[m-1],h.push((o[1]+o[2]+o[3])/3),m++;for(r=l;r<=c;r++)s=((o=u[r-1])[1]+o[2]+o[3])/3,i=h.push(s),d=h.slice(i-l),a=(s-(n=d.reduce(function(e,t){return e+t},0)/l))/(.015*(D(d,n)/l)),y.push([p[r-1],a]),g.push(p[r-1]),f.push(a);return{values:y,xData:g,yData:f}}})}),a(t,"indicators/cmf.src.js",[t["parts/Globals.js"]],function(e){e.seriesType("cmf","sma",{params:{period:14,volumeSeriesID:"volume"}},{nameBase:"Chaikin Money Flow",isValid:function(){var e=this.chart,t=this.options,a=this.linkedParent,o=this.volumeSeries||(this.volumeSeries=e.get(t.params.volumeSeriesID)),i=a&&a.yData&&4===a.yData[0].length;function n(e){return e.xData&&e.xData.length>=t.params.period}return!!(a&&o&&n(a)&&n(o)&&i)},getValues:function(e,t){return!!this.isValid()&&this.getMoneyFlow(e.xData,e.yData,this.volumeSeries.yData,t.period)},getMoneyFlow:function(e,t,a,o){var l,i,n=t.length,s=[],r=0,p=0,u=[],c=[],h=[],d=-1;function m(e,t){var a,o,i,n=e[1],s=e[2],r=e[3];return null!==t&&null!==n&&null!==s&&null!==r&&n!==s?((i=r)-(o=s)-((a=n)-i))/(a-o)*t:(d=l,null)}if(0<o&&o<=n){for(l=0;l<o;l++)s[l]=m(t[l],a[l]),r+=a[l],p+=s[l];for(u.push(e[l-1]),c.push(o<=l-d&&0!==r?p/r:null),h.push([u[0],c[0]]);l<n;l++)s[l]=m(t[l],a[l]),r-=a[l-o],r+=a[l],p-=s[l-o],p+=s[l],i=[e[l],o<=l-d?p/r:null],u.push(i[0]),c.push(i[1]),h.push([i[0],i[1]])}return{values:h,xData:u,yData:c}}})}),a(t,"indicators/dpo.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var g=t.pick,s=e.correctFloat;function f(e,t,a,o,i){var n=g(t[a][o],t[a]);return s(i?e-n:e+n)}e.seriesType("dpo","sma",{params:{period:21}},{nameBase:"DPO",getValues:function(e,t){var a,o,i,n,s=t.period,r=t.index,l=s+Math.floor(s/2+1),p=e.xData||[],u=e.yData||[],c=u.length,h=[],d=[],m=[],y=0;if(p.length<=l)return!1;for(i=0;i<s-1;i++)y=f(y,u,i,r);for(n=0;n<=c-l;n++)o=n+l-1,y=f(y,u,n+s-1,r),a=g(u[o][r],u[o])-y/s,y=f(y,u,n,r,!0),h.push([p[o],a]),d.push(p[o]),m.push(a);return{values:h,xData:d,yData:m}}})}),a(t,"indicators/ema.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var y=t.isArray,a=e.seriesType,p=e.correctFloat;a("ema","sma",{params:{index:3,period:9}},{accumulatePeriodPoints:function(e,t,a){for(var o=0,i=0;i<e;)o+=t<0?a[i]:a[i][t],i++;return o},calculateEma:function(e,t,a,o,i,n,s){var r=e[a-1],l=n<0?t[a-1]:t[a-1][n];return[r,void 0===i?s:p(l*o+i*(1-o))]},getValues:function(e,t){var a,o,i,n,s=t.period,r=e.xData,l=e.yData,p=l?l.length:0,u=2/(s+1),c=[],h=[],d=[],m=-1;if(p<s)return!1;for(y(l[0])&&(m=t.index?t.index:0),a=this.accumulatePeriodPoints(s,m,l)/s,n=s;n<p+1;n++)i=this.calculateEma(r,l,n,u,o,m,a),c.push(i),h.push(i[0]),d.push(i[1]),o=i[1];return{values:c,xData:h,yData:d}}})}),a(t,"indicators/chaikin.src.js",[t["parts/Globals.js"],t["mixins/indicator-required.js"]],function(e,t){var d=e.seriesTypes.ema,m=e.seriesTypes.ad,y=e.error,g=e.correctFloat,o=t;e.seriesType("chaikin","ema",{params:{volumeSeriesID:"volume",periods:[3,10]}},{nameBase:"Chaikin Osc",nameComponents:["periods"],init:function(){var t=arguments,a=this;o.isParentLoaded(d,"ema",a.type,function(e){e.prototype.init.apply(a,t)})},getValues:function(e,t){var a,o,i,n,s,r,l=t.periods,p=t.period,u=[],c=[],h=[];if(2!==l.length||l[1]<=l[0])return y('Error: "Chaikin requires two periods. Notice, first period should be lower than the second one."'),!1;if(!(a=m.prototype.getValues.call(this,e,{volumeSeriesID:t.volumeSeriesID,period:p})))return!1;if(i=d.prototype.getValues.call(this,a,{period:l[0]}),n=d.prototype.getValues.call(this,a,{period:l[1]}),!i||!n)return!1;for(o=l[1]-l[0],r=0;r<n.yData.length;r++)s=g(i.yData[r+o]-n.yData[r]),u.push([n.xData[r],s]),c.push(n.xData[r]),h.push(s);return{values:u,xData:c,yData:h}}})}),a(t,"indicators/dema.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/indicator-required.js"]],function(e,t,a){var x=t.isArray,b=e.seriesTypes.ema,o=a,A=e.correctFloat;e.seriesType("dema","ema",{},{init:function(){var t=arguments,a=this;o.isParentLoaded(b,"ema",a.type,function(e){e.prototype.init.apply(a,t)})},getEMA:function(e,t,a,o,i,n){return b.prototype.calculateEma(n||[],e,void 0===i?1:i,this.chart.series[0].EMApercent,t,void 0===o?-1:o,a)},getValues:function(e,t){var a,o,i,n,s,r=t.period,l=2*r,p=e.xData,u=e.yData,c=u?u.length:0,h=-1,d=0,m=0,y=[],g=[],f=[],v=0,D=[];if(e.EMApercent=2/(r+1),c<2*r-1)return!1;for(x(u[0])&&(h=t.index?t.index:0),m=(d=b.prototype.accumulatePeriodPoints(r,h,u))/r,d=0,n=r;n<c+2;n++)n<c+1&&(v=this.getEMA(u,o,m,h,n)[1],D.push(v)),o=v,n<l?d+=v:(n===l&&(m=d/r),v=D[n-r-1],a=this.getEMA([v],i,m)[1],s=[p[n-2],A(2*v-a)],y.push(s),g.push(s[0]),f.push(s[1]),i=a);return{values:y,xData:g,yData:f}}})}),a(t,"indicators/tema.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/indicator-required.js"]],function(e,t,a){var b=t.isArray,A=e.seriesTypes.ema,o=a,i=e.correctFloat;e.seriesType("tema","ema",{},{init:function(){var t=arguments,a=this;o.isParentLoaded(A,"ema",a.type,function(e){e.prototype.init.apply(a,t)})},getEMA:function(e,t,a,o,i,n){return A.prototype.calculateEma(n||[],e,void 0===i?1:i,this.chart.series[0].EMApercent,t,void 0===o?-1:o,a)},getTemaPoint:function(e,t,a,o){return[e[o-3],i(3*a.level1-3*a.level2+a.level3)]},getValues:function(e,t){var a,o,i,n,s=t.period,r=2*s,l=3*s,p=e.xData,u=e.yData,c=u?u.length:0,h=-1,d=0,m=0,y=[],g=[],f=[],v=[],D=[],x={};if(e.EMApercent=2/(s+1),c<3*s-2)return!1;for(b(u[0])&&(h=t.index?t.index:0),m=(d=A.prototype.accumulatePeriodPoints(s,h,u))/s,d=0,i=s;i<c+3;i++)i<c+1&&(x.level1=this.getEMA(u,a,m,h,i)[1],v.push(x.level1)),a=x.level1,i<r?d+=x.level1:(i===r&&(m=d/s,d=0),x.level1=v[i-s-1],x.level2=this.getEMA([x.level1],o,m)[1],D.push(x.level2),o=x.level2,i<l?d+=x.level2:(i===l&&(m=d/s),i===c+1&&(x.level1=v[i-s-1],x.level2=this.getEMA([x.level1],o,m)[1],D.push(x.level2)),x.level1=v[i-s-2],x.level2=D[i-2*s-1],x.level3=this.getEMA([x.level2],x.prevLevel3,m)[1],(n=this.getTemaPoint(p,l,x,i))&&(y.push(n),g.push(n[0]),f.push(n[1])),x.prevLevel3=x.level3));return{values:y,xData:g,yData:f}}})}),a(t,"indicators/trix.src.js",[t["parts/Globals.js"],t["mixins/indicator-required.js"]],function(e,o){var n=e.correctFloat,i=e.seriesTypes.tema;e.seriesType("trix","tema",{},{init:function(){var t=arguments,a=this;o.isParentLoaded(i,"tema",a.type,function(e){e.prototype.init.apply(a,t)})},getTemaPoint:function(e,t,a,o){var i;return t<o&&(i=[e[o-3],0!==a.prevLevel3?n(a.level3-a.prevLevel3)/a.prevLevel3*100:null]),i}})}),a(t,"indicators/apo.src.js",[t["parts/Globals.js"],t["mixins/indicator-required.js"]],function(e,t){var h=e.seriesTypes.ema,d=e.error,o=t;e.seriesType("apo","ema",{params:{periods:[10,20]}},{nameBase:"APO",nameComponents:["periods"],init:function(){var t=arguments,a=this;o.isParentLoaded(h,"ema",a.type,function(e){e.prototype.init.apply(a,t)})},getValues:function(e,t){var a,o,i,n,s,r=t.periods,l=t.index,p=[],u=[],c=[];if(2!==r.length||r[1]<=r[0])return d('Error: "APO requires two periods. Notice, first period should be lower than the second one."'),!1;if(o=h.prototype.getValues.call(this,e,{index:l,period:r[0]}),i=h.prototype.getValues.call(this,e,{index:l,period:r[1]}),!o||!i)return!1;for(a=r[1]-r[0],s=0;s<i.yData.length;s++)n=o.yData[s+a]-i.yData[s],p.push([i.xData[s],n]),u.push(i.xData[s]),c.push(n);return{values:p,xData:u,yData:c}}})}),a(t,"indicators/ichimoku-kinko-hyo.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(i,e){var L,w=e.defined,k=e.isArray,B=e.objectEach,t=i.seriesType,N=i.merge,a=i.color,I=i.seriesTypes.sma;function V(e){return{high:e.reduce(function(e,t){return Math.max(e,t[1])},-1/0),low:e.reduce(function(e,t){return Math.min(e,t[2])},1/0)}}function z(e,t,a,o){if(e&&t&&a&&o){var i=t.plotX-e.plotX,n=t.plotY-e.plotY,s=o.plotX-a.plotX,r=o.plotY-a.plotY,l=e.plotX-a.plotX,p=e.plotY-a.plotY,u=(-n*l+i*p)/(-s*n+i*r),c=(s*p-r*l)/(-s*n+i*r);if(0<=u&&u<=1&&0<=c&&c<=1)return{plotX:e.plotX+c*i,plotY:e.plotY+c*n}}return!1}function Y(e){var t=e.indicator;t.points=e.points,t.nextPoints=e.nextPoints,t.color=e.color,t.options=N(e.options.senkouSpan.styles,e.gap),t.graph=e.graph,t.fillGraph=!0,I.prototype.drawGraph.call(t)}t("ikh","sma",{params:{period:26,periodTenkan:9,periodSenkouSpanB:52},marker:{enabled:!(i.approximations["ichimoku-averages"]=function(){var a,o=[];return[].forEach.call(arguments,function(e,t){o.push(i.approximations.average(e)),a=!a&&void 0===o[t]}),a?void 0:o})},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>TENKAN SEN: {point.tenkanSen:.3f}<br/>KIJUN SEN: {point.kijunSen:.3f}<br/>CHIKOU SPAN: {point.chikouSpan:.3f}<br/>SENKOU SPAN A: {point.senkouSpanA:.3f}<br/>SENKOU SPAN B: {point.senkouSpanB:.3f}<br/>'},tenkanLine:{styles:{lineWidth:1,lineColor:void 0}},kijunLine:{styles:{lineWidth:1,lineColor:void 0}},chikouLine:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanA:{styles:{lineWidth:1,lineColor:void 0}},senkouSpanB:{styles:{lineWidth:1,lineColor:void 0}},senkouSpan:{styles:{fill:"rgba(255, 0, 0, 0.5)"}},dataGrouping:{approximation:"ichimoku-averages"}},{pointArrayMap:["tenkanSen","kijunSen","chikouSpan","senkouSpanA","senkouSpanB"],pointValKey:"tenkanSen",nameComponents:["periodSenkouSpanB","period","periodTenkan"],init:function(){I.prototype.init.apply(this,arguments),this.options=N({tenkanLine:{styles:{lineColor:this.color}},kijunLine:{styles:{lineColor:this.color}},chikouLine:{styles:{lineColor:this.color}},senkouSpanA:{styles:{lineColor:this.color,fill:a(this.color).setOpacity(.5).get()}},senkouSpanB:{styles:{lineColor:this.color,fill:a(this.color).setOpacity(.5).get()}},senkouSpan:{styles:{fill:a(this.color).setOpacity(.2).get()}}},this.options)},toYData:function(e){return[e.tenkanSen,e.kijunSen,e.chikouSpan,e.senkouSpanA,e.senkouSpanB]},translate:function(){var a=this;I.prototype.translate.apply(a),a.points.forEach(function(t){a.pointArrayMap.forEach(function(e){w(t[e])&&(t["plot"+e]=a.yAxis.toPixels(t[e],!0),t.plotY=t["plot"+e],t.tooltipPos=[t.plotX,t["plot"+e]],t.isNull=!1)})})},drawGraph:function(){var e,t,a,o,i,n,s,r,l,p,u,c,h,d,m,y,g=this,f=g.points,v=f.length,D=g.options,x=g.graph,b=g.color,A={options:{gapSize:D.gapSize}},j=g.pointArrayMap.length,S=[[],[],[],[],[],[]],T={tenkanLine:S[0],kijunLine:S[1],chikouLine:S[2],senkouSpanA:S[3],senkouSpanB:S[4],senkouSpan:S[5]},P=[],C=g.options.senkouSpan,L=C.color||C.styles.fill,k=C.negativeColor,V=[[],[]],M=[[],[]],G=0;for(g.ikhMap=T;v--;){for(t=f[v],a=0;a<j;a++)e=g.pointArrayMap[a],w(t[e])&&S[a].push({plotX:t.plotX,plotY:t["plot"+e],isNull:!1});k&&v!==f.length-1&&(d=T.senkouSpanB.length-1,y={plotX:(m=z(T.senkouSpanA[d-1],T.senkouSpanA[d],T.senkouSpanB[d-1],T.senkouSpanB[d])).plotX,plotY:m.plotY,isNull:!1,intersectPoint:!0},m&&(T.senkouSpanA.splice(d,0,y),T.senkouSpanB.splice(d,0,y),P.push(d)))}if(B(T,function(e,t){D[t]&&"senkouSpan"!==t&&(g.points=S[G],g.options=N(D[t].styles,A),g.graph=g["graph"+t],g.fillGraph=!1,g.color=b,I.prototype.drawGraph.call(g),g["graph"+t]=g.graph),G++}),g.graphCollection&&g.graphCollection.forEach(function(e){g[e].destroy(),delete g[e]}),g.graphCollection=[],k&&T.senkouSpanA[0]&&T.senkouSpanB[0]){for(P.unshift(0),P.push(T.senkouSpanA.length-1),c=0;c<P.length-1;c++)if(o=P[c],i=P[c+1],n=T.senkouSpanB.slice(o,i+1),s=T.senkouSpanA.slice(o,i+1),1<=Math.floor(n.length/2)){var E=Math.floor(n.length/2);if(n[E].plotY===s[E].plotY){for(h=l=r=0;h<n.length;h++)r+=n[h].plotY,l+=s[h].plotY;V[u=l<r?0:1]=V[u].concat(n),M[u]=M[u].concat(s)}else u=n[E].plotY>s[E].plotY?0:1,V[u]=V[u].concat(n),M[u]=M[u].concat(s)}else u=n[0].plotY>s[0].plotY?0:1,V[u]=V[u].concat(n),M[u]=M[u].concat(s);["graphsenkouSpanColor","graphsenkouSpanNegativeColor"].forEach(function(e,t){V[t].length&&M[t].length&&(p=0===t?L:k,Y({indicator:g,points:V[t],nextPoints:M[t],color:p,options:D,gap:A,graph:g[e]}),g[e]=g.graph,g.graphCollection.push(e))})}else Y({indicator:g,points:T.senkouSpanB,nextPoints:T.senkouSpanA,color:L,options:D,gap:A,graph:g.graphsenkouSpan}),g.graphsenkouSpan=g.graph;delete g.nextPoints,delete g.fillGraph,g.points=f,g.options=D,g.graph=x},getGraphPath:function(e){var t,a=this,o=[],i=[],n=[];if(e=e||this.points,a.fillGraph&&a.nextPoints){(t=I.prototype.getGraphPath.call(a,a.nextPoints))[0]="L",o=I.prototype.getGraphPath.call(a,e);for(var s=(n=t.slice(0,o.length)).length-1;0<s;s-=3)i.push(n[s-2],n[s-1],n[s]);o=o.concat(i)}else o=I.prototype.getGraphPath.apply(a,arguments);return o},getValues:function(e,t){var a,o,i,n,s,r,l,p,u,c,h,d,m,y,g,f,v=t.period,D=t.periodTenkan,x=t.periodSenkouSpanB,b=e.xData,A=e.yData,j=e.xAxis,S=A&&A.length||0,T=(j.series.forEach(function(e){if(e.xData)for(g=e.xData,m=e.xIncrement?1:g.length-1,f=m;0<f;f--)y=g[f]-g[f-1],(d===L||y<d)&&(d=y)}),d),P=[],C=[];if(b.length<=v||!k(A[0])||4!==A[0].length)return!1;for(a=b[0]-v*T,r=0;r<v;r++)C.push(a+r*T);for(r=0;r<S;r++)D<=r&&(l=((i=V(A.slice(r-D,r))).high+i.low)/2),v<=r&&(c=(l+(p=((n=V(A.slice(r-v,r))).high+n.low)/2))/2),x<=r&&(h=((s=V(A.slice(r-x,r))).high+s.low)/2),u=A[r][3],o=b[r],P[r]===L&&(P[r]=[]),P[r+v]===L&&(P[r+v]=[]),P[r+v][0]=l,P[r+v][1]=p,P[r+v][2]=L,P[r][2]=u,r<=v&&(P[r+v][3]=L,P[r+v][4]=L),P[r+2*v]===L&&(P[r+2*v]=[]),P[r+2*v][3]=c,P[r+2*v][4]=h,C.push(o);for(r=1;r<=v;r++)C.push(o+r*T);return{values:P,xData:C,yData:P}}})}),a(t,"indicators/keltner-channels.src.js",[t["parts/Globals.js"],t["mixins/multipe-lines.js"]],function(e,t){var a=e.seriesTypes.sma,x=e.seriesTypes.ema,b=e.seriesTypes.atr,o=e.merge,A=e.correctFloat;e.seriesType("keltnerchannels","sma",{params:{period:20,periodATR:10,multiplierATR:2},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Upper Channel: {point.top}<br/>EMA({series.options.params.period}): {point.middle}<br/>Lower Channel: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"},lineWidth:1},o(t,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameBase:"Keltner Channels",nameComponents:["period","periodATR","multiplierATR"],linesApiNames:["topLine","bottomLine"],requiredIndicators:["ema","atr"],init:function(){a.prototype.init.apply(this,arguments),this.options=o({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(e,t){var a,o,i,n,s,r,l,p=t.period,u=t.periodATR,c=t.multiplierATR,h=t.index,d=e.yData,m=d?d.length:0,y=[],g=x.prototype.getValues(e,{period:p,index:h}),f=b.prototype.getValues(e,{period:u}),v=[],D=[];if(m<p)return!1;for(l=p;l<=m;l++)s=g.values[l-p],r=f.values[l-u],n=s[0],o=A(s[1]+c*r[1]),i=A(s[1]-c*r[1]),a=s[1],y.push([n,o,a,i]),v.push(n),D.push([o,a,i]);return{values:y,xData:v,yData:D}}}))}),a(t,"indicators/macd.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var u=t.defined,a=e.seriesType,o=e.noop,l=e.merge,p=e.seriesTypes.sma,c=e.seriesTypes.ema,h=e.correctFloat;a("macd","sma",{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},dataGrouping:{approximation:"averages"},minPointLength:0},{nameComponents:["longPeriod","shortPeriod","signalPeriod"],requiredIndicators:["ema"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:o,getColumnMetrics:e.seriesTypes.column.prototype.getColumnMetrics,crispCol:e.seriesTypes.column.prototype.crispCol,init:function(){p.prototype.init.apply(this,arguments),this.options&&(this.options=l({signalLine:{styles:{lineColor:this.color}},macdLine:{styles:{color:this.color}}},this.options),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length},this.resetZones=!0)},toYData:function(e){return[e.y,e.signal,e.MACD]},translate:function(){var o=this,i=["plotSignal","plotMACD"];e.seriesTypes.column.prototype.translate.apply(o),o.points.forEach(function(a){[a.signal,a.MACD].forEach(function(e,t){null!==e&&(a[i[t]]=o.yAxis.toPixels(e,!0))})})},destroy:function(){this.graph=null,this.graphmacd=this.graphmacd&&this.graphmacd.destroy(),this.graphsignal=this.graphsignal&&this.graphsignal.destroy(),p.prototype.destroy.apply(this,arguments)},drawPoints:e.seriesTypes.column.prototype.drawPoints,drawGraph:function(){for(var e,a=this,t=a.points,o=t.length,i=a.options,n=a.zones,s={options:{gapSize:i.gapSize}},r=[[],[]];o--;)e=t[o],u(e.plotMACD)&&r[0].push({plotX:e.plotX,plotY:e.plotMACD,isNull:!u(e.plotMACD)}),u(e.plotSignal)&&r[1].push({plotX:e.plotX,plotY:e.plotSignal,isNull:!u(e.plotMACD)});["macd","signal"].forEach(function(e,t){a.points=r[t],a.options=l(i[e+"Line"].styles,s),a.graph=a["graph"+e],a.currentLineZone=e+"Zones",a.zones=a[a.currentLineZone].zones,p.prototype.drawGraph.call(a),a["graph"+e]=a.graph}),a.points=t,a.options=i,a.zones=n,a.currentLineZone=null},getZonesGraphs:function(e){var t=p.prototype.getZonesGraphs.call(this,e),a=t;return this.currentLineZone&&((a=t.splice(this[this.currentLineZone].startIndex+1)).length?a.splice(0,0,e[0]):a=[e[0]]),a},applyZones:function(){var e=this.zones;this.zones=this.signalZones.zones,p.prototype.applyZones.call(this),this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide(),this.zones=e},getValues:function(e,t){var a,o,i,n=0,s=[],r=[],l=[],p=[];if(e.xData.length<t.longPeriod+t.signalPeriod)return!1;for(a=c.prototype.getValues(e,{period:t.shortPeriod}),o=c.prototype.getValues(e,{period:t.longPeriod}),a=a.values,o=o.values,i=1;i<=a.length;i++)u(o[i-1])&&u(o[i-1][1])&&u(a[i+t.shortPeriod+1])&&u(a[i+t.shortPeriod+1][0])&&s.push([a[i+t.shortPeriod+1][0],0,null,a[i+t.shortPeriod+1][1]-o[i-1][1]]);for(i=0;i<s.length;i++)r.push(s[i][0]),l.push([0,null,s[i][3]]);for(p=(p=c.prototype.getValues({xData:r,yData:l},{period:t.signalPeriod,index:2})).values,i=0;i<s.length;i++)s[i][0]>=p[0][0]&&(s[i][2]=p[n][1],l[i]=[0,p[n][1],s[i][3]],null===s[i][3]?(s[i][1]=0,l[i][0]=0):(s[i][1]=h(s[i][3]-p[n][1]),l[i][0]=h(s[i][3]-p[n][1])),n++);return{values:s,xData:r,yData:l}}})}),a(t,"indicators/mfi.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(A,e){var j=e.isArray;function S(e){return e.reduce(function(e,t){return e+t})}function T(e){return(e[1]+e[2]+e[3])/3}A.seriesType("mfi","sma",{params:{period:14,volumeSeriesID:"volume",decimals:4}},{nameBase:"Money Flow Index",getValues:function(e,t){var a,o,i,n,s,r,l=t.period,p=e.xData,u=e.yData,c=u?u.length:0,h=t.decimals,d=1,m=e.chart.get(t.volumeSeriesID),y=m&&m.yData,g=[],f=!1,v=[],D=[],x=[],b=[];if(!m)return A.error("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,e.chart);if(p.length<=l||!j(u[0])||4!==u[0].length||!y)return!1;for(a=T(u[d]);d<l+1;)f=a<=(a=T(u[d])),o=a*y[d],x.push(f?o:0),b.push(f?0:o),d++;for(r=d-1;r<c;r++)d-1<r&&(x.shift(),b.shift(),f=a<(a=T(u[r])),o=a*y[r],x.push(f?o:0),b.push(f?0:o)),i=S(b),n=S(x),s=parseFloat((100-100/(1+n/i)).toFixed(h)),g.push([p[r],s]),v.push(p[r]),D.push(s);return{values:g,xData:v,yData:D}}})}),a(t,"indicators/momentum.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var d=t.isArray;function m(e,t,a,o,i){var n=a[o-1][3]-a[o-i-1][3],s=t[o-1];return e.shift(),[s,n]}(0,e.seriesType)("momentum","sma",{params:{period:14}},{nameBase:"Momentum",getValues:function(e,t){var a,o,i,n=t.period,s=e.xData,r=e.yData,l=r?r.length:0,p=s[0],u=(r[0],[]),c=[],h=[];if(s.length<=n)return!1;if(!d(r[0]))return!1;for(o=[[p,r[0][3]]],a=n+1;a<l;a++)i=m(o,s,r,a,n),u.push(i),c.push(i[0]),h.push(i[1]);return i=m(o,s,r,a,n),u.push(i),c.push(i[0]),h.push(i[1]),{values:u,xData:c,yData:h}}})}),a(t,"indicators/natr.src.js",[t["parts/Globals.js"]],function(e){var r=e.seriesTypes.atr;e.seriesType("natr","sma",{tooltip:{valueSuffix:"%"}},{requiredIndicators:["atr"],getValues:function(e,t){for(var a=r.prototype.getValues.apply(this,arguments),o=a.values.length,i=t.period-1,n=e.yData,s=0;s<o;s++)a.yData[s]=a.values[s][1]/n[i][3]*100,a.values[s][1]=a.yData[s],i++;return a}})}),a(t,"indicators/pivot-points.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var u=t.defined,f=t.isArray,c=e.seriesTypes.sma;function a(e,t){var a,o=e.series.pointArrayMap,i=o.length;for(c.prototype.pointClass.prototype[t].call(e);i--;)e[a="dataLabel"+o[i]]&&e[a].element&&e[a].destroy(),e[a]=null}e.seriesType("pivotpoints","sma",{params:{period:28,algorithm:"standard"},marker:{enabled:!1},enableMouseTracking:!1,dataLabels:{enabled:!0,format:"{point.pivotLine}"},dataGrouping:{approximation:"averages"}},{nameBase:"Pivot Points",pointArrayMap:["R4","R3","R2","R1","P","S1","S2","S3","S4"],pointValKey:"P",toYData:function(e){return[e.P]},translate:function(){var a=this;c.prototype.translate.apply(a),a.points.forEach(function(t){a.pointArrayMap.forEach(function(e){u(t[e])&&(t["plot"+e]=a.yAxis.toPixels(t[e],!0))})}),a.plotEndPoint=a.xAxis.toPixels(a.endPoint,!0)},getGraphPath:function(e){for(var t,a,o,i=this,n=e.length,s=[[],[],[],[],[],[],[],[],[]],r=[],l=i.plotEndPoint,p=i.pointArrayMap.length;n--;){for(a=e[n],o=0;o<p;o++)t=i.pointArrayMap[o],u(a[t])&&s[o].push({plotX:a.plotX,plotY:a["plot"+t],isNull:!1},{plotX:l,plotY:a["plot"+t],isNull:!1},{plotX:l,plotY:null,isNull:!0});l=a.plotX}return s.forEach(function(e){r=r.concat(c.prototype.getGraphPath.call(i,e))}),r},drawDataLabels:function(){var a,o,i,n,s=this,r=s.pointArrayMap;s.options.dataLabels.enabled&&(o=s.points.length,r.concat([!1]).forEach(function(e,t){for(n=o;n--;)i=s.points[n],e?(i.y=i[e],i.pivotLine=e,i.plotY=i["plot"+e],a=i["dataLabel"+e],t&&(i["dataLabel"+r[t-1]]=i.dataLabel),i.dataLabels||(i.dataLabels=[]),i.dataLabels[0]=i.dataLabel=a=a&&a.element?a:null):i["dataLabel"+r[t-1]]=i.dataLabel;c.prototype.drawDataLabels.apply(s,arguments)}))},getValues:function(e,t){var a,o,i,n,s,r,l,p=t.period,u=e.xData,c=e.yData,h=c?c.length:0,d=this[t.algorithm+"Placement"],m=[],y=[],g=[];if(u.length<p||!f(c[0])||4!==c[0].length)return!1;for(l=p+1;l<=h+p;l+=p)i=u.slice(l-p-1,l),n=c.slice(l-p-1,l),a=i[(o=i.length)-1],r=d(this.getPivotAndHLC(n)),s=m.push([a].concat(r)),y.push(a),g.push(m[s-1].slice(1));return this.endPoint=i[0]+(a-i[0])/o*p,{values:m,xData:y,yData:g}},getPivotAndHLC:function(e){var t=-1/0,a=1/0,o=e[e.length-1][3];return e.forEach(function(e){t=Math.max(t,e[1]),a=Math.min(a,e[2])}),[(t+a+o)/3,t,a,o]},standardPlacement:function(e){var t=e[1]-e[2];return[null,null,e[0]+t,2*e[0]-e[2],e[0],2*e[0]-e[1],e[0]-t,null,null]},camarillaPlacement:function(e){var t=e[1]-e[2];return[e[3]+1.5*t,e[3]+1.25*t,e[3]+1.1666*t,e[3]+1.0833*t,e[0],e[3]-1.0833*t,e[3]-1.1666*t,e[3]-1.25*t,e[3]-1.5*t]},fibonacciPlacement:function(e){var t=e[1]-e[2];return[null,e[0]+t,e[0]+.618*t,e[0]+.382*t,e[0],e[0]-.382*t,e[0]-.618*t,e[0]-t,null]}},{destroyElements:function(){a(this,"destroyElements")},destroy:function(){a(this,"destroyElements")}})}),a(t,"indicators/ppo.src.js",[t["parts/Globals.js"],t["mixins/indicator-required.js"]],function(e,t){var h=e.seriesTypes.ema,d=e.error,m=e.correctFloat,o=t;e.seriesType("ppo","ema",{params:{periods:[12,26]}},{nameBase:"PPO",nameComponents:["periods"],init:function(){var t=arguments,a=this;o.isParentLoaded(h,"ema",a.type,function(e){e.prototype.init.apply(a,t)})},getValues:function(e,t){var a,o,i,n,s,r=t.periods,l=t.index,p=[],u=[],c=[];if(2!==r.length||r[1]<=r[0])return d('Error: "PPO requires two periods. Notice, first period should be lower than the second one."'),!1;if(o=h.prototype.getValues.call(this,e,{index:l,period:r[0]}),i=h.prototype.getValues.call(this,e,{index:l,period:r[1]}),!o||!i)return!1;for(a=r[1]-r[0],s=0;s<i.yData.length;s++)n=m((o.yData[s+a]-i.yData[s])/i.yData[s]*100),p.push([i.xData[s],n]),u.push(i.xData[s]),c.push(n);return{values:p,xData:u,yData:c}}})}),a(t,"mixins/reduce-array.js",[t["parts/Globals.js"]],function(e){var t=e.reduce;return{minInArray:function(e,a){return t(e,function(e,t){return Math.min(e,t[a])},Number.MAX_VALUE)},maxInArray:function(e,a){return t(e,function(e,t){return Math.max(e,t[a])},-Number.MAX_VALUE)},getArrayExtremes:function(e,a,o){return t(e,function(e,t){return[Math.min(e[0],t[a]),Math.max(e[1],t[o])]},[Number.MAX_VALUE,-Number.MAX_VALUE])}}}),a(t,"indicators/price-channel.src.js",[t["parts/Globals.js"],t["mixins/reduce-array.js"],t["mixins/multipe-lines.js"]],function(e,t,a){var g=t.getArrayExtremes,o=e.merge;e.seriesType("pc","sma",{params:{period:20},lineWidth:1,topLine:{styles:{lineColor:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")[2],lineWidth:1}},bottomLine:{styles:{lineColor:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")[8],lineWidth:1}},dataGrouping:{approximation:"averages"}},o(a,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameBase:"Price Channel",nameComponents:["period"],linesApiNames:["topLine","bottomLine"],getValues:function(e,t){var a,o,i,n,s,r,l,p=t.period,u=e.xData,c=e.yData,h=c?c.length:0,d=[],m=[],y=[];if(h<p)return!1;for(l=p;l<=h;l++)n=u[l-1],s=c.slice(l-p,l),a=((o=(r=g(s,2,1))[1])+(i=r[0]))/2,d.push([n,o,a,i]),m.push(n),y.push([o,a,i]);return{values:d,xData:m,yData:y}}}))}),a(t,"indicators/price-envelopes.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var D=t.isArray,l=e.merge,x=e.seriesTypes.sma;e.seriesType("priceenvelopes","sma",{marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},params:{period:20,topBand:.1,bottomBand:.1},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}},{nameComponents:["period","topBand","bottomBand"],nameBase:"Price envelopes",pointArrayMap:["top","middle","bottom"],parallelArrays:["x","y","top","bottom"],pointValKey:"middle",init:function(){x.prototype.init.apply(this,arguments),this.options=l({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)},toYData:function(e){return[e.top,e.middle,e.bottom]},translate:function(){var o=this,i=["plotTop","plotMiddle","plotBottom"];x.prototype.translate.apply(o),o.points.forEach(function(a){[a.top,a.middle,a.bottom].forEach(function(e,t){null!==e&&(a[i[t]]=o.yAxis.toPixels(e,!0))})})},drawGraph:function(){for(var e,a=this,t=a.points,o=t.length,i=a.options,n=a.graph,s={options:{gapSize:i.gapSize}},r=[[],[]];o--;)e=t[o],r[0].push({plotX:e.plotX,plotY:e.plotTop,isNull:e.isNull}),r[1].push({plotX:e.plotX,plotY:e.plotBottom,isNull:e.isNull});["topLine","bottomLine"].forEach(function(e,t){a.points=r[t],a.options=l(i[e].styles,s),a.graph=a["graph"+e],x.prototype.drawGraph.call(a),a["graph"+e]=a.graph}),a.points=t,a.options=i,a.graph=n,x.prototype.drawGraph.call(a)},getValues:function(e,t){var a,o,i,n,s,r,l,p,u=t.period,c=t.topBand,h=t.bottomBand,d=e.xData,m=e.yData,y=m?m.length:0,g=[],f=[],v=[];if(d.length<u||!D(m[0])||4!==m[0].length)return!1;for(p=u;p<=y;p++)s=d.slice(p-u,p),r=m.slice(p-u,p),n=(l=x.prototype.getValues.call(this,{xData:s,yData:r},t)).xData[0],o=(a=l.yData[0])*(1+c),i=a*(1-h),g.push([n,o,a,i]),f.push(n),v.push([o,a,i]);return{values:g,xData:f,yData:v}}})}),a(t,"indicators/psar.src.js",[t["parts/Globals.js"]],function(e){function _(e,t){return parseFloat(e.toFixed(t))}e.seriesType("psar","sma",{lineWidth:0,marker:{enabled:!0},states:{hover:{lineWidthPlus:0}},params:{initialAccelerationFactor:.02,maxAccelerationFactor:.2,increment:.02,index:2,decimals:4}},{nameComponents:!1,getValues:function(e,t){var a,o,i,n,s,r,l,p,u,c,h,d,m,y,g,f,v,D,x,b,A,j,S,T,P,C,L,k,V,M,G,E,w,B,N=e.xData,I=e.yData,z=I[0][1],Y=t.initialAccelerationFactor,U=t.maxAccelerationFactor,W=t.increment,X=t.initialAccelerationFactor,F=I[0][2],O=t.decimals,Z=t.index,R=[],q=[],K=[],H=1;if(Z>=I.length)return!1;for(d=0;d<Z;d++)z=Math.max(I[d][1],z),F=Math.min(I[d][2],_(F,O));for(a=I[d][1]>F?1:-1,o=z-F,i=(Y=t.initialAccelerationFactor)*o,R.push([N[Z],F]),q.push(N[Z]),K.push(_(F,O)),d=Z+1;d<I.length;d++)s=I[d-1][2],r=I[d-2][2],l=I[d-1][1],p=I[d-2][1],c=I[d][1],h=I[d][2],null!==r&&null!==p&&null!==s&&null!==l&&null!==c&&null!==h&&(k=F,V=i,M=r,G=s,E=l,w=p,B=z,F=(L=a)===H?1===L?k+V<Math.min(M,G)?k+V:Math.min(M,G):k+V>Math.max(w,E)?k+V:Math.max(w,E):B,C=z,A=P=h,j=T=c,S=F,y=u=1===a?C<T?T:C:P<C?P:C,g=z,f=Y,v=W,D=U,x=X,i=(Y=(m=n=1===(b=H)&&S<A||-1===b&&S<j?1:-1)===a?1===m&&g<y||-1===m&&y<g?f===D?D:_(f+v,2):f:x)*(o=u-F),R.push([N[d],_(F,O)]),q.push(N[d]),K.push(_(F,O)),H=a,a=n,z=u);return{values:R,xData:q,yData:K}}})}),a(t,"indicators/roc.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var D=t.isArray;(0,e.seriesType)("roc","sma",{params:{index:3,period:9}},{nameBase:"Rate of Change",getValues:function(e,t){var a,o,i,n,s,r,l,p,u,c=t.period,h=e.xData,d=e.yData,m=d?d.length:0,y=[],g=[],f=[],v=-1;if(h.length<=c)return!1;for(D(d[0])&&(v=t.index),a=c;a<m;a++)i=h,n=d,s=a,r=c,u=p=void 0,u=(l=v)<0?(p=n[s-r])?(n[s]-p)/p*100:null:(p=n[s-r][l])?(n[s][l]-p)/p*100:null,o=[i[s],u],y.push(o),g.push(o[0]),f.push(o[1]);return{values:y,xData:g,yData:f}}})}),a(t,"indicators/rsi.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var v=t.isArray;function D(e,t){return parseFloat(e.toFixed(t))}e.seriesType("rsi","sma",{params:{period:14,decimals:4}},{getValues:function(e,t){var a,o,i,n,s,r=t.period,l=e.xData,p=e.yData,u=p?p.length:0,c=t.decimals,h=1,d=[],m=[],y=[],g=0,f=0;if(l.length<r||!v(p[0])||4!==p[0].length)return!1;for(;h<r;)0<(o=D(p[h][3]-p[h-1][3],c))?g+=o:f+=Math.abs(o),h++;for(i=D(g/(r-1),c),n=D(f/(r-1),c),s=h;s<u;s++)f=0<(o=D(p[s][3]-p[s-1][3],c))?(g=o,0):(g=0,Math.abs(o)),i=D((i*(r-1)+g)/r,c),a=0===(n=D((n*(r-1)+f)/r,c))?100:0===i?0:D(100-100/(1+i/n),c),d.push([l[s],a]),m.push(l[s]),y.push(a);return{values:d,xData:m,yData:y}}})}),a(t,"indicators/stochastic.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/reduce-array.js"],t["mixins/multipe-lines.js"]],function(e,t,a,o){var g=t.isArray,i=e.merge,f=e.seriesTypes.sma,v=a.getArrayExtremes;e.seriesType("stochastic","sma",{params:{periods:[14,3]},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span><b> {series.name}</b><br/>%K: {point.y}<br/>%D: {point.smoothed}<br/>'},smoothedLine:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}},e.merge(o,{nameComponents:["periods"],nameBase:"Stochastic",pointArrayMap:["y","smoothed"],parallelArrays:["x","y","smoothed"],pointValKey:"y",linesApiNames:["smoothedLine"],init:function(){f.prototype.init.apply(this,arguments),this.options=i({smoothedLine:{styles:{lineColor:this.color}}},this.options)},getValues:function(e,t){var a,o,i,n,s,r=t.periods[0],l=t.periods[1],p=e.xData,u=e.yData,c=u?u.length:0,h=[],d=[],m=[],y=null;if(c<r||!g(u[0])||4!==u[0].length)return!1;for(s=r-1;s<c;s++)a=u.slice(s-r+1,s+1),o=(n=v(a,2,1))[0],i=(u[s][3]-o)/(n[1]-o)*100,d.push(p[s]),m.push([i,null]),r-1+(l-1)<=s&&(y=f.prototype.getValues.call(this,{xData:d.slice(-l),yData:m.slice(-l)},{period:l}).yData[0]),h.push([p[s],i,y]),m[m.length-1][1]=y;return{values:h,xData:d,yData:m}}}))}),a(t,"indicators/supertrend.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var A=t.isArray,b=t.objectEach,j=e.seriesTypes.atr,S=e.seriesTypes.sma,T=e.merge,P=e.correctFloat;function C(e,t,a){return{index:t,close:e.yData[t][a],x:e.xData[t]}}e.seriesType("supertrend","sma",{params:{multiplier:3,period:10},risingTrendColor:"#06B535",fallingTrendColor:"#F21313",changeTrendLine:{styles:{lineWidth:1,lineColor:"#333333",dashStyle:"LongDash"}}},{nameBase:"Supertrend",nameComponents:["multiplier","period"],requiredIndicators:["atr"],init:function(){var e,t;S.prototype.init.apply(this,arguments),e=this.options,t=this.linkedParent.options,e.cropThreshold=t.cropThreshold-(e.params.period-1)},drawGraph:function(){for(var e,t,a,o,i,n,s,r,l,p=this,u=p.options,c=p.linkedParent,h=c?c.points:[],d=p.points,m=p.graph,y=d.length,g=h.length-y,f=0<g?g:0,v={options:{gapSize:u.gapSize}},D={top:[],bottom:[],intersect:[]},x={top:{styles:{lineWidth:u.lineWidth,lineColor:u.fallingTrendColor,dashStyle:u.dashStyle}},bottom:{styles:{lineWidth:u.lineWidth,lineColor:u.risingTrendColor,dashStyle:u.dashStyle}},intersect:u.changeTrendLine};y--;)e=d[y],t=d[y-1],a=h[y-1+f],o=h[y-2+f],i=h[y+f],n=h[y+f+1],s=e.options.color,r={x:e.x,plotX:e.plotX,plotY:e.plotY,isNull:!1},!o&&a&&c.yData[a.index-1]&&(o=C(c,a.index-1,3)),!n&&i&&c.yData[i.index+1]&&(n=C(c,i.index+1,3)),!a&&o&&c.yData[o.index+1]?a=C(c,o.index+1,3):!a&&i&&c.yData[i.index-1]&&(a=C(c,i.index-1,3)),e&&a&&i&&o&&e.x!==a.x&&(e.x===i.x?(o=a,a=i):e.x===o.x?(a=o,o={close:c.yData[a.index-1][3],x:c.xData[a.index-1]}):n&&e.x===n.x&&(a=n,o=i)),t&&o&&a?(l={x:t.x,plotX:t.plotX,plotY:t.plotY,isNull:!1},e.y>=a.close&&t.y>=o.close?(e.color=s||u.fallingTrendColor,D.top.push(r)):e.y<a.close&&t.y<o.close?(e.color=s||u.risingTrendColor,D.bottom.push(r)):(D.intersect.push(r),D.intersect.push(l),D.intersect.push(T(l,{isNull:!0})),e.y>=a.close&&t.y<o.close?(e.color=s||u.fallingTrendColor,t.color=s||u.risingTrendColor,D.top.push(r),D.top.push(T(l,{isNull:!0}))):e.y<a.close&&t.y>=o.close&&(e.color=s||u.risingTrendColor,t.color=s||u.fallingTrendColor,D.bottom.push(r),D.bottom.push(T(l,{isNull:!0}))))):a&&(e.y>=a.close?(e.color=s||u.fallingTrendColor,D.top.push(r)):(e.color=s||u.risingTrendColor,D.bottom.push(r)));b(D,function(e,t){p.points=e,p.options=T(x[t].styles,v),p.graph=p["graph"+t+"Line"],S.prototype.drawGraph.call(p),p["graph"+t+"Line"]=p.graph}),p.points=d,p.options=u,p.graph=m},getValues:function(e,t){var a,o,i,n,s,r,l,p,u,c,h=t.period,d=t.multiplier,m=e.xData,y=e.yData,g=[],f=[],v=[],D=0===h?0:h-1,x=[],b=[];if(m.length<=h||!A(y[0])||4!==y[0].length||h<0)return!1;for(a=j.prototype.getValues.call(this,e,{period:h}).yData,c=0;c<a.length;c++)u=y[D+c],p=y[D+c-1]||[],s=x[c-1],r=b[c-1],l=v[c-1],0===c&&(s=r=l=0),o=P((u[1]+u[2])/2+d*a[c]),i=P((u[1]+u[2])/2-d*a[c]),x[c]=o<s||s<p[3]?o:s,b[c]=r<i||p[3]<r?i:r,l===s&&u[3]<x[c]||l===r&&u[3]<b[c]?n=x[c]:(l===s&&u[3]>x[c]||l===r&&u[3]>b[c])&&(n=b[c]),g.push([m[D+c],n]),f.push(m[D+c]),v.push(n);return{values:g,xData:f,yData:v}}})}),a(t,"indicators/volume-by-price.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(c,e){var x=e.arrayMax,m=e.arrayMin,o=e.extend,h=e.isArray;var b=Math.abs,t=c.noop,i=c.addEvent,A=c.correctFloat,a=c.seriesType,j=c.seriesTypes.column.prototype;a("vbp","sma",{params:{ranges:12,volumeSeriesID:"volume"},zoneLines:{enabled:!0,styles:{color:"#0A9AC9",dashStyle:"LongDash",lineWidth:1}},volumeDivision:{enabled:!0,styles:{positiveColor:"rgba(144, 237, 125, 0.8)",negativeColor:"rgba(244, 91, 91, 0.8)"}},animationLimit:1e3,enableMouseTracking:!1,pointPadding:0,zIndex:-1,crisp:!0,dataGrouping:{enabled:!1},dataLabels:{allowOverlap:!0,enabled:!0,format:"P: {point.volumePos:.2f} | N: {point.volumeNeg:.2f}",padding:0,style:{fontSize:"7px"},verticalAlign:"top"}},{nameBase:"Volume by Price",bindTo:{series:!1,eventName:"afterSetExtremes"},calculateOn:"render",markerAttribs:t,drawGraph:t,getColumnMetrics:j.getColumnMetrics,crispCol:j.crispCol,init:function(e){var t,a,o,i=this;return c.seriesTypes.sma.prototype.init.apply(i,arguments),t=i.options.params,a=i.linkedParent,o=e.get(t.volumeSeriesID),i.addCustomEvents(a,o),i},addCustomEvents:function(e,t){var a=this;function o(){a.chart.redraw(),a.setData([]),a.zoneStarts=[],a.zoneLinesSVG&&(a.zoneLinesSVG.destroy(),delete a.zoneLinesSVG)}return a.dataEventsToUnbind.push(i(e,"remove",function(){o()})),t&&a.dataEventsToUnbind.push(i(t,"remove",function(){o()})),a},animate:function(e){var a=this,t={};c.svg&&!e&&(t.translateX=a.yAxis.pos,a.group.animate(t,o(c.animObject(a.options.animation),{step:function(e,t){a.group.attr({scaleX:Math.max(.001,t.pos)})}})),a.animate=null)},drawPoints:function(){var e=this;e.options.volumeDivision.enabled&&(e.posNegVolume(!0,!0),j.drawPoints.apply(e,arguments),e.posNegVolume(!1,!1)),j.drawPoints.apply(e,arguments)},posNegVolume:function(e,t){var a,o,i,n,s=this,r=t?["positive","negative"]:["negative","positive"],l=s.options.volumeDivision,p=s.points.length,u=[],c=[],h=0;for(e?(s.posWidths=u,s.negWidths=c):(u=s.posWidths,c=s.negWidths);h<p;h++)(n=s.points[h])[r[0]+"Graphic"]=n.graphic,n.graphic=n[r[1]+"Graphic"],e&&(a=n.shapeArgs.width,(i=(o=s.priceZones[h]).wholeVolumeData)?(u.push(a/i*o.positiveVolumeData),c.push(a/i*o.negativeVolumeData)):(u.push(0),c.push(0))),n.color=t?l.styles.positiveColor:l.styles.negativeColor,n.shapeArgs.width=t?s.posWidths[h]:s.negWidths[h],n.shapeArgs.x=t?n.shapeArgs.x:s.posWidths[h]},translate:function(){var e,t,a,o,i,n,s,r,l,p,u,c,h=this,d=h.options,m=h.chart,y=h.yAxis,g=y.min,f=h.options.zoneLines,v=h.priceZones,D=0;j.translate.apply(h),(e=h.points).length&&(l=d.pointPadding<.5?d.pointPadding:.1,t=h.volumeDataArray,a=x(t),o=m.plotWidth/2,p=m.plotTop,i=b(y.toPixels(g)-y.toPixels(g+h.rangeStep)),s=b(y.toPixels(g)-y.toPixels(g+h.rangeStep)),l&&(n=b(i*(1-2*l)),D=b((i-n)/2),i=b(n)),e.forEach(function(e,t){u=e.barX=e.plotX=0,c=e.plotY=y.toPixels(v[t].start)-p-(y.reversed?i-s:i)-D,r=A(o*v[t].wholeVolumeData/a),e.pointWidth=r,e.shapeArgs=h.crispCol.apply(h,[u,c,r,i]),e.volumeNeg=v[t].negativeVolumeData,e.volumePos=v[t].positiveVolumeData,e.volumeAll=v[t].wholeVolumeData}),f.enabled&&h.drawZones(m,y,h.zoneStarts,f.styles))},getValues:function(e,t){var a,o,i=e.processedXData,n=e.processedYData,s=this.chart,r=t.ranges,l=[],p=[],u=[];return e.chart?(o=s.get(t.volumeSeriesID))?(a=h(n[0]))&&4!==n[0].length?c.error("Type of "+e.name+" series is different than line, OHLC or candlestick.",!0,s):((this.priceZones=this.specifyZones(a,i,n,r,o)).forEach(function(e,t){l.push([e.x,e.end]),p.push(l[t][0]),u.push(l[t][1])}),{values:l,xData:p,yData:u}):c.error("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,s):c.error("Base series not found! In case it has been removed, add a new one.",!0,s)},specifyZones:function(e,t,a,o,i){var n,s,r=!!e&&function(e){for(var t,a=e.length,o=e[0][3],i=o,n=1;n<a;n++)(t=e[n][3])<o&&(o=t),i<t&&(i=t);return{min:o,max:i}}(a),l=r?r.min:m(a),p=r?r.max:x(a),u=this.zoneStarts=[],c=[],h=0,d=1;if(!l||!p)return this.points.length&&(this.setData([]),this.zoneStarts=[],this.zoneLinesSVG.destroy()),[];for(n=this.rangeStep=A(p-l)/o,u.push(l);h<o-1;h++)u.push(A(u[h]+n));for(u.push(p),s=u.length;d<s;d++)c.push({index:d-1,x:t[0],start:u[d-1],end:u[d]});return this.volumePerZone(e,c,i,t,a)},volumePerZone:function(t,e,a,o,i){var n,s,r,l,p,u=this,c=a.processedXData,h=a.processedYData,d=e.length-1,m=i.length,y=h.length;return b(m-y)&&(o[0]!==c[0]&&h.unshift(0),o[m-1]!==c[y-1]&&h.push(0)),u.volumeDataArray=[],e.forEach(function(e){for(e.wholeVolumeData=0,e.positiveVolumeData=0,e.negativeVolumeData=0,p=0;p<m;p++)r=s=!1,l=t?i[p][3]:i[p],n=p?t?i[p-1][3]:i[p-1]:l,l<=e.start&&0===e.index&&(s=!0),l>=e.end&&e.index===d&&(r=!0),(l>e.start||s)&&(l<e.end||r)&&(e.wholeVolumeData+=h[p],l<n?e.negativeVolumeData+=h[p]:e.positiveVolumeData+=h[p]);u.volumeDataArray.push(e.wholeVolumeData)}),e},drawZones:function(t,a,e,o){var i,n=t.renderer,s=this.zoneLinesSVG,r=[],l=t.plotWidth,p=t.plotTop;e.forEach(function(e){i=a.toPixels(e)-p,r=r.concat(t.renderer.crispLine(["M",0,i,"L",l,i],o.lineWidth))}),s?s.animate({d:r}):s=this.zoneLinesSVG=n.path(r).attr({"stroke-width":o.lineWidth,stroke:o.color,dashstyle:o.dashStyle,zIndex:this.group.zIndex+.1}).add(this.group)}},{destroy:function(){return this.negativeGraphic&&(this.negativeGraphic=this.negativeGraphic.destroy()),c.Point.prototype.destroy.apply(this,arguments)}})}),a(t,"indicators/vwap.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(l,e){var p=e.isArray;(0,l.seriesType)("vwap","sma",{params:{period:30,volumeSeriesID:"volume"}},{getValues:function(e,t){var a,o=e.chart,i=e.xData,n=e.yData,s=t.period,r=!0;return(a=o.get(t.volumeSeriesID))?(p(n[0])||(r=!1),this.calculateVWAPValues(r,i,n,a,s)):l.error("Series "+t.volumeSeriesID+" not found! Check `volumeSeriesID`.",!0,o)},calculateVWAPValues:function(e,t,a,o,i){for(var n,s,r,l=o.yData,p=o.xData.length,u=t.length,c=[],h=[],d=[],m=[],y=[],g=u<=p?u:p,f=0,v=0;f<g;f++)n=e?(a[f][1]+a[f][2]+a[f][3])/3:a[f],n*=l[f],s=v?c[f-1]+n:n,r=v?h[f-1]+l[f]:l[f],c.push(s),h.push(r),y.push([t[f],s/r]),d.push(y[f][0]),m.push(y[f][1]),++v===i&&(v=0);return{values:y,xData:d,yData:m}}})}),a(t,"indicators/williams-r.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/reduce-array.js"]],function(e,t,a){var y=t.isArray,g=a.getArrayExtremes;e.seriesType("williamsr","sma",{params:{period:14}},{nameBase:"Williams %R",getValues:function(e,t){var a,o,i,n,s,r,l=t.period,p=e.xData,u=e.yData,c=u?u.length:0,h=[],d=[],m=[];if(p.length<l||!y(u[0])||4!==u[0].length)return!1;for(r=l-1;r<c;r++)a=u.slice(r-l+1,r+1),s=(o=g(a,2,1))[0],i=((n=o[1])-u[r][3])/(n-s)*-100,p[r]&&(h.push([p[r],i]),d.push(p[r]),m.push(i));return{values:h,xData:d,yData:m}}})}),a(t,"indicators/wma.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var g=t.isArray;function f(e,t,a,o,i){var n=t[o],s=i<0?a[o]:a[o][i];e.push([n,s])}function v(e,t,a,o){var i,n,s=e.length,r=(n=((i=s)+1)/2*i,e.reduce(function(e,t,a){return[null,e[1]+t[1]*(a+1)]})[1]/n),l=t[o-1];return e.shift(),[l,r]}(0,e.seriesType)("wma","sma",{params:{index:3,period:9}},{getValues:function(e,t){var a,o,i,n=t.period,s=e.xData,r=e.yData,l=r?r.length:0,p=1,u=s[0],c=r[0],h=[],d=[],m=[],y=-1;if(s.length<n)return!1;for(g(r[0])&&(y=t.index,c=r[0][y]),o=[[u,c]];p!==n;)f(o,s,r,p,y),p++;for(a=p;a<l;a++)i=v(o,s,0,a),h.push(i),d.push(i[0]),m.push(i[1]),f(o,s,r,a,y);return i=v(o,s,0,a),h.push(i),d.push(i[0]),m.push(i[1]),{values:h,xData:d,yData:m}}})}),a(t,"indicators/zigzag.src.js",[t["parts/Globals.js"]],function(e){(0,e.seriesType)("zigzag","sma",{params:{lowIndex:2,highIndex:1,deviation:1}},{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag",getValues:function(e,t){var a,o,i,n,s,r,l,p=t.lowIndex,u=t.highIndex,c=t.deviation/100,h=1+c,d=1-c,m=e.xData,y=e.yData,g=y?y.length:0,f=[],v=[],D=[],x=!1,b=!1;if(m.length<=1||g&&(void 0===y[0][p]||void 0===y[0][u]))return!1;for(n=y[0][p],s=y[0][u],a=1;a<g;a++)y[a][p]<=s*d?(f.push([m[0],s]),i=[m[a],y[a][p]],x=r=!0):y[a][u]>=n*h&&(f.push([m[0],n]),x=!(r=!(i=[m[a],y[a][u]]))),x&&(v.push(f[0][0]),D.push(f[0][1]),o=a++,a=g);for(a=o;a<g;a++)r?(y[a][p]<=i[1]&&(i=[m[a],y[a][p]]),y[a][u]>=i[1]*h&&(b=u)):(y[a][u]>=i[1]&&(i=[m[a],y[a][u]]),y[a][p]<=i[1]*d&&(b=p)),!1!==b&&(f.push(i),v.push(i[0]),D.push(i[1]),r=!r,b=!(i=[m[a],y[a][b]]));return 0!==(l=f.length)&&f[l-1][0]<m[g-1]&&(f.push(i),v.push(i[0]),D.push(i[1])),{values:f,xData:v,yData:D}}})}),a(t,"indicators/regressions.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var d=t.isArray,a=e.seriesType;a("linearRegression","sma",{params:{xAxisUnit:void 0},tooltip:{valueDecimals:4}},{nameBase:"Linear Regression Indicator",getRegressionLineParameters:function(e,t){for(var a,o,i=this.options.params.index,n=function(e,t){return d(e)?e[t]:e},s=e.reduce(function(e,t){return t+e},0),r=t.reduce(function(e,t){return n(t,i)+e},0),l=s/e.length,p=r/t.length,u=0,c=0,h=0;h<e.length;h++)u+=(a=e[h]-l)*(n(t[h],i)-p),c+=Math.pow(a,2);return{slope:o=c?u/c:0,intercept:p-o*l}},getEndPointY:function(e,t){return e.slope*t+e.intercept},transformXData:function(e,t){var a=e[0];return e.map(function(e){return(e-a)/t})},findClosestDistance:function(e){for(var t,a,o=1;o<e.length-1;o++)0<(t=e[o]-e[o-1])&&(void 0===a||t<a)&&(a=t);return a},getValues:function(e,t){for(var a,o,i,n,s,r,l,p,u=e.xData,c=e.yData,h=t.period,d={xData:[],yData:[],values:[]},m=this.options.params.xAxisUnit||this.findClosestDistance(u),y=h-1;y<=u.length-1;y++)o=y-h+1,i=y+1,n=u[y],r=u.slice(o,i),l=c.slice(o,i),p=this.transformXData(r,m),a=this.getRegressionLineParameters(p,l),s=this.getEndPointY(a,p[p.length-1]),d.values.push({regressionLineParameters:a,x:n,y:s}),d.xData.push(n),d.yData.push(s);return d}}),a("linearRegressionSlope","linearRegression",{},{nameBase:"Linear Regression Slope Indicator",getEndPointY:function(e){return e.slope}}),a("linearRegressionIntercept","linearRegression",{},{nameBase:"Linear Regression Intercept Indicator",getEndPointY:function(e){return e.intercept}}),a("linearRegressionAngle","linearRegression",{tooltip:{pointFormat:'<span style="color:{point.color}">●</span>{series.name}: <b>{point.y}°</b><br/>'}},{nameBase:"Linear Regression Angle Indicator",slopeToAngle:function(e){return Math.atan(e)*(180/Math.PI)},getEndPointY:function(e){return this.slopeToAngle(e.slope)}})}),a(t,"indicators/acceleration-bands.src.js",[t["parts/Globals.js"],t["mixins/multipe-lines.js"]],function(e,t){var C=e.seriesTypes.sma,a=e.merge,L=e.correctFloat;e.seriesType("abands","sma",{params:{period:20,factor:.001,index:3},lineWidth:1,topLine:{styles:{lineWidth:1}},bottomLine:{styles:{lineWidth:1}},dataGrouping:{approximation:"averages"}},a(t,{pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameBase:"Acceleration Bands",nameComponents:["period","factor"],linesApiNames:["topLine","bottomLine"],getValues:function(e,t){var a,o,i,n,s,r,l,p,u,c,h,d,m,y,g=t.period,f=t.factor,v=t.index,D=e.xData,x=e.yData,b=x?x.length:0,A=[],j=[],S=[],T=[],P=[];if(b<g)return!1;for(h=0;h<=b;h++)h<b&&(d=x[h][2],m=x[h][1],y=f,s=L(m-d)/(L(m+d)/2)*1e3*y,A.push(x[h][1]*L(1+2*s)),j.push(x[h][2]*L(1-2*s))),g<=h&&(u=D.slice(h-g,h),c=x.slice(h-g,h),l=C.prototype.getValues.call(this,{xData:u,yData:A.slice(h-g,h)},{period:g}),p=C.prototype.getValues.call(this,{xData:u,yData:j.slice(h-g,h)},{period:g}),n=(r=C.prototype.getValues.call(this,{xData:u,yData:c},{period:g,index:v})).xData[0],o=l.yData[0],i=p.yData[0],a=r.yData[0],S.push([n,o,a,i]),T.push(n),P.push([o,a,i]));return{values:S,xData:T,yData:P}}}))}),a(t,"indicators/trendline.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var v=t.isArray;(0,e.seriesType)("trendline","sma",{params:{index:3}},{nameBase:"Trendline",nameComponents:!1,getValues:function(e,t){for(var a,o,i,n,s=e.xData,r=e.yData,l=[],p=[],u=[],c=0,h=0,d=0,m=0,y=s.length,g=t.index,f=0;f<y;f++)c+=i=s[f],h+=n=v(r[f])?r[f][g]:r[f],d+=i*n,m+=i*i;for(a=(y*d-c*h)/(y*m-c*c),isNaN(a)&&(a=0),o=(h-a*c)/y,f=0;f<y;f++)n=a*(i=s[f])+o,l[f]=[i,n],p[f]=i,u[f]=n;return{xData:p,yData:u,values:l}}})}),a(t,"masters/indicators/indicators-all.src.js",[],function(){})});