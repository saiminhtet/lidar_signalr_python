"use strict";!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/wordcloud",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var i=t?t._modules:{};function o(t,i,o,n){t.hasOwnProperty(i)||(t[i]=n.apply(null,o))}o(i,"mixins/draw-point.js",[],function(){return function(t){(t.attribs=t.attribs||{}).class=this.getClassName(),function(t){var i,o=this,n=o.graphic,e=t.animatableAttribs,r=t.onComplete,a=t.css,s=t.renderer;o.shouldDraw()?(n||(o.graphic=n=s[t.shapeType](t.shapeArgs).add(t.group)),n.css(a).attr(t.attribs).animate(e,!t.isNew&&void 0,r)):n&&(i=function(){o.graphic=n=n.destroy(),"function"==typeof r&&r()},Object.keys(e).length?n.animate(e,void 0,function(){i()}):i())}.call(this,t)}}),o(i,"mixins/polygon.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,i){function s(t,i){var o=r(i)?i:14,n=Math.pow(10,o);return Math.round(t*n)/n}function l(t,r){var i=t.map(function(t){return o=r,n=(i=t)[0],e=i[1],n*o[0]+e*o[1];var i,o,n,e});return{min:Math.min.apply(this,i),max:Math.max.apply(this,i)}}function a(t,i){var o=t[0],n=t[1],e=h*-i,r=Math.cos(e),a=Math.sin(e);return[s(o*r-n*a),s(o*a+n*r)]}function u(t,i,o){var n=t[0]-i[0],e=t[1]-i[1],r=a([n,e],o);return[r[0]+i[0],r[1]+i[1]]}function e(t){var s=t.axes;return o(s)||(s=[],t.concat([t[0]]).reduce(function(t,i){var o,n,e,r,a=(o=t,e=(n=i)[0]-o[0],[[-(r=n[1]-o[1]),e],[r,-e]])[0];return d(s,function(t){return o=a,(i=t)[0]===o[0]&&i[1]===o[1];var i,o})||s.push(a),i}),t.axes=s),s}var o=i.isArray,r=i.isNumber,h=t.deg2rad,d=t.find;return{getBoundingBoxFromPolygon:function(t){return t.reduce(function(t,i){var o=i[0],n=i[1];return t.left=Math.min(o,t.left),t.right=Math.max(o,t.right),t.bottom=Math.max(n,t.bottom),t.top=Math.min(n,t.top),t},{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,bottom:-Number.MAX_VALUE,top:Number.MAX_VALUE})},getPolygon:function(t,i,o,n,e){var r=[t,i],a=t-o/2,s=t+o/2,l=i-n/2,h=i+n/2;return[[a,l],[s,l],[s,h],[a,h]].map(function(t){return u(t,r,-e)})},isPolygonsColliding:function(r,a){var t,i,o,n=(t=a,i=e(r),o=e(t),i.concat(o));return!d(n,function(t){return o=a,n=l(r,i=t),!!((e=l(o,i)).min>n.max||e.max<n.min);var i,o,n,e})},movePolygon:function(i,o,t){return t.map(function(t){return[t[0]+i,t[1]+o]})},rotate2DToOrigin:a,rotate2DToPoint:u}}),o(i,"modules/wordcloud.src.js",[i["parts/Globals.js"],i["parts/Utilities.js"],i["mixins/draw-point.js"],i["mixins/polygon.js"]],function(n,t,i,o){var X=t.extend,e=t.isArray,C=t.isNumber,B=t.isObject,u=n.merge,r=n.noop,s=n.find,E=o.getBoundingBoxFromPolygon,H=o.getPolygon,l=o.isPolygonsColliding,f=o.movePolygon,a=n.Series;function x(e,t){function o(t){var i,o,n=(i=r,!((o=t.rect).left>i.right||o.right<i.left||o.top>i.bottom||o.bottom<i.top));return n&&(e.rotation%90||t.rotation%90)&&(n=l(a,t.polygon)),n}var i=!1,r=e.rect,a=e.polygon,n=e.lastCollidedWith;return n&&((i=o(n))||delete e.lastCollidedWith),i=i||!!s(t,function(t){var i=o(t);return i&&(e.lastCollidedWith=t),i})}function h(t,i){function o(t){return"boolean"==typeof t}var n=4*t,e=Math.ceil((Math.sqrt(n)-1)/2),r=2*e+1,a=Math.pow(r,2),s=!1;return--r,t<=1e4&&(o(s)&&a-r<=n&&(s={x:e-(a-n),y:-e}),a-=r,o(s)&&a-r<=n&&(s={x:-e,y:a-n-e}),a-=r,o(s)&&(s=a-r<=n?{x:a-n-e,y:e}:{x:e,y:e-(a-n-r)}),s.x*=5,s.y*=5),s}function d(t){return Math.round(t*(Math.random()+.5)/2)}function c(t,i,o,n){var e=!1;return C(t)&&C(i)&&C(o)&&C(n)&&0<t&&-1<i&&o<n&&(e=o+i%t*((n-o)/(t-1||1))),e}function O(t,i){var o,n,e,r,a,s,l=i.placed,h=i.field,u=i.rectangle,d=i.polygon,c=i.spiral,p=1,m={x:0,y:0},g=t.rect=X({},u);for(t.polygon=d,t.rotation=i.rotation;!1!==m&&(x(t,l)||(o=g,s=a=r=e=void 0,e=-(n=h).width/2,r=n.width/2,a=-n.height/2,s=n.height/2,!(e<o.left&&r>o.right&&a<o.top&&s>o.bottom)));)m=c(p),B(m)&&(g.left=u.left+m.x,g.right=u.right+m.x,g.top=u.top+m.y,g.bottom=u.bottom+m.y,t.polygon=f(m.x,m.y,d)),p++;return m}function L(t,i){var o,n,e,r,a,s,l,h=B(t)&&B(i)?(o=i.bottom-i.top,n=i.right-i.left,e=t.ratioX,s=(a=o*(r=t.ratioY)<n*e?n:o)*e,l=a*r,u(t,{width:t.width+2*s,height:t.height+2*l})):t;return h}var p={animate:a.prototype.animate,animateDrilldown:r,animateDrillupFrom:r,setClip:r,bindAxes:function(){var t={endOnTick:!1,gridLineWidth:0,lineWidth:0,maxPadding:0,startOnTick:!1,title:null,tickPositions:[]};a.prototype.bindAxes.call(this),X(this.yAxis.options,t),X(this.xAxis.options,t)},pointAttribs:function(t,i){var o=n.seriesTypes.column.prototype.pointAttribs.call(this,t,i);return delete o.stroke,delete o["stroke-width"],o},deriveFontSize:function(t,i,o){var n=C(t)?t:0,e=C(i)?i:1,r=C(o)?o:1;return Math.floor(Math.max(r,n*e))},drawPoints:function(){var c,t,p,i,o,n,e,r,a,s,l,h,u,d,m,g,f=this,x=f.hasRendered,y=f.xAxis,b=f.yAxis,v=f.chart,w=f.group,M=f.options,A=M.animation,P=M.allowExtendPlayingField,F=v.renderer,S=F.text().add(w),j=[],T=f.placementStrategy[M.placementStrategy],W=M.rotation,z=f.points.map(function(t){return t.weight}),D=Math.max.apply(null,z),N=f.points.sort(function(t,i){return i.weight-t.weight});N.forEach(function(t){var i,o=1/D*t.weight,n=f.deriveFontSize(o,M.maxFontSize,M.minFontSize),e=X({fontSize:n+"px"},M.style);S.css(e).attr({x:0,y:0,text:t.name}),i=S.getBBox(!0),t.dimensions={height:i.height,width:i.width}}),i=y.len,o=b.len,n=N.reduce(function(t,i){var o=i.dimensions,n=Math.max(o.width,o.height);return t.maxHeight=Math.max(t.maxHeight,o.height),t.maxWidth=Math.max(t.maxWidth,o.width),t.area+=n*n,t},{maxHeight:0,maxWidth:0,area:0}),e=Math.max(n.maxHeight,n.maxWidth,.85*Math.sqrt(n.area)),p={width:e*(r=o<i?i/o:1),height:e*(a=i<o?o/i:1),ratioX:r,ratioY:a},c=function(t,i){for(var o=[],n=1;n<1e4;n++)o.push(t(n,i));return function(t){return t<=1e4&&o[t-1]}}(f.spirals[M.spiral],{field:p}),N.forEach(function(t){var i,o,n,e=1/D*t.weight,r=f.deriveFontSize(e,M.maxFontSize,M.minFontSize),a=X({fontSize:r+"px"},M.style),s=T(t,{data:N,field:p,placed:j,rotation:W}),l=X(f.pointAttribs(t,t.selected&&"select"),{align:"center","alignment-baseline":"middle",x:s.x,y:s.y,text:t.name,rotation:s.rotation}),h=H(s.x,s.y,t.dimensions.width,t.dimensions.height,s.rotation),u=E(h),d=O(t,{rectangle:u,polygon:h,field:p,placed:j,spiral:c,rotation:s.rotation});!d&&P&&(d=O(t,{rectangle:u,polygon:h,field:p=L(p,u),placed:j,spiral:c,rotation:s.rotation})),B(d)?(l.x+=d.x,l.y+=d.y,u.left+=d.x,u.right+=d.x,u.top+=d.y,u.bottom+=d.y,n=u,(!C((o=p).left)||o.left>n.left)&&(o.left=n.left),(!C(o.right)||o.right<n.right)&&(o.right=n.right),(!C(o.top)||o.top>n.top)&&(o.top=n.top),(!C(o.bottom)||o.bottom<n.bottom)&&(o.bottom=n.bottom),p=o,j.push(t),t.isNull=!1):t.isNull=!0,A&&(i={x:l.x,y:l.y},x?(delete l.x,delete l.y):(l.x=0,l.y=0)),t.draw({animatableAttribs:i,attribs:l,css:a,group:w,renderer:F,shapeArgs:void 0,shapeType:"text"})}),S=S.destroy(),s=y.len,l=b.len,h=p,u=2*Math.max(Math.abs(h.top),Math.abs(h.bottom)),d=2*Math.max(Math.abs(h.left),Math.abs(h.right)),m=0<d?1/d*s:1,g=0<u?1/u*l:1,t=Math.min(m,g),f.group.attr({scaleX:t,scaleY:t})},hasData:function(){return B(this)&&!0===this.visible&&e(this.points)&&0<this.points.length},placementStrategy:{random:function(t,i){var o=i.field,n=i.rotation;return{x:d(o.width)-o.width/2,y:d(o.height)-o.height/2,rotation:c(n.orientations,t.index,n.from,n.to)}},center:function(t,i){var o=i.rotation;return{x:0,y:0,rotation:c(o.orientations,t.index,o.from,o.to)}}},pointArrayMap:["weight"],spirals:{archimedean:function(t,i){var o=i.field,n=!1,e=o.width*o.width+o.height*o.height,r=.8*t;return t<=1e4&&(n={x:r*Math.cos(r),y:r*Math.sin(r)},Math.min(Math.abs(n.x),Math.abs(n.y))<e||(n=!1)),n},rectangular:function(t,i){var o=h(t),n=i.field;return o&&(o.x*=n.ratioX,o.y*=n.ratioY),o},square:h},utils:{extendPlayingField:L,getRotation:c,isPolygonsColliding:l,rotate2DToOrigin:o.rotate2DToOrigin,rotate2DToPoint:o.rotate2DToPoint},getPlotBox:function(){var t=this.chart,i=t.inverted,o=this[i?"yAxis":"xAxis"],n=this[i?"xAxis":"yAxis"],e=o?o.len:t.plotWidth,r=n?n.len:t.plotHeight;return{translateX:(o?o.left:t.plotLeft)+e/2,translateY:(n?n.top:t.plotTop)+r/2,scaleX:1,scaleY:1}}},m={draw:i,shouldDraw:function(){return!this.isNull},isValid:function(){return!0},weight:1};n.seriesType("wordcloud","column",{allowExtendPlayingField:!0,animation:{duration:500},borderWidth:0,clip:!1,colorByPoint:!0,minFontSize:1,maxFontSize:25,placementStrategy:"center",rotation:{from:0,orientations:2,to:90},showInLegend:!1,spiral:"rectangular",style:{fontFamily:"sans-serif",fontWeight:"900",whiteSpace:"nowrap"},tooltip:{followPointer:!0,pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.weight}</b><br/>'}},p,m)}),o(i,"masters/modules/wordcloud.src.js",[],function(){})});