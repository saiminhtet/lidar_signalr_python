!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/boost-canvas",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,o,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,o))}e(t=t?t._modules:{},"modules/boost-canvas.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(F,t){function Q(){}var Z,$=t.extend,tt=t.isNumber,n=F.win.document,et=F.Color,e=F.Series,o=F.seriesTypes,ot=F.addEvent,it=F.fireEvent,rt=F.merge,st=F.pick,c=F.wrap;F.initCanvasBoost=function(){F.seriesTypes.heatmap&&F.wrap(F.seriesTypes.heatmap.prototype,"drawPoints",function(){var o=this.chart,i=this.getContext(),r=this.chart.inverted,s=this.xAxis,a=this.yAxis;i?(this.points.forEach(function(t){var e=t.plotY;void 0===e||isNaN(e)||null===t.y||(e=t.shapeArgs,t=o.styledMode?t.series.colorAttribs(t):t.series.pointAttribs(t),i.fillStyle=t.fill,r?i.fillRect(a.len-e.y+s.left,s.len-e.x+a.top,-e.height,-e.width):i.fillRect(e.x+s.left,e.y+a.top,e.width,e.height))}),this.canvasToSVG()):this.chart.showLoading("Your browser doesn't support HTML5 canvas, <br>please use a modern browser")}),$(e.prototype,{getContext:function(){function e(t,e,o,i,r,s,a){t.call(this,o,e,i,r,s,a)}var t=this.chart,o=t.chartWidth,i=t.chartHeight,r=t.seriesGroup||this.group,s=this;t.isChartSeriesBoosting()&&(r=(s=t).seriesGroup);var a=s.ctx;return s.canvas||(s.canvas=n.createElement("canvas"),s.renderTarget=t.renderer.image("",0,0,o,i).addClass("highcharts-boost-canvas").add(r),s.ctx=a=s.canvas.getContext("2d"),t.inverted&&["moveTo","lineTo","rect","arc"].forEach(function(t){c(a,t,e)}),s.boostCopy=function(){s.renderTarget.attr({href:s.canvas.toDataURL("image/png")})},s.boostClear=function(){a.clearRect(0,0,s.canvas.width,s.canvas.height),s===this&&s.renderTarget.attr({href:""})},s.boostClipRect=t.renderer.clipRect(),s.renderTarget.clip(s.boostClipRect)),s.canvas.width!==o&&(s.canvas.width=o),s.canvas.height!==i&&(s.canvas.height=i),s.renderTarget.attr({x:0,y:0,width:o,height:i,style:"pointer-events: none",href:""}),s.boostClipRect.attr(t.getBoostClipRect(s)),a},canvasToSVG:function(){this.chart.isChartSeriesBoosting()?this.boostClear&&this.boostClear():(this.boostCopy||this.chart.boostCopy)&&(this.boostCopy||this.chart.boostCopy)()},cvsLineTo:function(t,e,o){t.lineTo(e,o)},renderCanvas:function(){var p,r,d=this,t=d.options,u=d.chart,v=this.xAxis,f=this.yAxis,o=(u.options.boost||{}).timeRendering||!1,s=0,e=d.processedXData,g=d.processedYData,i=t.data,a=v.getExtremes(),y=a.min,b=a.max,m=(a=f.getExtremes()).min,C=a.max,n={},x=!!d.sampling,c=t.marker&&t.marker.radius,l=this.cvsDrawPoint,h=t.lineWidth?this.cvsLineTo:void 0,T=c&&c<=1?this.cvsMarkerSquare:this.cvsMarkerCircle,w=this.cvsStrokeBatch||1e3,k=!1!==t.enableMouseTracking;a=t.threshold;var S=f.getThreshold(a),M=tt(a),D=S,P=this.fill,A=d.pointArrayMap&&"low,high"===d.pointArrayMap.join(","),R=!!t.stacking,G=d.cropStart||0;a=u.options.loading;function E(){P?(J.fillStyle=K,J.fill()):(J.strokeStyle=d.color,J.lineWidth=t.lineWidth,J.stroke())}function B(t,e,o,i){0===s&&(J.beginPath(),h&&(J.lineJoin="round")),u.scroller&&"highcharts-navigator-series"===d.options.className?(e+=u.scroller.top,o&&(o+=u.scroller.top)):e+=u.plotTop,t+=u.plotLeft,X?J.moveTo(t,e):l?l(J,t,e,o,r):h?h(J,t,e):T&&T.call(d,J,t,e,c,i),(s+=1)===w&&(E(),s=0),r={clientX:t,plotY:e,yBottom:o}}function N(t,e,o){H=U?t:t+","+e,k&&!n[H]&&(n[H]=!0,u.inverted&&(t=v.len-t,e=f.len-e),z.push({x:!!_&&_[G+o],clientX:t,plotX:t,plotY:e,i:G+o}))}var X,L,Y,j,O,H,V=d.requireSorting,W=t.connectNulls,q=!e,I=R?d.data:e||i,K=d.fillOpacity?new et(d.color).setOpacity(st(t.fillOpacity,.75)).get():d.color,U="x"===t.findNearestPointBy,_=this.xData||this.options.xData||this.processedXData||!1;this.renderTarget&&this.renderTarget.attr({href:""}),(this.points||this.graph)&&this.destroyGraphics(),d.plotGroup("group","series",d.visible?"visible":"hidden",t.zIndex,u.seriesGroup),d.markerGroup=d.group,ot(d,"destroy",function(){d.markerGroup=null});var z=this.points=[],J=this.getContext();d.buildKDTree=Q,this.boostClear&&this.boostClear(),this.visible&&(99999<i.length&&(u.options.loading=rt(a,{labelStyle:{backgroundColor:F.color("#ffffff").setOpacity(.75).get(),padding:"1em",borderRadius:"0.5em"},style:{backgroundColor:"none",opacity:1}}),F.clearTimeout(Z),u.showLoading("Drawing..."),u.options.loading=a),o&&console.time("canvas rendering"),F.eachAsync(I,function(t,e){var o,i,r,s=!1,a=!1,n=!1,c=!1,l=void 0===u.index,h=!0;return l||(q?(o=t[0],r=t[1],I[e+1]&&(n=I[e+1][0]),I[e-1]&&(c=I[e-1][0])):(o=t,r=g[e],I[e+1]&&(n=I[e+1]),I[e-1]&&(c=I[e-1])),n&&y<=n&&n<=b&&(s=!0),c&&y<=c&&c<=b&&(a=!0),A?(q&&(r=t.slice(1,3)),i=r[0],r=r[1]):R&&(o=t.x,i=(r=t.stackY)-t.y),V||(h=m<=r&&r<=C),!(t=null===r)&&(y<=o&&o<=b&&h||s||a)&&(o=Math.round(v.toPixels(o,!0)),x?(void 0!==j&&o!==p||(A||(i=r),(void 0===O||Y<r)&&(Y=r,O=e),(void 0===j||i<L)&&(L=i,j=e)),o!==p&&(void 0!==j&&(r=f.toPixels(Y,!0),S=f.toPixels(L,!0),B(o,M?Math.min(r,D):r,M?Math.max(S,D):S,e),N(o,r,O),S!==r&&N(o,S,j)),j=O=void 0,p=o)):(r=Math.round(f.toPixels(r,!0)),B(o,r,S,e),N(o,r,e))),X=t&&!W,0==e%5e4&&(d.boostCopy||d.chart.boostCopy)&&(d.boostCopy||d.chart.boostCopy)()),!l},function(){var t=u.loadingDiv,e=u.loadingShown;E(),d.canvasToSVG(),o&&console.timeEnd("canvas rendering"),it(d,"renderedCanvas"),e&&($(t.style,{transition:"opacity 250ms",opacity:0}),u.loadingShown=!1,Z=setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t),u.loadingDiv=u.loadingSpan=null},250)),delete d.buildKDTree,d.buildKDTree()},u.renderer.forExport?Number.MAX_VALUE:void 0))}}),o.scatter.prototype.cvsMarkerCircle=function(t,e,o,i){t.moveTo(e,o),t.arc(e,o,i,0,2*Math.PI,!1)},o.scatter.prototype.cvsMarkerSquare=function(t,e,o,i){t.rect(e-i,o-i,2*i,2*i)},o.scatter.prototype.fill=!0,o.bubble&&(o.bubble.prototype.cvsMarkerCircle=function(t,e,o,i,r){t.moveTo(e,o),t.arc(e,o,this.radii&&this.radii[r],0,2*Math.PI,!1)},o.bubble.prototype.cvsStrokeBatch=1),$(o.area.prototype,{cvsDrawPoint:function(t,e,o,i,r){r&&e!==r.clientX&&(t.moveTo(r.clientX,r.yBottom),t.lineTo(r.clientX,r.plotY),t.lineTo(e,o),t.lineTo(e,i))},fill:!0,fillOpacity:!0,sampling:!0}),$(o.column.prototype,{cvsDrawPoint:function(t,e,o,i){t.rect(e-1,o,1,i-o)},fill:!0,sampling:!0}),F.Chart.prototype.callbacks.push(function(t){ot(t,"predraw",function(){t.renderTarget&&t.renderTarget.attr({href:""}),t.canvas&&t.canvas.getContext("2d").clearRect(0,0,t.canvas.width,t.canvas.height)}),ot(t,"render",function(){t.boostCopy&&t.boostCopy()})})}}),e(t,"masters/modules/boost-canvas.src.js",[],function(){})});