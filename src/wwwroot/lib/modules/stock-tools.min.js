!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/stock-tools",["highcharts","highcharts/modules/stock"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function i(t,i,e,s){t.hasOwnProperty(i)||(t[i]=s.apply(null,e))}i(t=t?t._modules:{},"modules/stock-tools-bindings.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(r,t){var n=t.defined,i=t.extend,l=t.isNumber,a=t.pick,h=r.fireEvent,s=r.merge,c=r.correctFloat,p=r.NavigationBindings.prototype.utils;p.addFlagFromForm=function(n){return function(t){var e=this,i=e.chart,s=i.stockTools,a=p.getFieldType,o={type:"flags",onSeries:(t=p.attractToPoint(t,i)).series.id,shape:n,data:[{x:t.x,y:t.y}],point:{events:{click:function(){var i=this,t=i.options;h(e,"showPopup",{point:i,formType:"annotation-toolbar",options:{langKey:"flags",type:"flags",title:[t.title,a(t.title)],name:[t.name,a(t.name)]},onSubmit:function(t){"remove"===t.actionType?i.remove():i.update(e.fieldsToOptions(t.fields,{}))}})}}}};s&&s.guiEnabled||i.addSeries(o),h(e,"showPopup",{formType:"flag",options:{langKey:"flags",type:"flags",title:["A",a("A")],name:["Flag A",a("Flag A")]},onSubmit:function(t){e.fieldsToOptions(t.fields,o.data[0]),i.addSeries(o)}})}},p.manageIndicators=function(t){var i,e=this.chart,s={linkedTo:t.linkedTo,type:t.type},a="ad atr cci cmf macd mfi roc rsi ao aroon aroonoscillator trix apo dpo ppo natr williamsr stochastic linearRegression linearRegressionSlope linearRegressionIntercept linearRegressionAngle".split(" ");"edit"===t.actionType?(this.fieldsToOptions(t.fields,s),(t=e.get(t.seriesId))&&t.update(s,!1)):"remove"===t.actionType?(t=e.get(t.seriesId))&&(i=t.yAxis,t.linkedSeries&&t.linkedSeries.forEach(function(t){t.remove(!1)}),t.remove(!1),0<=a.indexOf(t.type)&&(i.remove(!1),this.resizeYAxes())):(s.id=r.uniqueKey(),this.fieldsToOptions(t.fields,s),0<=a.indexOf(t.type)?(i=e.addAxis({id:r.uniqueKey(),offset:0,opposite:!0,title:{text:""},tickPixelInterval:40,showLastLabel:!1,labels:{align:"left",y:-2}},!1,!1),s.yAxis=i.options.id,this.resizeYAxes()):s.yAxis=e.get(t.linkedTo).options.yAxis,0<=["ad","cmf","mfi","vbp","vwap"].indexOf(t.type)&&(s.params.volumeSeriesID=e.series.filter(function(t){return"column"===t.options.type})[0].options.id),e.addSeries(s,!1)),h(this,"deselectButton",{button:this.selectedButtonElement}),e.redraw()},p.updateHeight=function(t,i){i.update({typeOptions:{height:this.chart.pointer.getCoordinates(t).yAxis[0].value-i.options.typeOptions.points[1].y}})},p.attractToPoint=function(t,i){var e=(t=i.pointer.getCoordinates(t)).xAxis[0].value;t=t.yAxis[0].value;var s,a=Number.MAX_VALUE;return i.series.forEach(function(t){t.points.forEach(function(t){t&&a>Math.abs(t.x-e)&&(a=Math.abs(t.x-e),s=t)})}),{x:s.x,y:s.y,below:t<s.y,series:s.series,xAxis:s.series.xAxis.index||0,yAxis:s.series.yAxis.index||0}},p.isNotNavigatorYAxis=function(t){return"highcharts-navigator-yaxis"!==t.userOptions.className},p.updateNthPoint=function(o){return function(t,i){var e=i.options.typeOptions,s=(t=this.chart.pointer.getCoordinates(t)).xAxis[0].value,a=t.yAxis[0].value;e.points.forEach(function(t,i){o<=i&&(t.x=s,t.y=a)}),i.update({typeOptions:{points:e.points}})}},i(r.NavigationBindings.prototype,{getYAxisPositions:function(t,e,s){function a(t){return n(t)&&!l(t)&&t.match("%")}var o=0;return(t=t.map(function(t){var i=a(t.options.height)?parseFloat(t.options.height)/100:t.height/e;return t=a(t.options.top)?parseFloat(t.options.top)/100:c(t.top-t.chart.plotTop)/e,l(i)||(i=s/100),o=c(o+i),{height:100*i,top:100*t}})).allAxesHeight=o,t},getYAxisResizers:function(e){var s=[];return e.forEach(function(t,i){t=e[i+1],s[i]=t?{enabled:!0,controlledAxis:{next:[a(t.options.id,t.options.index)]}}:{enabled:!1}}),s},resizeYAxes:function(t){t=t||20;var e=(s=this.chart).yAxis.filter(this.utils.isNotNavigatorYAxis),i=e.length,s=this.getYAxisPositions(e,s.plotHeight,t),a=this.getYAxisResizers(e),o=s.allAxesHeight,n=t;1<o?(s=i<6?(s[0].height=c(s[0].height-n),this.recalculateYAxisPositions(s,n)):(t=100/i,this.recalculateYAxisPositions(s,t/(i-1),!0,-1)))[i-1]={top:c(100-t),height:t}:(n=100*c(1-o),s=i<5?(s[0].height=c(s[0].height+n),this.recalculateYAxisPositions(s,n)):this.recalculateYAxisPositions(s,n/i,!0,1)),s.forEach(function(t,i){e[i].update({height:t.height+"%",top:t.top+"%",resize:a[i]},!1)})},recalculateYAxisPositions:function(e,s,a,o){return e.forEach(function(t,i){i=e[i-1],t.top=i?c(i.height+i.top):0,a&&(t.height=c(t.height+o*s))}),e}}),t={segment:{className:"highcharts-segment",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=s({langKey:"segment",type:"crookedLine",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.segment.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1)]},arrowSegment:{className:"highcharts-arrow-segment",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=s({langKey:"arrowSegment",type:"crookedLine",typeOptions:{line:{markerEnd:"arrow"},points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.arrowSegment.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1)]},ray:{className:"highcharts-ray",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=s({langKey:"ray",type:"crookedLine",typeOptions:{type:"ray",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.ray.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1)]},arrowRay:{className:"highcharts-arrow-ray",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=s({langKey:"arrowRay",type:"infinityLine",typeOptions:{type:"ray",line:{markerEnd:"arrow"},points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.arrowRay.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1)]},infinityLine:{className:"highcharts-infinity-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=s({langKey:"infinityLine",type:"infinityLine",typeOptions:{type:"line",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.infinityLine.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1)]},arrowInfinityLine:{className:"highcharts-arrow-infinity-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=s({langKey:"arrowInfinityLine",type:"infinityLine",typeOptions:{type:"line",line:{markerEnd:"arrow"},points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.arrowInfinityLine.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1)]},horizontalLine:{className:"highcharts-horizontal-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;t=s({langKey:"horizontalLine",type:"infinityLine",draggable:"y",typeOptions:{type:"horizontalLine",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.horizontalLine.annotationsOptions),this.chart.addAnnotation(t)}},verticalLine:{className:"highcharts-vertical-line",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;t=s({langKey:"verticalLine",type:"infinityLine",draggable:"x",typeOptions:{type:"verticalLine",points:[{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.verticalLine.annotationsOptions),this.chart.addAnnotation(t)}},crooked3:{className:"highcharts-crooked3",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=s({langKey:"crooked3",type:"crookedLine",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.crooked3.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1),p.updateNthPoint(2)]},crooked5:{className:"highcharts-crooked5",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=s({langKey:"crookedLine",type:"crookedLine",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.crooked5.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1),p.updateNthPoint(2),p.updateNthPoint(3),p.updateNthPoint(4)]},elliott3:{className:"highcharts-elliott3",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=s({langKey:"elliott3",type:"elliottWave",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.elliott3.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1),p.updateNthPoint(2),p.updateNthPoint(3)]},elliott5:{className:"highcharts-elliott5",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=s({langKey:"elliott5",type:"elliottWave",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.elliott5.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1),p.updateNthPoint(2),p.updateNthPoint(3),p.updateNthPoint(4),p.updateNthPoint(5)]},measureX:{className:"highcharts-measure-x",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=s({langKey:"measure",type:"measure",typeOptions:{selectType:"x",point:{x:t.xAxis[0].value,y:t.yAxis[0].value,xAxis:0,yAxis:0},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{enabled:!1,strokeWidth:0,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.measureX.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateRectSize]},measureY:{className:"highcharts-measure-y",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=s({langKey:"measure",type:"measure",typeOptions:{selectType:"y",point:{x:t.xAxis[0].value,y:t.yAxis[0].value,xAxis:0,yAxis:0},crosshairX:{enabled:!1,strokeWidth:0,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"},background:{width:0,height:0,strokeWidth:0,stroke:"#ffffff"}},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.measureY.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateRectSize]},measureXY:{className:"highcharts-measure-xy",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=s({langKey:"measure",type:"measure",typeOptions:{selectType:"xy",point:{x:t.xAxis[0].value,y:t.yAxis[0].value,xAxis:0,yAxis:0},background:{width:0,height:0,strokeWidth:10},crosshairX:{strokeWidth:1,stroke:"#000000"},crosshairY:{strokeWidth:1,stroke:"#000000"}},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.measureXY.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateRectSize]},fibonacci:{className:"highcharts-fibonacci",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=s({langKey:"fibonacci",type:"fibonacci",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]},labelOptions:{style:{color:"#666666"}}},i.annotationsOptions,i.bindings.fibonacci.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1),p.updateHeight]},parallelChannel:{className:"highcharts-parallel-channel",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=s({langKey:"parallelChannel",type:"tunnel",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}]}},i.annotationsOptions,i.bindings.parallelChannel.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1),p.updateHeight]},pitchfork:{className:"highcharts-pitchfork",start:function(t){t=this.chart.pointer.getCoordinates(t);var i=this.chart.options.navigation;return t=s({langKey:"pitchfork",type:"pitchfork",typeOptions:{points:[{x:t.xAxis[0].value,y:t.yAxis[0].value,controlPoint:{style:{fill:"red"}}},{x:t.xAxis[0].value,y:t.yAxis[0].value},{x:t.xAxis[0].value,y:t.yAxis[0].value}],innerBackground:{fill:"rgba(100, 170, 255, 0.8)"}},shapeOptions:{strokeWidth:2}},i.annotationsOptions,i.bindings.pitchfork.annotationsOptions),this.chart.addAnnotation(t)},steps:[p.updateNthPoint(1),p.updateNthPoint(2)]},verticalCounter:{className:"highcharts-vertical-counter",start:function(t){t=p.attractToPoint(t,this.chart);var i=this.chart.options.navigation,e=n(this.verticalCounter)?this.verticalCounter:0;t=s({langKey:"verticalCounter",type:"verticalLine",typeOptions:{point:{x:t.x,y:t.y,xAxis:t.xAxis,yAxis:t.yAxis},label:{offset:t.below?40:-40,text:e.toString()}},labelOptions:{style:{color:"#666666",fontSize:"11px"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},i.annotationsOptions,i.bindings.verticalCounter.annotationsOptions),(t=this.chart.addAnnotation(t)).options.events.click.call(t,{})}},verticalLabel:{className:"highcharts-vertical-label",start:function(t){t=p.attractToPoint(t,this.chart);var i=this.chart.options.navigation;t=s({langKey:"verticalLabel",type:"verticalLine",typeOptions:{point:{x:t.x,y:t.y,xAxis:t.xAxis,yAxis:t.yAxis},label:{offset:t.below?40:-40}},labelOptions:{style:{color:"#666666",fontSize:"11px"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},i.annotationsOptions,i.bindings.verticalLabel.annotationsOptions),(t=this.chart.addAnnotation(t)).options.events.click.call(t,{})}},verticalArrow:{className:"highcharts-vertical-arrow",start:function(t){t=p.attractToPoint(t,this.chart);var i=this.chart.options.navigation;t=s({langKey:"verticalArrow",type:"verticalLine",typeOptions:{point:{x:t.x,y:t.y,xAxis:t.xAxis,yAxis:t.yAxis},label:{offset:t.below?40:-40,format:" "},connector:{fill:"none",stroke:t.below?"red":"green"}},shapeOptions:{stroke:"rgba(0, 0, 0, 0.75)",strokeWidth:1}},i.annotationsOptions,i.bindings.verticalArrow.annotationsOptions),(t=this.chart.addAnnotation(t)).options.events.click.call(t,{})}},flagCirclepin:{className:"highcharts-flag-circlepin",start:p.addFlagFromForm("circlepin")},flagDiamondpin:{className:"highcharts-flag-diamondpin",start:p.addFlagFromForm("flag")},flagSquarepin:{className:"highcharts-flag-squarepin",start:p.addFlagFromForm("squarepin")},flagSimplepin:{className:"highcharts-flag-simplepin",start:p.addFlagFromForm("nopin")},zoomX:{className:"highcharts-zoom-x",init:function(t){this.chart.update({chart:{zoomType:"x"}}),h(this,"deselectButton",{button:t})}},zoomY:{className:"highcharts-zoom-y",init:function(t){this.chart.update({chart:{zoomType:"y"}}),h(this,"deselectButton",{button:t})}},zoomXY:{className:"highcharts-zoom-xy",init:function(t){this.chart.update({chart:{zoomType:"xy"}}),h(this,"deselectButton",{button:t})}},seriesTypeLine:{className:"highcharts-series-type-line",init:function(t){this.chart.series[0].update({type:"line",useOhlcData:!0}),h(this,"deselectButton",{button:t})}},seriesTypeOhlc:{className:"highcharts-series-type-ohlc",init:function(t){this.chart.series[0].update({type:"ohlc"}),h(this,"deselectButton",{button:t})}},seriesTypeCandlestick:{className:"highcharts-series-type-candlestick",init:function(t){this.chart.series[0].update({type:"candlestick"}),h(this,"deselectButton",{button:t})}},fullScreen:{className:"highcharts-full-screen",init:function(t){var i=this.chart;i.fullScreen=new r.FullScreen(i.container),h(this,"deselectButton",{button:t})}},currentPriceIndicator:{className:"highcharts-current-price-indicator",init:function(t){var i=this.chart,e=i.series[0],s=(a=e.options).lastVisiblePrice&&a.lastVisiblePrice.enabled,a=a.lastPrice&&a.lastPrice.enabled,o=(i=i.stockTools).getIconsURL();i&&i.guiEnabled&&(t.firstChild.style["background-image"]=a?'url("'+o+'current-price-show.svg")':'url("'+o+'current-price-hide.svg")'),e.update({lastPrice:{enabled:!a,color:"red"},lastVisiblePrice:{enabled:!s,label:{enabled:!0}}}),h(this,"deselectButton",{button:t})}},indicators:{className:"highcharts-indicators",init:function(){var i=this;h(i,"showPopup",{formType:"indicators",options:{},onSubmit:function(t){i.utils.manageIndicators.call(i,t)}})}},toggleAnnotations:{className:"highcharts-toggle-annotations",init:function(t){var i=this.chart,e=i.stockTools,s=e.getIconsURL();this.toggledAnnotations=!this.toggledAnnotations,(i.annotations||[]).forEach(function(t){t.setVisibility(!this.toggledAnnotations)},this),e&&e.guiEnabled&&(t.firstChild.style["background-image"]=this.toggledAnnotations?'url("'+s+'annotations-hidden.svg")':'url("'+s+'annotations-visible.svg")'),h(this,"deselectButton",{button:t})}},saveChart:{className:"highcharts-save-chart",init:function(t){var i=this,e=i.chart,s=[],a=[],o=[],n=[];e.annotations.forEach(function(t,i){s[i]=t.userOptions}),e.series.forEach(function(t){t instanceof r.seriesTypes.sma?a.push(t.userOptions):"flags"===t.type&&o.push(t.userOptions)}),e.yAxis.forEach(function(t){i.utils.isNotNavigatorYAxis(t)&&n.push(t.options)}),r.win.localStorage.setItem("highcharts-chart",JSON.stringify({annotations:s,indicators:a,flags:o,yAxes:n})),h(this,"deselectButton",{button:t})}}},r.setOptions({navigation:{bindings:t}})}),i(t,"modules/stock-tools-gui.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(p,t){var i=t.extend,c=t.isArray,r=t.pick,u=p.addEvent,g=p.createElement,s=p.fireEvent,d=p.getStyle,a=p.merge,y=p.css,e=p.win;p.setOptions({lang:{stockTools:{gui:{simpleShapes:"Simple shapes",lines:"Lines",crookedLines:"Crooked lines",measure:"Measure",advanced:"Advanced",toggleAnnotations:"Toggle annotations",verticalLabels:"Vertical labels",flags:"Flags",zoomChange:"Zoom change",typeChange:"Type change",saveChart:"Save chart",indicators:"Indicators",currentPriceIndicator:"Current Price Indicators",zoomX:"Zoom X",zoomY:"Zoom Y",zoomXY:"Zooom XY",fullScreen:"Fullscreen",typeOHLC:"OHLC",typeLine:"Line",typeCandlestick:"Candlestick",circle:"Circle",label:"Label",rectangle:"Rectangle",flagCirclepin:"Flag circle",flagDiamondpin:"Flag diamond",flagSquarepin:"Flag square",flagSimplepin:"Flag simple",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",infinityLine:"Infinity line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",pitchfork:"Pitchfork",parallelChannel:"Parallel channel"}},navigation:{popup:{circle:"Circle",rectangle:"Rectangle",label:"Label",segment:"Segment",arrowSegment:"Arrow segment",ray:"Ray",arrowRay:"Arrow ray",line:"Line",arrowLine:"Arrow line",horizontalLine:"Horizontal line",verticalLine:"Vertical line",crooked3:"Crooked 3 line",crooked5:"Crooked 5 line",elliott3:"Elliott 3 line",elliott5:"Elliott 5 line",verticalCounter:"Vertical counter",verticalLabel:"Vertical label",verticalArrow:"Vertical arrow",fibonacci:"Fibonacci",pitchfork:"Pitchfork",parallelChannel:"Parallel channel",infinityLine:"Infinity line",measure:"Measure",measureXY:"Measure XY",measureX:"Measure X",measureY:"Measure Y",flags:"Flags",addButton:"add",saveButton:"save",editButton:"edit",removeButton:"remove",series:"Series",volume:"Volume",connector:"Connector",innerBackground:"Inner background",outerBackground:"Outer background",crosshairX:"Crosshair X",crosshairY:"Crosshair Y",tunnel:"Tunnel",background:"Background"}}},stockTools:{gui:{enabled:!0,className:"highcharts-bindings-wrapper",toolbarClassName:"stocktools-toolbar",buttons:"indicators separator simpleShapes lines crookedLines measure advanced toggleAnnotations separator verticalLabels flags separator zoomChange fullScreen typeChange separator currentPriceIndicator saveChart".split(" "),definitions:{separator:{symbol:"separator.svg"},simpleShapes:{items:["label","circle","rectangle"],circle:{symbol:"circle.svg"},rectangle:{symbol:"rectangle.svg"},label:{symbol:"label.svg"}},flags:{items:["flagCirclepin","flagDiamondpin","flagSquarepin","flagSimplepin"],flagSimplepin:{symbol:"flag-basic.svg"},flagDiamondpin:{symbol:"flag-diamond.svg"},flagSquarepin:{symbol:"flag-trapeze.svg"},flagCirclepin:{symbol:"flag-elipse.svg"}},lines:{items:"segment arrowSegment ray arrowRay line arrowLine horizontalLine verticalLine".split(" "),segment:{symbol:"segment.svg"},arrowSegment:{symbol:"arrow-segment.svg"},ray:{symbol:"ray.svg"},arrowRay:{symbol:"arrow-ray.svg"},line:{symbol:"line.svg"},arrowLine:{symbol:"arrow-line.svg"},verticalLine:{symbol:"vertical-line.svg"},horizontalLine:{symbol:"horizontal-line.svg"}},crookedLines:{items:["elliott3","elliott5","crooked3","crooked5"],crooked3:{symbol:"crooked-3.svg"},crooked5:{symbol:"crooked-5.svg"},elliott3:{symbol:"elliott-3.svg"},elliott5:{symbol:"elliott-5.svg"}},verticalLabels:{items:["verticalCounter","verticalLabel","verticalArrow"],verticalCounter:{symbol:"vertical-counter.svg"},verticalLabel:{symbol:"vertical-label.svg"},verticalArrow:{symbol:"vertical-arrow.svg"}},advanced:{items:["fibonacci","pitchfork","parallelChannel"],pitchfork:{symbol:"pitchfork.svg"},fibonacci:{symbol:"fibonacci.svg"},parallelChannel:{symbol:"parallel-channel.svg"}},measure:{items:["measureXY","measureX","measureY"],measureX:{symbol:"measure-x.svg"},measureY:{symbol:"measure-y.svg"},measureXY:{symbol:"measure-xy.svg"}},toggleAnnotations:{symbol:"annotations-visible.svg"},currentPriceIndicator:{symbol:"current-price-show.svg"},indicators:{symbol:"indicators.svg"},zoomChange:{items:["zoomX","zoomY","zoomXY"],zoomX:{symbol:"zoom-x.svg"},zoomY:{symbol:"zoom-y.svg"},zoomXY:{symbol:"zoom-xy.svg"}},typeChange:{items:["typeOHLC","typeLine","typeCandlestick"],typeOHLC:{symbol:"series-ohlc.svg"},typeLine:{symbol:"series-line.svg"},typeCandlestick:{symbol:"series-candlestick.svg"}},fullScreen:{symbol:"fullscreen.svg"},saveChart:{symbol:"save-chart.svg"}}}}}),u(p.Chart,"afterGetContainer",function(){this.setStockTools()}),u(p.Chart,"getMargins",function(){var t=this.stockTools&&this.stockTools.listWrapper;(t=t&&(t.startWidth+p.getStyle(t,"padding-left")+p.getStyle(t,"padding-right")||t.offsetWidth))&&t<this.plotWidth&&(this.plotLeft+=t)}),u(p.Chart,"destroy",function(){this.stockTools&&this.stockTools.destroy()}),u(p.Chart,"redraw",function(){this.stockTools&&this.stockTools.guiEnabled&&this.stockTools.redraw()}),p.Toolbar=function(t,i,e){this.chart=e,this.options=t,this.lang=i,this.iconsURL=this.getIconsURL(),this.guiEnabled=t.enabled,this.visible=r(t.visible,!0),this.placed=r(t.placed,!1),this.eventsToUnbind=[],this.guiEnabled&&(this.createHTML(),this.init(),this.showHideNavigatorion()),s(this,"afterInit")},i(p.Chart.prototype,{setStockTools:function(t){var i=this.options,e=i.lang;t=a(i.stockTools&&i.stockTools.gui,t&&t.gui),this.stockTools=new p.Toolbar(t,e.stockTools&&e.stockTools.gui,this),this.stockTools.guiEnabled&&(this.isDirtyBox=!0)}}),p.Toolbar.prototype={init:function(){var i,e=this,s=this.lang,t=this.options,a=this.toolbar,o=e.addSubmenu,n=t.buttons,r=t.definitions,l=a.childNodes,h=this.inIframe();n.forEach(function(t){i=e.addButton(a,r,t,s),h&&"fullScreen"===t&&(i.buttonWrapper.className+=" highcharts-disabled-btn"),["click","touchstart"].forEach(function(t){u(i.buttonWrapper,t,function(){e.eraseActiveButtons(l,i.buttonWrapper)})}),c(r[t].items)&&o.call(e,i,r[t])})},addSubmenu:function(t,i){var e,s=this,a=t.submenuArrow,o=t.buttonWrapper,n=d(o,"width"),r=this.wrapper,l=this.listWrapper,h=this.toolbar.childNodes,c=0;this.submenu=e=g("ul",{className:"highcharts-submenu-wrapper"},null,o),this.addSubmenuItems(o,i),["click","touchstart"].forEach(function(t){u(a,t,function(t){t.stopPropagation(),s.eraseActiveButtons(h,o),0<=o.className.indexOf("highcharts-current")?(l.style.width=l.startWidth+"px",o.classList.remove("highcharts-current"),e.style.display="none"):(e.style.display="block",c=e.offsetHeight-o.offsetHeight-3,e.offsetHeight+o.offsetTop>r.offsetHeight&&o.offsetTop>c||(c=0),y(e,{top:-c+"px",left:n+3+"px"}),o.className+=" highcharts-current",l.startWidth=r.offsetWidth,l.style.width=l.startWidth+p.getStyle(l,"padding-left")+e.offsetWidth+3+"px")})})},addSubmenuItems:function(i,e){var s,a=this,o=this.submenu,n=this.lang,r=this.listWrapper;e.items.forEach(function(t){s=a.addButton(o,e,t,n),["click","touchstart"].forEach(function(t){u(s.mainButton,t,function(){a.switchSymbol(this,i,!0),r.style.width=r.startWidth+"px",o.style.display="none"})})});var t=o.querySelectorAll("li > .highcharts-menu-item-btn")[0];a.switchSymbol(t,!1)},eraseActiveButtons:function(t,i,e){[].forEach.call(t,function(t){t!==i&&(t.classList.remove("highcharts-current"),t.classList.remove("highcharts-active"),0<(e=t.querySelectorAll(".highcharts-submenu-wrapper")).length&&(e[0].style.display="none"))})},addButton:function(t,i,e,s){var a,o=(i=i[e]).items,n=i.className||"";return e=g("li",{className:r(p.Toolbar.prototype.classMapping[e],"")+" "+n,title:s[e]||e},null,t),t=g("span",{className:"highcharts-menu-item-btn"},null,e),o&&o.length?(a=g("span",{className:"highcharts-submenu-item-arrow highcharts-arrow-right"},null,e)).style["background-image"]="url("+this.iconsURL+"arrow-bottom.svg)":t.style["background-image"]="url("+this.iconsURL+i.symbol+")",{buttonWrapper:e,mainButton:t,submenuArrow:a}},addNavigation:function(){var t=this.wrapper;this.arrowWrapper=g("div",{className:"highcharts-arrow-wrapper"}),this.arrowUp=g("div",{className:"highcharts-arrow-up"},null,this.arrowWrapper),this.arrowUp.style["background-image"]="url("+this.iconsURL+"arrow-right.svg)",this.arrowDown=g("div",{className:"highcharts-arrow-down"},null,this.arrowWrapper),this.arrowDown.style["background-image"]="url("+this.iconsURL+"arrow-right.svg)",t.insertBefore(this.arrowWrapper,t.childNodes[0]),this.scrollButtons()},scrollButtons:function(){var i=0,e=this,s=e.wrapper,a=e.toolbar,o=.1*s.offsetHeight;["click","touchstart"].forEach(function(t){u(e.arrowUp,t,function(){0<i&&(i-=o,a.style["margin-top"]=-i+"px")}),u(e.arrowDown,t,function(){s.offsetHeight+i<=a.offsetHeight+o&&(i+=o,a.style["margin-top"]=-i+"px")})})},createHTML:function(){var t=this.chart,i=this.options,e=t.container,t=t.options.navigation;this.wrapper=t=g("div",{className:"highcharts-stocktools-wrapper "+i.className+" "+(t&&t.bindingsClassName)}),e.parentNode.insertBefore(t,e),this.toolbar=e=g("ul",{className:"highcharts-stocktools-toolbar "+i.toolbarClassName}),this.listWrapper=i=g("div",{className:"highcharts-menu-wrapper"}),t.insertBefore(i,t.childNodes[0]),i.insertBefore(e,i.childNodes[0]),this.showHideToolbar(),this.addNavigation()},showHideNavigatorion:function(){this.visible&&this.toolbar.offsetHeight>this.wrapper.offsetHeight-50?this.arrowWrapper.style.display="block":(this.toolbar.style.marginTop="0px",this.arrowWrapper.style.display="none")},showHideToolbar:function(){var i,e=this.chart,t=this.wrapper,s=this.listWrapper,a=this.submenu,o=this.visible;this.showhideBtn=i=g("div",{className:"highcharts-toggle-toolbar highcharts-arrow-left"},null,t),i.style["background-image"]="url("+this.iconsURL+"arrow-right.svg)",o?(t.style.height="100%",i.style.top=p.getStyle(s,"padding-top")+"px",i.style.left=t.offsetWidth+p.getStyle(s,"padding-left")+"px"):(a&&(a.style.display="none"),i.style.left="0px",this.visible=o=!1,s.classList.add("highcharts-hide"),i.classList.toggle("highcharts-arrow-right"),t.style.height=i.offsetHeight+"px"),["click","touchstart"].forEach(function(t){u(i,t,function(){e.update({stockTools:{gui:{visible:!o,placed:!0}}})})})},switchSymbol:function(t,i){var e=t.parentNode,s=e.classList.value;(e=e.parentNode.parentNode).className="",s&&e.classList.add(s.trim()),e.querySelectorAll(".highcharts-menu-item-btn")[0].style["background-image"]=t.style["background-image"],i&&this.selectButton(e)},selectButton:function(t){0<=t.className.indexOf("highcharts-active")?t.classList.remove("highcharts-active"):t.classList.add("highcharts-active")},unselectAllButtons:function(i){var t=i.parentNode.querySelectorAll(".highcharts-active");[].forEach.call(t,function(t){t!==i&&t.classList.remove("highcharts-active")})},inIframe:function(){try{return e.self!==e.top}catch(t){return!0}},update:function(t){a(!0,this.chart.options.stockTools,t),this.destroy(),this.chart.setStockTools(t),this.chart.navigationBindings&&this.chart.navigationBindings.update()},destroy:function(){var t=this.wrapper,i=t&&t.parentNode;this.eventsToUnbind.forEach(function(t){t()}),i&&i.removeChild(t),this.chart.isDirtyBox=!0,this.chart.redraw()},redraw:function(){this.showHideNavigatorion()},getIconsURL:function(){return this.chart.options.navigation.iconsURL||this.options.iconsURL||"https://code.highcharts.com/7.2.2/gfx/stock-icons/"},classMapping:{circle:"highcharts-circle-annotation",rectangle:"highcharts-rectangle-annotation",label:"highcharts-label-annotation",segment:"highcharts-segment",arrowSegment:"highcharts-arrow-segment",ray:"highcharts-ray",arrowRay:"highcharts-arrow-ray",line:"highcharts-infinity-line",arrowLine:"highcharts-arrow-infinity-line",verticalLine:"highcharts-vertical-line",horizontalLine:"highcharts-horizontal-line",crooked3:"highcharts-crooked3",crooked5:"highcharts-crooked5",elliott3:"highcharts-elliott3",elliott5:"highcharts-elliott5",pitchfork:"highcharts-pitchfork",fibonacci:"highcharts-fibonacci",parallelChannel:"highcharts-parallel-channel",measureX:"highcharts-measure-x",measureY:"highcharts-measure-y",measureXY:"highcharts-measure-xy",verticalCounter:"highcharts-vertical-counter",verticalLabel:"highcharts-vertical-label",verticalArrow:"highcharts-vertical-arrow",currentPriceIndicator:"highcharts-current-price-indicator",indicators:"highcharts-indicators",flagCirclepin:"highcharts-flag-circlepin",flagDiamondpin:"highcharts-flag-diamondpin",flagSquarepin:"highcharts-flag-squarepin",flagSimplepin:"highcharts-flag-simplepin",zoomX:"highcharts-zoom-x",zoomY:"highcharts-zoom-y",zoomXY:"highcharts-zoom-xy",typeLine:"highcharts-series-type-line",typeOHLC:"highcharts-series-type-ohlc",typeCandlestick:"highcharts-series-type-candlestick",fullScreen:"highcharts-full-screen",toggleAnnotations:"highcharts-toggle-annotations",saveChart:"highcharts-save-chart",separator:"highcharts-separator"}},u(p.NavigationBindings,"selectButton",function(t){var i=t.button,e=this.chart.stockTools;e&&e.guiEnabled&&(e.unselectAllButtons(t.button),0<=i.parentNode.className.indexOf("highcharts-submenu-wrapper")&&(i=i.parentNode.parentNode),e.selectButton(i))}),u(p.NavigationBindings,"deselectButton",function(t){t=t.button;var i=this.chart.stockTools;i&&i.guiEnabled&&(0<=t.parentNode.className.indexOf("highcharts-submenu-wrapper")&&(t=t.parentNode.parentNode),i.selectButton(t))})}),i(t,"masters/modules/stock-tools.src.js",[],function(){})});