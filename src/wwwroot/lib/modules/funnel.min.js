!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/funnel",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,i))}e(t=t?t._modules:{},"modules/funnel.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(d,t){var Y=t.pick;t=d.seriesType;var h=d.seriesTypes,j=d.fireEvent,P=d.noop;t("funnel","pie",{animation:!1,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,size:!0,dataLabels:{connectorWidth:1},states:{select:{color:"#cccccc",borderColor:"#000000"}}},{animate:P,translate:function(){function t(t,e){return/%$/.test(t)?e*parseInt(t,10)/100:parseInt(t,10)}var e,i,n,a,o,s,l,h,r,c,d=0,p=this,g=p.chart,u=p.options,f=u.reversed,b=u.ignoreHiddenPoint,m=g.plotWidth,g=g.plotHeight,y=0,v=u.center,W=t(v[0],m),x=t(v[1],g),A=t(u.width,m),L=t(u.height,g),D=t(u.neckWidth,m),k=t(u.neckHeight,g),H=x-L/2+L-k,m=p.data,w="left"===u.dataLabels.position?1:0;p.getWidthAt=function(t){return H<t||L===k?D:D+(A-D)*(1-(t-(x-L/2))/(L-k))},p.getX=function(t,e,i){return W+(e?-1:1)*(p.getWidthAt(f?2*x-t:t)/2+i.labelDistance)},p.center=[W,x,L],p.centerX=W,m.forEach(function(t){b&&!1===t.visible||(d+=t.y)}),m.forEach(function(t){c=null,n=d?t.y/d:0,h=(o=x-L/2+y*L)+n*L,e=p.getWidthAt(o),s=(a=W-e/2)+e,e=p.getWidthAt(h),r=(l=W-e/2)+e,H<o?(a=l=W-D/2,s=r=W+D/2):H<h&&(c=h,e=p.getWidthAt(H),r=(l=W-e/2)+e,h=H),f&&(o=2*x-o,h=2*x-h,null!==c&&(c=2*x-c)),i=["M",a,o,"L",s,o,r,h],null!==c&&i.push(r,c,l,c),i.push(l,h,"Z"),t.shapeType="path",t.shapeArgs={d:i},t.percentage=100*n,t.plotX=W,t.plotY=(o+(c||h))/2,t.tooltipPos=[W,t.plotY],t.dlBox={x:l,y:o,topWidth:s-a,bottomWidth:r-l,height:Math.abs(Y(h,c)-o),width:NaN},t.slice=P,t.half=w,b&&!1===t.visible||(y+=n)}),j(p,"afterTranslate")},sortByAngle:function(t){t.sort(function(t,e){return t.plotY-e.plotY})},drawDataLabels:function(){var t,e=this.data,i=this.options.dataLabels.distance,n=e.length;for(this.center[2]-=2*i;n--;){var a=e[n],o=(t=a.half)?1:-1,s=a.plotY;a.labelDistance=Y(a.options.dataLabels&&a.options.dataLabels.distance,i),this.maxLabelDistance=Math.max(a.labelDistance,this.maxLabelDistance||0);var l=this.getX(s,t,a);a.labelPosition={natural:{x:0,y:s},final:{},alignment:t?"right":"left",connectorPosition:{breakAt:{x:l+(a.labelDistance-5)*o,y:s},touchingSliceAt:{x:l+a.labelDistance*o,y:s}}}}h[this.options.dataLabels.inside?"column":"pie"].prototype.drawDataLabels.call(this)},alignDataLabel:function(t,e,i,n,a){n=(r=t.series).options.reversed;var o=t.dlBox||t.shapeArgs,s=i.align,l=i.verticalAlign,h=r.center[1],r=r.getWidthAt((n?2*h-t.plotY:t.plotY)-o.height/2+e.height);r="middle"===l?(o.topWidth-o.bottomWidth)/4:(r-o.bottomWidth)/2,h=o.y;var c=o.x;"middle"===l?h=o.y-o.height/2+e.height/2:"top"===l&&(h=o.y-o.height+e.height+i.padding),("top"===l&&!n||"bottom"===l&&n||"middle"===l)&&("right"===s?c=o.x-i.padding+r:"left"===s&&(c=o.x+i.padding-r)),n={x:c,y:n?h-o.height:h,width:o.bottomWidth,height:o.height},i.verticalAlign="bottom",d.Series.prototype.alignDataLabel.call(this,t,e,i,n,a),i.inside&&t.contrastColor&&e.css({color:t.contrastColor})}}),t("pyramid","funnel",{neckWidth:"0%",neckHeight:"0%",reversed:!0})}),e(t,"masters/modules/funnel.src.js",[],function(){})});