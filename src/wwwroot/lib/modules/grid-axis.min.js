!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/grid-axis",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function i(t,i,e,s){t.hasOwnProperty(i)||(t[i]=s.apply(null,e))}i(t=t?t._modules:{},"parts-gantt/GridAxis.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(d,i){function x(t){return i.isObject(t,!0)}var n=i.defined,c=i.erase,g=i.isArray,m=i.isNumber,p=i.pick,e=d.addEvent,s=d.dateFormat,f=d.merge,u=d.wrap,t=d.Chart,k=d.Axis,o=d.Tick,b={top:0,right:1,bottom:2,left:3,0:"top",1:"right",2:"bottom",3:"left"};k.prototype.isOuterAxis=function(){var e=this,t=e.columnIndex,i=e.linkedParent&&e.linkedParent.columns||e.columns,s=t?e.linkedParent:e,n=-1,o=0;return e.chart[e.coll].forEach(function(t,i){t.side!==e.side||t.options.isInternal||(o=i,t===s&&(n=i))}),o===n&&(!m(t)||i.length===t)},k.prototype.getMaxLabelDimensions=function(e,t){var s={width:0,height:0};return t.forEach(function(t){var i;t=e[t],x(t)&&(t=(i=x(t.label)?t.label:{}).getBBox?i.getBBox().height:0,i.textStr&&!m(i.textPxLength)&&(i.textPxLength=i.getBBox().width),i=m(i.textPxLength)?Math.round(i.textPxLength):0,s.height=Math.max(t,s.height),s.width=Math.max(i,s.width))}),s},d.dateFormats.W=function(t){(t=new Date(t)).setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()||7));var i=new Date(t.getFullYear(),0,1);return Math.ceil(((t-i)/864e5+1)/7)},d.dateFormats.E=function(t){return s("%a",t,!0).charAt(0)},e(o,"afterGetLabelPosition",function(t){var i,e=this.label,s=this.axis,n=s.reversed,o=s.chart,r=s.options,a=r&&x(r.grid)?r.grid:{},h=(r=s.options.labels).align,l=b[s.side],d=t.tickmarkOffset,c=s.tickPositions,f=this.pos-d,c=m(c[t.index+1])?c[t.index+1]-d:s.max+d,u=s.tickSize("tick",!0),d=g(u)?u[0]:0,u=u&&u[1]/2;!0===a.enabled&&("top"===l?i=(a=s.top+s.offset)-d:"bottom"===l?a=(i=o.chartHeight-s.bottom+s.offset)+d:(a=s.top+s.len-s.translate(n?c:f),i=s.top+s.len-s.translate(n?f:c)),"right"===l?n=(l=o.chartWidth-s.right+s.offset)+d:"left"===l?l=(n=s.left+s.offset)-d:(l=Math.round(s.left+s.translate(n?c:f))-u,n=Math.round(s.left+s.translate(n?f:c))-u),this.slotWidth=n-l,t.pos.x="left"===h?l:"right"===h?n:l+(n-l)/2,t.pos.y=i+(a-i)/2,o=o.renderer.fontMetrics(r.style.fontSize,e.element),e=e.getBBox().height,r.useHTML?t.pos.y+=o.b+-e/2:(e=Math.round(e/o.h),t.pos.y+=(o.b-(o.h-o.f))/2+-((e-1)*o.h)/2),t.pos.x+=s.horiz&&r.x||0)}),e(k,"afterTickSize",function(t){var i=this.maxLabelDimensions,e=this.options;!0===(e&&x(e.grid)?e.grid:{}).enabled&&(i=(e=2*Math.abs(this.defaultLeftAxisOptions.labels.x))+(this.horiz?i.height:i.width),g(t.tickSize)?t.tickSize[0]=i:t.tickSize=[i])}),e(k,"afterGetTitlePosition",function(t){var i,e,s,n,o,r,a,h,l,d,c,f,u,g=this.options;!0===(g&&x(g.grid)?g.grid:{}).enabled&&(i=(f=this.axisTitle)&&f.getBBox().width,e=this.horiz,s=this.left,n=this.top,o=this.width,r=this.height,a=g.title,g=this.opposite,h=this.offset,u=this.tickSize()||[0],l=a.x||0,d=a.y||0,c=p(a.margin,e?5:10),f=this.chart.renderer.fontMetrics(a.style&&a.style.fontSize,f).f,u=(e?n+r:s)+u[0]/2*(g?-1:1)*(e?1:-1)+(this.side===b.bottom?f:0),t.titlePosition.x=e?s-i/2-c+l:u+(g?o:0)+h+l,t.titlePosition.y=e?u-(g?r:0)+(g?f:-f)/2+h+d:n-c+d)}),u(k.prototype,"unsquish",function(t){var i=this.options;return!0===(i&&x(i.grid)?i.grid:{}).enabled&&this.categories?this.tickInterval:t.apply(this,Array.prototype.slice.call(arguments,1))}),e(k,"afterSetOptions",function(t){var i=this.options;t=t.userOptions;var h,e=i&&x(i.grid)?i.grid:{};!0===e.enabled&&(h=f(!0,{className:"highcharts-grid-axis "+(t.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"13px"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},t),"xAxis"===this.coll&&(n(t.linkedTo)&&!n(t.tickPixelInterval)&&(h.tickPixelInterval=350),n(t.tickPixelInterval)||!n(t.linkedTo)||n(t.tickPositioner)||n(t.tickInterval)||(h.tickPositioner=function(t,i){var e=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(e){for(var s,n,o=h.units,r=0;r<o.length;r++)if(o[r][0]===e.unitName){var a=r;break}if(o[a][1])return o[a+1]&&(s=o[a+1][0],n=(o[a+1][1]||[1])[0]),e=d.timeUnits[s],this.tickInterval=e*n,this.getTimeTicks({unitRange:e,count:n,unitName:s},t,i,this.options.startOfWeek)}})),f(!0,this.options,h),this.horiz&&(i.minPadding=p(t.minPadding,0),i.maxPadding=p(t.maxPadding,0)),m(i.grid.borderWidth)&&(i.tickWidth=i.lineWidth=e.borderWidth))}),e(k,"afterSetAxisTranslation",function(){var t=this.options,i=t&&x(t.grid)?t.grid:{},e=this.tickPositions&&this.tickPositions.info,s=this.userOptions.labels||{};this.horiz&&(!0===i.enabled&&this.series.forEach(function(t){t.options.pointRange=0}),e&&(!1===t.dateTimeLabelFormats[e.unitName].range||1<e.count)&&!n(s.align)&&(t.labels.align="left",n(s.x)||(t.labels.x=3)))}),e(k,"trimTicks",function(){var t=this.options,i=t&&x(t.grid)?t.grid:{},e=this.categories,s=this.tickPositions,n=s[0],o=s[s.length-1],r=this.linkedParent&&this.linkedParent.min||this.min,a=this.linkedParent&&this.linkedParent.max||this.max,h=this.tickInterval;!0!==i.enabled||e||!this.horiz&&!this.isLinked||(n<r&&r<n+h&&!t.startOnTick&&(s[0]=r),a<o&&o-h<a&&!t.endOnTick&&(s[s.length-1]=a))}),e(k,"afterRender",function(){var t,i,e,s,n,o,r=this.options,a=r&&x(r.grid)?r.grid:{},h=this.chart.renderer;!0===a.enabled&&(this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.isOuterAxis()&&this.axisLine&&((t=r.lineWidth)&&(e=(i=this.getLinePath(t)).indexOf("M")+1,s=i.indexOf("L")+1,a=i.indexOf("M")+2,n=i.indexOf("L")+2,o=(this.tickSize("tick")[0]-1)*(this.side===b.top||this.side===b.left?-1:1),this.horiz?(i[a]+=o,i[n]+=o):(i[e]+=o,i[s]+=o),this.axisLineExtra?this.axisLineExtra.animate({d:i}):(this.axisLineExtra=h.path(i).attr({zIndex:7}).addClass("highcharts-axis-line").add(this.axisGroup),h.styledMode||this.axisLineExtra.attr({stroke:r.lineColor,"stroke-width":t})),this.axisLine[this.showAxis?"show":"hide"](!0))),(this.columns||[]).forEach(function(t){t.render()}))});var r={afterGetOffset:function(){(this.columns||[]).forEach(function(t){t.getOffset()})},afterInit:function(){var t,i,e,s,n=this.chart,o=this.userOptions,r=this.options;if((r=r&&x(r.grid)?r.grid:{}).enabled&&(i=(t=this).options,e=i&&x(i.grid)?i.grid:{},s=t.chart.renderer.fontMetrics(i.labels.style.fontSize),i.labels||(i.labels={}),i.labels.align=p(i.labels.align,"center"),t.categories||(i.showLastLabel=!1),t.horiz&&(i.tickLength=e.cellHeight||s.h*(25/11)),t.labelRotation=0,i.labels.rotation=0,u(this,"labelFormatter",function(t){var i=this.axis,e=i.tickPositions,s=this.value,n=(i.isLinked?i.linkedParent:i).series[0],o=s===e[0],e=s===e[e.length-1],n=n&&d.find(n.options.data,function(t){return t[i.isXAxis?"x":"y"]===s});return this.isFirst=o,this.isLast=e,this.point=n,t.call(this)})),r.columns)for(var a=this.columns=[],h=this.columnIndex=0;++h<r.columns.length;){var l=f(o,r.columns[r.columns.length-h-1],{linkedTo:0,type:"category"});delete l.grid.columns,(l=new k(this.chart,l,!0)).isColumn=!0,l.columnIndex=h,c(n.axes,l),c(n[this.coll],l),a.push(l)}},afterSetOptions:function(t){var i=(t=(t=t.userOptions)&&x(t.grid)?t.grid:{}).columns;t.enabled&&i&&f(!0,this.options,i[i.length-1])},afterSetScale:function(){(this.columns||[]).forEach(function(t){t.setScale()})},destroy:function(i){(this.columns||[]).forEach(function(t){t.destroy(i.keepEvents)})},init:function(t){var i=(t=t.userOptions)&&x(t.grid)?t.grid:{};i.enabled&&n(i.borderColor)&&(t.tickColor=t.lineColor=i.borderColor)}};Object.keys(r).forEach(function(t){e(k,t,r[t])}),e(t,"afterSetChartSize",function(){this.axes.forEach(function(t){(t.columns||[]).forEach(function(t){t.setAxisSize(),t.setAxisTranslation()})})})}),i(t,"masters/modules/grid-axis.src.js",[],function(){})});