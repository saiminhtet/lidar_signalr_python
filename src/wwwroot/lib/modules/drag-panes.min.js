!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/drag-panes",["highcharts","highcharts/modules/stock"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i))}e(t=t?t._modules:{},"modules/drag-panes.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(i,t){var x=t.isNumber,e=t.objectEach,a=i.hasTouch;t=i.merge;var s=i.wrap,h=i.addEvent,m=i.relativeLength,o=i.Axis,n=i.Pointer;t(!0,o.prototype.defaultYAxisOptions,{minLength:"10%",maxLength:"100%",resize:{controlledAxis:{next:[],prev:[]},enabled:!1,cursor:"ns-resize",lineColor:"#cccccc",lineDashStyle:"Solid",lineWidth:4,x:0,y:0}}),i.AxisResizer=function(t){this.init(t)},i.AxisResizer.prototype={init:function(t,e){this.axis=t,this.options=t.options.resize,this.render(),e||this.addMouseEvents()},render:function(){var t=this.axis,e=t.chart,i=this.options,s=i.x,o=i.y,n=Math.min(Math.max(t.top+t.height+o,e.plotTop),e.plotTop+e.plotHeight),r={};e.styledMode||(r={cursor:i.cursor,stroke:i.lineColor,"stroke-width":i.lineWidth,dashstyle:i.lineDashStyle}),this.lastPos=n-o,this.controlLine||(this.controlLine=e.renderer.path().addClass("highcharts-axis-resizer")),this.controlLine.add(t.axisGroup),i=e.styledMode?this.controlLine.strokeWidth():i.lineWidth,r.d=e.renderer.crispLine(["M",t.left+s,n,"L",t.left+t.width+s,n],i),this.controlLine.attr(r)},addMouseEvents:function(){var t,e,i,s=this,o=s.controlLine.element,n=s.axis.chart.container,r=[];s.mouseMoveHandler=t=function(t){s.onMouseMove(t)},s.mouseUpHandler=e=function(t){s.onMouseUp(t)},s.mouseDownHandler=i=function(t){s.onMouseDown(t)},r.push(h(n,"mousemove",t),h(n.ownerDocument,"mouseup",e),h(o,"mousedown",i)),a&&r.push(h(n,"touchmove",t),h(n.ownerDocument,"touchend",e),h(o,"touchstart",i)),s.eventsToUnbind=r},onMouseMove:function(t){t.touches&&0===t.touches[0].pageX||!this.grabbed||(this.hasDragged=!0,this.updateAxes(this.axis.chart.pointer.normalize(t).chartY-this.options.y))},onMouseUp:function(t){this.hasDragged&&this.updateAxes(this.axis.chart.pointer.normalize(t).chartY-this.options.y),this.grabbed=this.hasDragged=this.axis.chart.activeResizer=null},onMouseDown:function(t){this.axis.chart.pointer.reset(!1,0),this.grabbed=this.axis.chart.activeResizer=!0},updateAxes:function(r){var a=this,h=a.axis.chart,t=0===(e=a.options.controlledAxis).next.length?[h.yAxis.indexOf(a.axis)+1]:e.next,e=[a.axis].concat(e.prev),c=[],u=!1,d=h.plotTop,p=h.plotHeight,l=d+p,f=(r=Math.max(Math.min(r,l),d))-a.lastPos;f*f<1||([e,t].forEach(function(t,n){t.forEach(function(t,e){var i,s,o=(t=x(t)?h.yAxis[t]:n||e?h.get(t):t)&&t.options;o&&"navigator-y-axis"!==o.id&&(e=t.top,i=Math.round(m(o.minLength,p)),s=Math.round(m(o.maxLength,p)),n?(f=r-a.lastPos,o=Math.round(Math.min(Math.max(t.len-f,i),s)),e=t.top+f,l<e+o&&(r+=s=l-o-e,e+=s),e<d&&(l<(e=d)+o&&(o=p)),o===i&&(u=!0),c.push({axis:t,options:{top:100*(e-d)/p+"%",height:100*o/p+"%"}})):((o=Math.round(Math.min(Math.max(r-e,i),s)))===s&&(u=!0),r=e+o,c.push({axis:t,options:{height:100*o/p+"%"}})))})}),u||(c.forEach(function(t){t.axis.update(t.options,!1)}),h.redraw(!1)))},destroy:function(){var i=this;delete i.axis.resizer,this.eventsToUnbind&&this.eventsToUnbind.forEach(function(t){t()}),i.controlLine.destroy(),e(i,function(t,e){i[e]=null})}},o.prototype.keepProps.push("resizer"),h(o,"afterRender",function(){var t=this.resizer,e=this.options.resize;e&&(e=!1!==e.enabled,t?e?t.init(this,!0):t.destroy():e&&(this.resizer=new i.AxisResizer(this)))}),h(o,"destroy",function(t){!t.keepEvents&&this.resizer&&this.resizer.destroy()}),s(n.prototype,"runPointActions",function(t){this.chart.activeResizer||t.apply(this,Array.prototype.slice.call(arguments,1))}),s(n.prototype,"drag",function(t){this.chart.activeResizer||t.apply(this,Array.prototype.slice.call(arguments,1))})}),e(t,"masters/modules/drag-panes.src.js",[],function(){})});