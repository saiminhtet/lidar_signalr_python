"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/funnel",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var e=t?t._modules:{};function i(t,e,i,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,i))}i(e,"modules/funnel.src.js",[e["parts/Globals.js"],e["parts/Utilities.js"]],function(b,t){var P=t.pick,e=b.seriesType,h=b.seriesTypes,T=b.fireEvent,X=b.noop;e("funnel","pie",{animation:!1,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,size:!0,dataLabels:{connectorWidth:1},states:{select:{color:"#cccccc",borderColor:"#000000"}}},{animate:X,translate:function(){var e,i,n,a,o,l,s,r,h,c,d=0,p=this,t=p.chart,g=p.options,u=g.reversed,f=g.ignoreHiddenPoint,b=t.plotWidth,m=t.plotHeight,y=0,W=g.center,v=j(W[0],b),x=j(W[1],m),A=j(g.width,b),L=j(g.height,m),D=j(g.neckWidth,b),k=j(g.neckHeight,m),H=x-L/2+L-k,w=p.data,Y="left"===g.dataLabels.position?1:0;function j(t,e){return/%$/.test(t)?e*parseInt(t,10)/100:parseInt(t,10)}p.getWidthAt=function(t){return H<t||L===k?D:D+(A-D)*(1-(t-(x-L/2))/(L-k))},p.getX=function(t,e,i){return v+(e?-1:1)*(p.getWidthAt(u?2*x-t:t)/2+i.labelDistance)},p.center=[v,x,L],p.centerX=v,w.forEach(function(t){f&&!1===t.visible||(d+=t.y)}),w.forEach(function(t){c=null,n=d?t.y/d:0,r=(o=x-L/2+y*L)+n*L,e=p.getWidthAt(o),l=(a=v-e/2)+e,e=p.getWidthAt(r),h=(s=v-e/2)+e,H<o?(a=s=v-D/2,l=h=v+D/2):H<r&&(c=r,e=p.getWidthAt(H),h=(s=v-e/2)+e,r=H),u&&(o=2*x-o,r=2*x-r,null!==c&&(c=2*x-c)),i=["M",a,o,"L",l,o,h,r],null!==c&&i.push(h,c,s,c),i.push(s,r,"Z"),t.shapeType="path",t.shapeArgs={d:i},t.percentage=100*n,t.plotX=v,t.plotY=(o+(c||r))/2,t.tooltipPos=[v,t.plotY],t.dlBox={x:s,y:o,topWidth:l-a,bottomWidth:h-s,height:Math.abs(P(r,c)-o),width:NaN},t.slice=X,t.half=Y,f&&!1===t.visible||(y+=n)}),T(p,"afterTranslate")},sortByAngle:function(t){t.sort(function(t,e){return t.plotY-e.plotY})},drawDataLabels:function(){var t,e,i,n,a,o=this,l=o.data,s=o.options.dataLabels.distance,r=l.length;for(o.center[2]-=2*s;r--;)e=(t=(i=l[r]).half)?1:-1,a=i.plotY,i.labelDistance=P(i.options.dataLabels&&i.options.dataLabels.distance,s),o.maxLabelDistance=Math.max(i.labelDistance,o.maxLabelDistance||0),n=o.getX(a,t,i),i.labelPosition={natural:{x:0,y:a},final:{},alignment:t?"right":"left",connectorPosition:{breakAt:{x:n+(i.labelDistance-5)*e,y:a},touchingSliceAt:{x:n+i.labelDistance*e,y:a}}};h[o.options.dataLabels.inside?"column":"pie"].prototype.drawDataLabels.call(this)},alignDataLabel:function(t,e,i,n,a){var o=t.series,l=o.options.reversed,s=t.dlBox||t.shapeArgs,r=i.align,h=i.verticalAlign,c=o.center[1],d=l?2*c-t.plotY:t.plotY,p=o.getWidthAt(d-s.height/2+e.height),g="middle"===h?(s.topWidth-s.bottomWidth)/4:(p-s.bottomWidth)/2,u=s.y,f=s.x;"middle"===h?u=s.y-s.height/2+e.height/2:"top"===h&&(u=s.y-s.height+e.height+i.padding),("top"===h&&!l||"bottom"===h&&l||"middle"===h)&&("right"===r?f=s.x-i.padding+g:"left"===r&&(f=s.x+i.padding-g)),n={x:f,y:l?u-s.height:u,width:s.bottomWidth,height:s.height},i.verticalAlign="bottom",b.Series.prototype.alignDataLabel.call(this,t,e,i,n,a),i.inside&&t.contrastColor&&e.css({color:t.contrastColor})}}),e("pyramid","funnel",{neckWidth:"0%",neckHeight:"0%",reversed:!0})}),i(e,"masters/modules/funnel.src.js",[],function(){})});