"use strict";!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/broken-axis",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var i=t?t._modules:{};function e(t,i,e,n){t.hasOwnProperty(i)||(t[i]=n.apply(null,e))}e(i,"modules/broken-axis.src.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(a,t){function f(i,t){return n(t,function(t){return t.from<i&&i<t.to})}var i=t.extend,s=t.isArray,p=t.pick,e=a.addEvent,n=a.find,k=a.fireEvent,m=a.Axis,r=a.Series;i(m.prototype,{isInBreak:function(t,i){var e=t.repeat||1/0,n=t.from,s=t.to-t.from,r=n<=i?(i-n)%e:e-(n-i)%e,o=t.inclusive?r<=s:r<s&&0!=r;return o},isInAnyBreak:function(t,i){var e,n,s,r=this.options.breaks,o=r&&r.length;if(o){for(;o--;)this.isInBreak(r[o],t)&&(e=!0,n=n||p(r[o].showPoints,!this.isXAxis));s=e&&i?e&&!n:e}return s}}),e(m,"afterInit",function(){"function"==typeof this.setBreaks&&this.setBreaks(this.options.breaks,!1)}),e(m,"afterSetTickPositions",function(){if(this.isBroken){for(var t=this.tickPositions,i=this.tickPositions.info,e=[],n=0;n<t.length;n++)this.isInAnyBreak(t[n])||e.push(t[n]);this.tickPositions=e,this.tickPositions.info=i}}),e(m,"afterSetOptions",function(){this.isBroken&&(this.options.ordinal=!1)}),m.prototype.setBreaks=function(t,i){var c=this,e=s(t)&&!!t.length;function n(t){for(var i,e=t,n=0;n<c.breakArray.length;n++)if((i=c.breakArray[n]).to<=t)e-=i.len;else{if(i.from>=t)break;if(c.isInBreak(i,t)){e-=t-i.from;break}}return e}c.isDirty=c.isBroken!==e,c.isBroken=e,c.options.breaks=c.userOptions.breaks=t,c.forceRedraw=!0,e||c.val2lin!==n||(delete c.val2lin,delete c.lin2val),e&&(c.userOptions.ordinal=!1,c.val2lin=n,c.lin2val=function(t){for(var i,e=t,n=0;n<c.breakArray.length&&!((i=c.breakArray[n]).from>=e);n++)(i.to<e||c.isInBreak(i,e))&&(e+=i.len);return e},c.setExtremes=function(t,i,e,n,s){if(this.isBroken){for(var r,o=this.options.breaks;r=f(t,o);)t=r.to;for(;r=f(i,o);)i=r.from;i<t&&(i=t)}m.prototype.setExtremes.call(this,t,i,e,n,s)},c.setAxisTranslation=function(t){var i,e,n,s,r,o,a,f,h,u,l;m.prototype.setAxisTranslation.call(this,t),this.unitLength=null,this.isBroken&&(i=c.options.breaks,e=[],n=[],s=0,a=c.userMin||c.min,f=c.userMax||c.max,h=p(c.pointRangePadding,0),i.forEach(function(t){o=t.repeat||1/0,c.isInBreak(t,a)&&(a+=t.to%o-a%o),c.isInBreak(t,f)&&(f-=f%o-t.from%o)}),i.forEach(function(t){for(u=t.from,o=t.repeat||1/0;a<u-o;)u-=o;for(;u<a;)u+=o;for(l=u;l<f;l+=o)e.push({value:l,move:"in"}),e.push({value:l+(t.to-t.from),move:"out",size:t.breakSize})}),e.sort(function(t,i){return t.value===i.value?("in"===t.move?0:1)-("in"===i.move?0:1):t.value-i.value}),r=0,u=a,e.forEach(function(t){1===(r+="in"===t.move?1:-1)&&"in"===t.move&&(u=t.value),0===r&&(n.push({from:u,to:t.value,len:t.value-u-(t.size||0)}),s+=t.value-u-(t.size||0))}),c.breakArray=n,c.unitLength=f-a-s+h,k(c,"afterBreaks"),c.staticScale?c.transA=c.staticScale:c.unitLength&&(c.transA*=(f-c.min+h)/c.unitLength),h&&(c.minPixelPadding=c.transA*c.minPointOffset),c.min=a,c.max=f)}),p(i,!0)&&this.chart.redraw()},e(r,"afterGeneratePoints",function(){var t,i=this.xAxis,e=this.yAxis,n=this.points,s=n.length,r=this.options.connectNulls;if(i&&e&&(i.options.breaks||e.options.breaks))for(;s--;)null===(t=n[s]).y&&!1===r||!i.isInAnyBreak(t.x,!0)&&!e.isInAnyBreak(t.y,!0)||(n.splice(s,1),this.data[s]&&this.data[s].destroyElements())}),e(r,"afterRender",function(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,p(this.pointArrayMap,["y"]))}),a.Series.prototype.drawBreaks=function(e,t){var n,s,r,o,i=this,a=i.points;e&&t.forEach(function(t){n=e.breakArray||[],s=e.isXAxis?e.min:p(i.options.threshold,e.min),a.forEach(function(i){o=p(i["stack"+t.toUpperCase()],i[t]),n.forEach(function(t){r=!1,s<t.from&&o>t.to||s>t.from&&o<t.from?r="pointBreak":(s<t.from&&o>t.from&&o<t.to||s>t.from&&o>t.to&&o<t.from)&&(r="pointInBreak"),r&&k(e,r,{point:i,brk:t})})})})},a.Series.prototype.gappedPath=function(){var t,i=this.currentDataGrouping,e=i&&i.gapSize,n=this.options.gapSize,s=this.points.slice(),r=s.length-1,o=this.yAxis;if(n&&0<r)for("value"!==this.options.gapUnit&&(n*=this.basePointRange),e&&n<e&&e>=this.basePointRange&&(n=e);r--;)s[r+1].x-s[r].x>n&&(t=(s[r].x+s[r+1].x)/2,s.splice(r+1,0,{isNull:!0,x:t}),this.options.stacking&&((o.stacks[this.stackKey][t]=new a.StackItem(o,o.options.stackLabels,!1,t,this.stack)).total=0));return this.getGraphPath(s)}}),e(i,"masters/modules/broken-axis.src.js",[],function(){})});