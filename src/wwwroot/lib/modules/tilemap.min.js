!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/tilemap",["highcharts","highcharts/modules/map"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,a,n){t.hasOwnProperty(e)||(t[e]=n.apply(null,a))}e(t=t?t._modules:{},"modules/tilemap.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(e,t){var a=t.extend,f=t.pick;t=e.seriesType;function M(t,e,a){return Math.min(Math.max(e,t),a)}function n(t,e,a){return{xPad:((t=t.options).colsize||1)/-e,yPad:(t.rowsize||1)/-a}}e.tileShapeTypes={hexagon:{alignDataLabel:e.seriesTypes.scatter.prototype.alignDataLabel,getSeriesPadding:function(t){return n(t,3,2)},haloPath:function(t){if(!t)return[];var e=this.tileEdges;return["M",e.x2-t,e.y1+t,"L",e.x3+t,e.y1+t,e.x4+1.5*t,e.y2,e.x3+t,e.y3-t,e.x2-t,e.y3-t,e.x1-1.5*t,e.y2,"Z"]},translate:function(){var d,t=this.options,u=this.xAxis,c=this.yAxis,y=t.pointPadding||0,g=(t.colsize||1)/3,x=(t.rowsize||1)/2;this.generatePoints(),this.points.forEach(function(t){var e=M(Math.floor(u.len-u.translate(t.x-2*g,0,1,0,1)),-u.len,2*u.len),a=M(Math.floor(u.len-u.translate(t.x-g,0,1,0,1)),-u.len,2*u.len),n=M(Math.floor(u.len-u.translate(t.x+g,0,1,0,1)),-u.len,2*u.len),i=M(Math.floor(u.len-u.translate(t.x+2*g,0,1,0,1)),-u.len,2*u.len),s=M(Math.floor(c.translate(t.y-x,0,1,0,1)),-c.len,2*c.len),r=M(Math.floor(c.translate(t.y,0,1,0,1)),-c.len,2*c.len),l=M(Math.floor(c.translate(t.y+x,0,1,0,1)),-c.len,2*c.len),o=(p=f(t.pointPadding,y))*Math.abs(a-e)/Math.abs(l-r),o=u.reversed?-o:o,h=u.reversed?-p:p,p=c.reversed?-p:p;t.x%2&&(s+=d=d||Math.round(Math.abs(l-s)/2)*(c.reversed?-1:1),r+=d,l+=d),t.plotX=t.clientX=(a+n)/2,t.plotY=r,e+=o+h,a+=h,n-=h,i-=o+h,s-=p,l+=p,t.tileEdges={x1:e,x2:a,x3:n,x4:i,y1:s,y2:r,y3:l},t.shapeType="path",t.shapeArgs={d:["M",a,s,"L",n,s,i,r,n,l,a,l,e,r,"Z"]}}),this.translateColors()}},diamond:{alignDataLabel:e.seriesTypes.scatter.prototype.alignDataLabel,getSeriesPadding:function(t){return n(t,2,2)},haloPath:function(t){if(!t)return[];var e=this.tileEdges;return["M",e.x2,e.y1+t,"L",e.x3+t,e.y2,e.x2,e.y3-t,e.x1-t,e.y2,"Z"]},translate:function(){var h,t=this.options,p=this.xAxis,d=this.yAxis,u=t.pointPadding||0,c=t.colsize||1,y=(t.rowsize||1)/2;this.generatePoints(),this.points.forEach(function(t){var e=M(Math.round(p.len-p.translate(t.x-c,0,1,0,0)),-p.len,2*p.len),a=M(Math.round(p.len-p.translate(t.x,0,1,0,0)),-p.len,2*p.len),n=M(Math.round(p.len-p.translate(t.x+c,0,1,0,0)),-p.len,2*p.len),i=M(Math.round(d.translate(t.y-y,0,1,0,0)),-d.len,2*d.len),s=M(Math.round(d.translate(t.y,0,1,0,0)),-d.len,2*d.len),r=M(Math.round(d.translate(t.y+y,0,1,0,0)),-d.len,2*d.len),l=(o=f(t.pointPadding,u))*Math.abs(a-e)/Math.abs(r-s),l=p.reversed?-l:l,o=d.reversed?-o:o;t.x%2&&(i+=h=Math.abs(r-i)/2*(d.reversed?-1:1),s+=h,r+=h),t.plotX=t.clientX=a,t.plotY=s,e+=l,n-=l,i-=o,r+=o,t.tileEdges={x1:e,x2:a,x3:n,y1:i,y2:s,y3:r},t.shapeType="path",t.shapeArgs={d:["M",a,i,"L",n,s,a,r,e,s,"Z"]}}),this.translateColors()}},circle:{alignDataLabel:e.seriesTypes.scatter.prototype.alignDataLabel,getSeriesPadding:function(t){return n(t,2,2)},haloPath:function(t){return e.seriesTypes.scatter.prototype.pointClass.prototype.haloPath.call(this,t+(t&&this.radius))},translate:function(){var s,r,l,o,t=this.options,h=this.xAxis,p=this.yAxis,d=t.pointPadding||0,u=(t.rowsize||1)/2,c=t.colsize||1,y=!1;this.generatePoints(),this.points.forEach(function(t){var e=M(Math.round(h.len-h.translate(t.x,0,1,0,0)),-h.len,2*h.len),a=M(Math.round(p.translate(t.y,0,1,0,0)),-p.len,2*p.len),n=d,i=!1;void 0!==t.pointPadding&&(n=t.pointPadding,y=i=!0),o&&!y||(s=Math.abs(M(Math.floor(h.len-h.translate(t.x+c,0,1,0,0)),-h.len,2*h.len)-e),r=Math.abs(M(Math.floor(p.translate(t.y+u,0,1,0,0)),-p.len,2*p.len)-a),l=Math.floor(Math.sqrt(s*s+r*r)/2),o=Math.min(s,l,r)-n,y&&!i&&(y=!1)),t.x%2&&(a+=r*(p.reversed?-1:1)),t.plotX=t.clientX=e,t.plotY=a,t.radius=o,t.shapeType="circle",t.shapeArgs={x:e,y:a,r:o}}),this.translateColors()}},square:{alignDataLabel:e.seriesTypes.heatmap.prototype.alignDataLabel,translate:e.seriesTypes.heatmap.prototype.translate,getSeriesPadding:function(){},haloPath:e.seriesTypes.heatmap.prototype.pointClass.prototype.haloPath}},e.addEvent(e.Axis,"afterSetAxisTranslation",function(){var e,t,a;this.recomputingForTilemap||"colorAxis"===this.coll||(t=(e=this).series.map(function(t){return t.getSeriesPixelPadding&&t.getSeriesPixelPadding(e)}).reduce(function(t,e){return(t&&t.padding)>(e&&e.padding)?t:e},void 0)||{padding:0,axisLengthFactor:1},a=Math.round(t.padding*t.axisLengthFactor),t.padding&&(e.len-=a,e.recomputingForTilemap=!0,e.setAxisTranslation(),delete e.recomputingForTilemap,e.minPixelPadding+=t.padding,e.len+=a))}),t("tilemap","heatmap",{states:{hover:{halo:{enabled:!0,size:2,opacity:.5,attributes:{zIndex:3}}}},pointPadding:2,tileShape:"hexagon"},{setOptions:function(){var t=e.seriesTypes.heatmap.prototype.setOptions.apply(this,Array.prototype.slice.call(arguments));return this.tileShape=e.tileShapeTypes[t.tileShape],t},alignDataLabel:function(){return this.tileShape.alignDataLabel.apply(this,Array.prototype.slice.call(arguments))},getSeriesPixelPadding:function(t){var e=t.isXAxis,a=this.tileShape.getSeriesPadding(this);if(!a)return{padding:0,axisLengthFactor:1};var n=Math.round(t.translate(e?2*a.xPad:a.yPad,0,1,0,1));return t=Math.round(t.translate(e?a.xPad:0,0,1,0,1)),{padding:Math.abs(n-t)||0,axisLengthFactor:e?2:1.1}},translate:function(){return this.tileShape.translate.apply(this,Array.prototype.slice.call(arguments))}},a({haloPath:function(){return this.series.tileShape.haloPath.apply(this,Array.prototype.slice.call(arguments))}},e.colorPointMixin))}),e(t,"masters/modules/tilemap.src.js",[],function(){})});