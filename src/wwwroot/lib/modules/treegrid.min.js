!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/treegrid",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i))}e(t=t?t._modules:{},"parts-gantt/GridAxis.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(d,e){function m(t){return e.isObject(t,!0)}var n=e.defined,c=e.erase,p=e.isArray,g=e.isNumber,v=e.pick,i=d.addEvent,s=d.dateFormat,f=d.merge,u=d.wrap,t=d.Chart,x=d.Axis,o=d.Tick,k={top:0,right:1,bottom:2,left:3,0:"top",1:"right",2:"bottom",3:"left"};x.prototype.isOuterAxis=function(){var i=this,t=i.columnIndex,e=i.linkedParent&&i.linkedParent.columns||i.columns,s=t?i.linkedParent:i,n=-1,o=0;return i.chart[i.coll].forEach(function(t,e){t.side!==i.side||t.options.isInternal||(o=e,t===s&&(n=e))}),o===n&&(!g(t)||e.length===t)},x.prototype.getMaxLabelDimensions=function(i,t){var s={width:0,height:0};return t.forEach(function(t){var e;t=i[t],m(t)&&(t=(e=m(t.label)?t.label:{}).getBBox?e.getBBox().height:0,e.textStr&&!g(e.textPxLength)&&(e.textPxLength=e.getBBox().width),e=g(e.textPxLength)?Math.round(e.textPxLength):0,s.height=Math.max(t,s.height),s.width=Math.max(e,s.width))}),s},d.dateFormats.W=function(t){(t=new Date(t)).setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()||7));var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t-e)/864e5+1)/7)},d.dateFormats.E=function(t){return s("%a",t,!0).charAt(0)},i(o,"afterGetLabelPosition",function(t){var e,i=this.label,s=this.axis,n=s.reversed,o=s.chart,r=s.options,a=r&&m(r.grid)?r.grid:{},l=(r=s.options.labels).align,h=k[s.side],d=t.tickmarkOffset,c=s.tickPositions,f=this.pos-d,c=g(c[t.index+1])?c[t.index+1]-d:s.max+d,u=s.tickSize("tick",!0),d=p(u)?u[0]:0,u=u&&u[1]/2;!0===a.enabled&&("top"===h?e=(a=s.top+s.offset)-d:"bottom"===h?a=(e=o.chartHeight-s.bottom+s.offset)+d:(a=s.top+s.len-s.translate(n?c:f),e=s.top+s.len-s.translate(n?f:c)),"right"===h?n=(h=o.chartWidth-s.right+s.offset)+d:"left"===h?h=(n=s.left+s.offset)-d:(h=Math.round(s.left+s.translate(n?c:f))-u,n=Math.round(s.left+s.translate(n?f:c))-u),this.slotWidth=n-h,t.pos.x="left"===l?h:"right"===l?n:h+(n-h)/2,t.pos.y=e+(a-e)/2,o=o.renderer.fontMetrics(r.style.fontSize,i.element),i=i.getBBox().height,r.useHTML?t.pos.y+=o.b+-i/2:(i=Math.round(i/o.h),t.pos.y+=(o.b-(o.h-o.f))/2+-((i-1)*o.h)/2),t.pos.x+=s.horiz&&r.x||0)}),i(x,"afterTickSize",function(t){var e=this.maxLabelDimensions,i=this.options;!0===(i&&m(i.grid)?i.grid:{}).enabled&&(e=(i=2*Math.abs(this.defaultLeftAxisOptions.labels.x))+(this.horiz?e.height:e.width),p(t.tickSize)?t.tickSize[0]=e:t.tickSize=[e])}),i(x,"afterGetTitlePosition",function(t){var e,i,s,n,o,r,a,l,h,d,c,f,u,p=this.options;!0===(p&&m(p.grid)?p.grid:{}).enabled&&(e=(f=this.axisTitle)&&f.getBBox().width,i=this.horiz,s=this.left,n=this.top,o=this.width,r=this.height,a=p.title,p=this.opposite,l=this.offset,u=this.tickSize()||[0],h=a.x||0,d=a.y||0,c=v(a.margin,i?5:10),f=this.chart.renderer.fontMetrics(a.style&&a.style.fontSize,f).f,u=(i?n+r:s)+u[0]/2*(p?-1:1)*(i?1:-1)+(this.side===k.bottom?f:0),t.titlePosition.x=i?s-e/2-c+h:u+(p?o:0)+l+h,t.titlePosition.y=i?u-(p?r:0)+(p?f:-f)/2+l+d:n-c+d)}),u(x.prototype,"unsquish",function(t){var e=this.options;return!0===(e&&m(e.grid)?e.grid:{}).enabled&&this.categories?this.tickInterval:t.apply(this,Array.prototype.slice.call(arguments,1))}),i(x,"afterSetOptions",function(t){var e=this.options;t=t.userOptions;var l,i=e&&m(e.grid)?e.grid:{};!0===i.enabled&&(l=f(!0,{className:"highcharts-grid-axis "+(t.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"13px"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},t),"xAxis"===this.coll&&(n(t.linkedTo)&&!n(t.tickPixelInterval)&&(l.tickPixelInterval=350),n(t.tickPixelInterval)||!n(t.linkedTo)||n(t.tickPositioner)||n(t.tickInterval)||(l.tickPositioner=function(t,e){var i=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(i){for(var s,n,o=l.units,r=0;r<o.length;r++)if(o[r][0]===i.unitName){var a=r;break}if(o[a][1])return o[a+1]&&(s=o[a+1][0],n=(o[a+1][1]||[1])[0]),i=d.timeUnits[s],this.tickInterval=i*n,this.getTimeTicks({unitRange:i,count:n,unitName:s},t,e,this.options.startOfWeek)}})),f(!0,this.options,l),this.horiz&&(e.minPadding=v(t.minPadding,0),e.maxPadding=v(t.maxPadding,0)),g(e.grid.borderWidth)&&(e.tickWidth=e.lineWidth=i.borderWidth))}),i(x,"afterSetAxisTranslation",function(){var t=this.options,e=t&&m(t.grid)?t.grid:{},i=this.tickPositions&&this.tickPositions.info,s=this.userOptions.labels||{};this.horiz&&(!0===e.enabled&&this.series.forEach(function(t){t.options.pointRange=0}),i&&(!1===t.dateTimeLabelFormats[i.unitName].range||1<i.count)&&!n(s.align)&&(t.labels.align="left",n(s.x)||(t.labels.x=3)))}),i(x,"trimTicks",function(){var t=this.options,e=t&&m(t.grid)?t.grid:{},i=this.categories,s=this.tickPositions,n=s[0],o=s[s.length-1],r=this.linkedParent&&this.linkedParent.min||this.min,a=this.linkedParent&&this.linkedParent.max||this.max,l=this.tickInterval;!0!==e.enabled||i||!this.horiz&&!this.isLinked||(n<r&&r<n+l&&!t.startOnTick&&(s[0]=r),a<o&&o-l<a&&!t.endOnTick&&(s[s.length-1]=a))}),i(x,"afterRender",function(){var t,e,i,s,n,o,r=this.options,a=r&&m(r.grid)?r.grid:{},l=this.chart.renderer;!0===a.enabled&&(this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.isOuterAxis()&&this.axisLine&&((t=r.lineWidth)&&(i=(e=this.getLinePath(t)).indexOf("M")+1,s=e.indexOf("L")+1,a=e.indexOf("M")+2,n=e.indexOf("L")+2,o=(this.tickSize("tick")[0]-1)*(this.side===k.top||this.side===k.left?-1:1),this.horiz?(e[a]+=o,e[n]+=o):(e[i]+=o,e[s]+=o),this.axisLineExtra?this.axisLineExtra.animate({d:e}):(this.axisLineExtra=l.path(e).attr({zIndex:7}).addClass("highcharts-axis-line").add(this.axisGroup),l.styledMode||this.axisLineExtra.attr({stroke:r.lineColor,"stroke-width":t})),this.axisLine[this.showAxis?"show":"hide"](!0))),(this.columns||[]).forEach(function(t){t.render()}))});var r={afterGetOffset:function(){(this.columns||[]).forEach(function(t){t.getOffset()})},afterInit:function(){var t,e,i,s,n=this.chart,o=this.userOptions,r=this.options;if((r=r&&m(r.grid)?r.grid:{}).enabled&&(e=(t=this).options,i=e&&m(e.grid)?e.grid:{},s=t.chart.renderer.fontMetrics(e.labels.style.fontSize),e.labels||(e.labels={}),e.labels.align=v(e.labels.align,"center"),t.categories||(e.showLastLabel=!1),t.horiz&&(e.tickLength=i.cellHeight||s.h*(25/11)),t.labelRotation=0,e.labels.rotation=0,u(this,"labelFormatter",function(t){var e=this.axis,i=e.tickPositions,s=this.value,n=(e.isLinked?e.linkedParent:e).series[0],o=s===i[0],i=s===i[i.length-1],n=n&&d.find(n.options.data,function(t){return t[e.isXAxis?"x":"y"]===s});return this.isFirst=o,this.isLast=i,this.point=n,t.call(this)})),r.columns)for(var a=this.columns=[],l=this.columnIndex=0;++l<r.columns.length;){var h=f(o,r.columns[r.columns.length-l-1],{linkedTo:0,type:"category"});delete h.grid.columns,(h=new x(this.chart,h,!0)).isColumn=!0,h.columnIndex=l,c(n.axes,h),c(n[this.coll],h),a.push(h)}},afterSetOptions:function(t){var e=(t=(t=t.userOptions)&&m(t.grid)?t.grid:{}).columns;t.enabled&&e&&f(!0,this.options,e[e.length-1])},afterSetScale:function(){(this.columns||[]).forEach(function(t){t.setScale()})},destroy:function(e){(this.columns||[]).forEach(function(t){t.destroy(e.keepEvents)})},init:function(t){var e=(t=t.userOptions)&&m(t.grid)?t.grid:{};e.enabled&&n(e.borderColor)&&(t.tickColor=t.lineColor=e.borderColor)}};Object.keys(r).forEach(function(t){i(x,t,r[t])}),i(t,"afterSetChartSize",function(){this.axes.forEach(function(t){(t.columns||[]).forEach(function(t){t.setAxisSize(),t.setAxisTranslation()})})})}),e(t,"parts-gantt/Tree.js",[t["parts/Utilities.js"]],function(t){function s(t,s){var n=t.reduce(function(t,e){var i=p(e.parent,"");return void 0===t[i]&&(t[i]=[]),t[i].push(e),t},{});return Object.keys(n).forEach(function(t,e){var i=n[t];""!==t&&-1===s.indexOf(t)&&(i.forEach(function(t){e[""].push(t)}),delete e[t])}),n}var f=t.extend,u=t.isNumber,p=t.pick,m=function(s,t,n,e,o,r){var a,l,h=0,d=0,i=r&&r.after,c=r&&r.before;return t={data:e,depth:n-1,id:s,level:n,parent:t},"function"==typeof c&&c(t,r),c=(o[s]||[]).map(function(t){var e=m(t.id,s,n+1,t,o,r),i=t.start;return t=!0===t.milestone?i:t.end,a=!u(a)||i<a?i:a,l=!u(l)||l<t?t:l,h=h+1+e.descendants,d=Math.max(e.height+1,d),e}),e&&(e.start=p(e.start,a),e.end=p(e.end,l)),f(t,{children:c,descendants:h,height:d}),"function"==typeof i&&i(t,r),t};return{getListOfParents:s,getNode:m,getTree:function(t,e){var i=t.map(function(t){return t.id});return t=s(t,i),m("",null,1,null,t,e)}}}),e(t,"mixins/tree-series.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(m,t){var d=t.extend,r=t.isArray,a=t.isNumber,l=t.isObject,g=t.pick,h=m.merge;return{getColor:function(t,e){var i,s,n,o,r=e.index,a=e.mapOptionsToLevel,l=e.parentColor,h=e.parentColorIndex,d=e.series,c=e.colors,f=e.siblings,u=d.points,p=d.chart.options.chart;return t&&(u=u[t.i],t=a[t.level]||{},(a=u&&t.colorByPoint)&&(s=u.index%(c?c.length:p.colorCount),n=c&&c[s]),d.chart.styledMode||(c=u&&u.options.color,p=t&&t.color,(i=l)&&(i=(i=t&&t.colorVariation)&&"brightness"===i.key?m.color(l).brighten(r/f*i.to).get():l),i=g(c,p,n,i,d.color)),o=g(u&&u.options.colorIndex,t&&t.colorIndex,s,h,e.colorIndex)),{color:i,colorIndex:o}},getLevelOptions:function(t){var e=null;if(l(t)){e={};var n=a(t.from)?t.from:1,i=t.levels,s={},o=l(t.defaults)?t.defaults:{};for(r(i)&&(s=i.reduce(function(t,e){var i,s;return l(e)&&a(e.level)&&(s="boolean"==typeof(i=h({},e)).levelIsConstant?i.levelIsConstant:o.levelIsConstant,delete i.levelIsConstant,delete i.level,e=e.level+(s?0:n-1),l(t[e])?d(t[e],i):t[e]=i),t},{})),i=a(t.to)?t.to:1,t=0;t<=i;t++)e[t]=h({},o,l(s[t])?s[t]:{})}return e},setTreeValues:function s(n,o){var t=o.before,e=o.idRoot,i=o.mapIdToNode[e],r=o.points[n.i],a=r&&r.options||{},l=0,h=[];return d(n,{levelDynamic:n.level-("boolean"!=typeof o.levelIsConstant||o.levelIsConstant?0:i.level),name:g(r&&r.name,""),visible:e===n.id||"boolean"==typeof o.visible&&o.visible}),"function"==typeof t&&(n=t(n,o)),n.children.forEach(function(t,e){var i=d({},o);d(i,{index:e,siblings:n.children.length,visible:n.visible}),t=s(t,i),h.push(t),t.visible&&(l+=t.val)}),n.visible=0<l||n.visible,t=g(a.value,l),d(n,{children:h,childrenTotal:l,isLeaf:n.visible&&!l,val:t}),n},updateRootId:function(t){var e;return l(t)&&(e=l(t.options)?t.options:{},e=g(t.rootNode,e.rootId,""),l(t.userOptions)&&(t.userOptions.rootId=e),t.rootNode=e),e}}}),e(t,"modules/broken-axis.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(o,t){var e=t.extend,n=t.isArray,f=t.pick;t=o.addEvent;function a(e,t){return i(t,function(t){return t.from<e&&e<t.to})}var i=o.find,u=o.fireEvent,p=o.Axis,s=o.Series;e(p.prototype,{isInBreak:function(t,e){var i=t.repeat||1/0,s=t.from,n=t.to-t.from;return e=s<=e?(e-s)%i:i-(s-e)%i,t.inclusive?e<=n:e<n&&0!==e},isInAnyBreak:function(t,e){var i,s,n=this.options.breaks,o=n&&n.length;if(o){for(;o--;){this.isInBreak(n[o],t)&&(i=!0,s=s||f(n[o].showPoints,!this.isXAxis))}var r=i&&e?i&&!s:i}return r}}),t(p,"afterInit",function(){"function"==typeof this.setBreaks&&this.setBreaks(this.options.breaks,!1)}),t(p,"afterSetTickPositions",function(){if(this.isBroken){for(var t=this.tickPositions,e=this.tickPositions.info,i=[],s=0;s<t.length;s++)this.isInAnyBreak(t[s])||i.push(t[s]);this.tickPositions=i,this.tickPositions.info=e}}),t(p,"afterSetOptions",function(){this.isBroken&&(this.options.ordinal=!1)}),p.prototype.setBreaks=function(t,e){function i(t){for(var e=t,i=0;i<c.breakArray.length;i++){var s=c.breakArray[i];if(s.to<=t)e-=s.len;else{if(s.from>=t)break;if(c.isInBreak(s,t)){e-=t-s.from;break}}}return e}var c=this,s=n(t)&&!!t.length;c.isDirty=c.isBroken!==s,c.isBroken=s,c.options.breaks=c.userOptions.breaks=t,c.forceRedraw=!0,s||c.val2lin!==i||(delete c.val2lin,delete c.lin2val),s&&(c.userOptions.ordinal=!1,c.val2lin=i,c.lin2val=function(t){for(var e=0;e<c.breakArray.length;e++){var i=c.breakArray[e];if(i.from>=t)break;(i.to<t||c.isInBreak(i,t))&&(t+=i.len)}return t},c.setExtremes=function(t,e,i,s,n){if(this.isBroken){for(var o,r=this.options.breaks;o=a(t,r);)t=o.to;for(;o=a(e,r);)e=o.from;e<t&&(e=t)}p.prototype.setExtremes.call(this,t,e,i,s,n)},c.setAxisTranslation=function(t){var e,i,s,n,o,r,a,l,h,d;p.prototype.setAxisTranslation.call(this,t),this.unitLength=null,this.isBroken&&(t=c.options.breaks,e=[],i=[],s=0,o=c.userMin||c.min,r=c.userMax||c.max,a=f(c.pointRangePadding,0),t.forEach(function(t){n=t.repeat||1/0,c.isInBreak(t,o)&&(o+=t.to%n-o%n),c.isInBreak(t,r)&&(r-=r%n-t.from%n)}),t.forEach(function(t){for(d=t.from,n=t.repeat||1/0;o<d-n;)d-=n;for(;d<o;)d+=n;for(l=d;l<r;l+=n)e.push({value:l,move:"in"}),e.push({value:l+(t.to-t.from),move:"out",size:t.breakSize})}),e.sort(function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value}),h=0,d=o,e.forEach(function(t){1===(h+="in"===t.move?1:-1)&&"in"===t.move&&(d=t.value),0===h&&(i.push({from:d,to:t.value,len:t.value-d-(t.size||0)}),s+=t.value-d-(t.size||0))}),c.breakArray=i,c.unitLength=r-o-s+a,u(c,"afterBreaks"),c.staticScale?c.transA=c.staticScale:c.unitLength&&(c.transA*=(r-c.min+a)/c.unitLength),a&&(c.minPixelPadding=c.transA*c.minPointOffset),c.min=o,c.max=r)}),f(e,!0)&&this.chart.redraw()},t(s,"afterGeneratePoints",function(){var t=this.xAxis,e=this.yAxis,i=this.points,s=i.length,n=this.options.connectNulls;if(t&&e&&(t.options.breaks||e.options.breaks))for(;s--;){var o=i[s];null===o.y&&!1===n||!t.isInAnyBreak(o.x,!0)&&!e.isInAnyBreak(o.y,!0)||(i.splice(s,1),this.data[s]&&this.data[s].destroyElements())}}),t(s,"afterRender",function(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,f(this.pointArrayMap,["y"]))}),o.Series.prototype.drawBreaks=function(i,t){var s,n,o,r,e=this,a=e.points;i&&t.forEach(function(t){s=i.breakArray||[],n=i.isXAxis?i.min:f(e.options.threshold,i.min),a.forEach(function(e){r=f(e["stack"+t.toUpperCase()],e[t]),s.forEach(function(t){o=!1,n<t.from&&r>t.to||n>t.from&&r<t.from?o="pointBreak":(n<t.from&&r>t.from&&r<t.to||n>t.from&&r>t.to&&r<t.from)&&(o="pointInBreak"),o&&u(i,o,{point:e,brk:t})})})})},o.Series.prototype.gappedPath=function(){var t=(e=this.currentDataGrouping)&&e.gapSize,e=this.options.gapSize,i=this.points.slice(),s=i.length-1,n=this.yAxis;if(e&&0<s)for("value"!==this.options.gapUnit&&(e*=this.basePointRange),t&&e<t&&t>=this.basePointRange&&(e=t);s--;)i[s+1].x-i[s].x>e&&(t=(i[s].x+i[s+1].x)/2,i.splice(s+1,0,{isNull:!0,x:t}),this.options.stacking&&((t=n.stacks[this.stackKey][t]=new o.StackItem(n,n.options.stackLabels,!1,t,this.stack)).total=0));return this.getGraphPath(i)}}),e(t,"parts-gantt/TreeGrid.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["parts-gantt/Tree.js"],t["mixins/tree-series.js"]],function(E,e,k,t){function T(t){return Array.prototype.slice.call(t,1)}function I(t){return e.isObject(t,!0)}var L=e.defined,i=e.extend,A=e.isNumber,b=e.isString,B=e.pick,n=E.addEvent,y=E.find,s=E.fireEvent,P=t.getLevelOptions,O=E.merge,o=E.wrap;t=E.Axis;function r(t,e){var i,s;for(i in e){Object.hasOwnProperty.call(e,i)&&(s=e[i],o(t,i,s))}}function a(t,e){var i=t.collapseStart;return e<=(t=t.collapseEnd)&&(i-=.5),{from:i,to:t,showPoints:!1}}function w(t,e){var i=t.options.breaks||[],s=a(e,t.max);return i.some(function(t){return t.from===s.from&&t.to===s.to})}function N(t,e){var i=t.options.breaks||[];return t=a(e,t.max),i.push(t),i}function l(t,e){var i=t.options.breaks||[],s=a(e,t.max);return i.reduce(function(t,e){return e.to===s.to&&e.from===s.from||t.push(e),t},[])}function h(x){x.target.axes.filter(function(t){return"treegrid"===t.options.type}).forEach(function(e){var t,i,s,n,o,r,a,l,h,d,c,f,u,p=e.options||{},m=p.labels,g=p.uniqueNames,v=0;e.mapOfPosToGridNode&&!e.series.some(function(t){return!t.hasRendered||t.isDirtyData||t.isDirty})||(p=e.series.reduce(function(e,t){return t.visible&&(t.options.data.forEach(function(t){I(t)&&(t.seriesIndex=v,e.push(t))}),!0===g&&v++),e},[]),s=p,o=!0===(n=g)?v:1,l=[],h=[],d={},c={},f=-1,u="boolean"==typeof n&&n,s=k.getTree(s,{after:function(t){t=c[t.pos];var e=0,i=0;t.children.forEach(function(t){i+=t.descendants+1,e=Math.max(t.height+1,e)}),t.descendants=i,t.height=e,t.collapsed&&h.push(t)},before:function(t){var e,i=I(t.data)?t.data:{},s=b(i.name)?i.name:"",n=d[t.parent],n=I(n)?c[n.pos]:null,o=function(t){return t.name===s};u&&I(n)&&(e=y(n.children,o))?(o=e.pos,e.nodes.push(t)):o=f++,c[o]||(c[o]=e={depth:n?n.depth+1:0,name:s,nodes:[t],children:[],pos:o},-1!==o&&l.push(s),I(n)&&n.children.push(e)),b(t.id)&&(d[t.id]=t),!0===i.collapsed&&(e.collapsed=!0),t.pos=o}}),r=o,c=(a=function(t,i,e){var s=i+(-1===i?0:r-1),n=(s-i)/2,o=i+n;return t.nodes.forEach(function(t){var e=t.data;I(e)&&(e.y=i+e.seriesIndex,delete e.seriesIndex),t.pos=o}),(e[o]=t).pos=o,t.tickmarkOffset=.5+n,t.collapseStart=s+.5,t.children.forEach(function(t){a(t,s+1,e),s=t.collapseEnd-.5}),t.collapseEnd=s+.5,e})(c[-1],-1,{}),i={categories:l,mapOfIdToNode:d,mapOfPosToGridNode:c,collapsedNodes:h,tree:s},e.categories=i.categories,e.mapOfPosToGridNode=i.mapOfPosToGridNode,e.hasNames=!0,e.tree=i.tree,e.series.forEach(function(t){var e=t.options.data.map(function(t){return I(t)?O(t):t});t.visible&&t.setData(e,!1)}),e.mapOptionsToLevel=P({defaults:m,from:1,levels:m.levels,to:e.tree.height}),"beforeRender"===x.type&&(t=E.addEvent(e,"foundExtremes",function(){i.collapsedNodes.forEach(function(t){t=N(e,t),e.setBreaks(t,!1)}),t()})))})}var d=E.Tick;r(t.prototype,{init:function(t,e,i){var s="treegrid"===i.type;s&&(n(e,"beforeRender",h),n(e,"beforeRedraw",h),i=O({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10,padding:5}},uniqueNames:!1},i,{reversed:!0,grid:{columns:void 0}})),t.apply(this,[e,i]),s&&(this.hasNames=!0,this.options.showLastLabel=!0)},getMaxLabelDimensions:function(t){var e,i=(s=(i=this.options)&&i.labels)&&A(s.indentation)?i.labels.indentation:0,s=t.apply(this,T(arguments));return"treegrid"===this.options.type&&this.mapOfPosToGridNode&&(e=this.mapOfPosToGridNode[-1].height,s.width+=i*(e-1)),s},generateTick:function(t,e){var i,s,n=I(this.mapOptionsToLevel)?this.mapOptionsToLevel:{},o=this.ticks,r=o[e];"treegrid"===this.options.type?((n=n[(s=this.mapOfPosToGridNode[e]).depth])&&(i={labels:n}),r?(r.parameters.category=s.name,r.options=i,r.addLabel()):o[e]=new d(this,e,null,void 0,{category:s.name,tickmarkOffset:s.tickmarkOffset,options:i})):t.apply(this,T(arguments))},setTickInterval:function(t){var i,e=this.options;"treegrid"===e.type?(this.min=B(this.userMin,e.min,this.dataMin),this.max=B(this.userMax,e.max,this.dataMax),s(this,"foundExtremes"),this.setAxisTranslation(!0),this.tickmarkOffset=.5,this.tickInterval=1,this.tickPositions=this.mapOfPosToGridNode?(i=this,Object.keys(i.mapOfPosToGridNode).reduce(function(t,e){return e=+e,i.min<=e&&i.max>=e&&!i.isInAnyBreak(e)&&t.push(e),t},[])):[]):t.apply(this,T(arguments))}}),r(d.prototype,{getLabelPosition:function(t,e,i,s,n,o,r,a,l){var h=B(this.options&&this.options.labels,o);o=this.pos;var d=this.axis,c="treegrid"===d.options.type;return t=t.apply(this,[e,i,s,n,h,r,a,l]),c&&(e=h&&I(h.symbol)?h.symbol:{},h=h&&A(h.indentation)?h.indentation:0,o=(o=(d=d.mapOfPosToGridNode)&&d[o])&&o.depth||1,t.x+=e.width+2*e.padding+(o-1)*h),t},renderLabel:function(t){var e,i,s,n,o,r,a,l,h,d,c,f,u=this,p=u.pos,m=u.axis,g=u.label,v=m.mapOfPosToGridNode,x=m.options,k=B(u.options&&u.options.labels,x&&x.labels),b=k&&I(k.symbol)?k.symbol:{},y=(v=v&&v[p])&&v.depth,x="treegrid"===x.type,P=!(!g||!g.element),O=-1<m.tickPositions.indexOf(p),p=m.chart.styledMode;x&&v&&P&&g.addClass("highcharts-treegrid-node-level-"+y),t.apply(u,T(arguments)),x&&v&&P&&0<v.descendants&&(m=w(m,v),e=u,i={color:!p&&g.styles.color,collapsed:m,group:g.parentGroup,options:b,renderer:g.renderer,show:O,xy:g.xy},s=e.labelIcon,n=!s,o=i.renderer,r=i.xy,a=i.options,l=a.width,h=a.height,d=r.x-l/2-a.padding,r=r.y-h/2,c=i.collapsed?90:180,f=i.show&&A(r),n&&(e.labelIcon=s=o.path(o.symbols[a.type](a.x,a.y,l,h)).addClass("highcharts-label-icon").add(i.group)),f||s.attr({y:-9999}),o.styledMode||s.attr({"stroke-width":1,fill:B(i.color,"#666666")}).css({cursor:"pointer",stroke:a.lineColor,strokeWidth:a.lineWidth}),s[n?"attr":"animate"]({translateX:d,translateY:r,rotation:c}),b="highcharts-treegrid-node-"+(m?"expanded":"collapsed"),g.addClass("highcharts-treegrid-node-"+(m?"collapsed":"expanded")).removeClass(b),p||g.css({cursor:"pointer"}),[g,u.labelIcon].forEach(function(t){t.attachedTreeGridEvents||(E.addEvent(t.element,"mouseover",function(){g.addClass("highcharts-treegrid-node-active"),g.renderer.styledMode||g.css({textDecoration:"underline"})}),E.addEvent(t.element,"mouseout",function(){var t=L(k.style)?k.style:{};g.removeClass("highcharts-treegrid-node-active"),g.renderer.styledMode||g.css({textDecoration:t.textDecoration})}),E.addEvent(t.element,"click",function(){u.toggleCollapse()}),t.attachedTreeGridEvents=!0)}))}}),i(d.prototype,{collapse:function(t){var e=this.axis,i=N(e,e.mapOfPosToGridNode[this.pos]);e.setBreaks(i,B(t,!0))},expand:function(t){var e=this.axis,i=l(e,e.mapOfPosToGridNode[this.pos]);e.setBreaks(i,B(t,!0))},toggleCollapse:function(t){var e=this.axis,i=e.mapOfPosToGridNode[this.pos],i=(w(e,i)?l:N)(e,i);e.setBreaks(i,B(t,!0))}}),t.prototype.utils={getNode:k.getNode}}),e(t,"masters/modules/treegrid.src.js",[],function(){})});