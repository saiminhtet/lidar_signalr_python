!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/stock",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function i(t,i,e,o){t.hasOwnProperty(i)||(t[i]=o.apply(null,e))}i(t=t?t._modules:{},"parts/Scrollbar.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(a,t){function i(t,i,e){this.init(t,i,e)}var l=t.defined,e=t.destroyObjectProperties,r=t.pick,n=a.addEvent;t=a.Axis;var h,d=a.correctFloat,o=a.defaultOptions,c=a.fireEvent,p=a.hasTouch,s=a.merge,u=a.removeEvent,g={height:a.isTouchDevice?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:void 0,margin:10,minWidth:6,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1};o.scrollbar=s(!0,g,o.scrollbar),a.swapXY=h=function(t,i){var e=t.length;if(i)for(i=0;i<e;i+=3){var o=t[i+1];t[i+1]=t[i+2],t[i+2]=o}return t},i.prototype={init:function(t,i,e){this.scrollbarButtons=[],this.renderer=t,this.userOptions=i,this.options=s(g,i),this.chart=e,this.size=r(this.options.size,this.options.height),i.enabled&&(this.render(),this.initEvents(),this.addEvents())},render:function(){var t,i=this.renderer,e=this.options,o=this.size,s=this.chart.styledMode;this.group=t=i.g("scrollbar").attr({zIndex:e.zIndex,translateY:-99999}).add(),this.track=i.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:e.trackBorderRadius||0,height:o,width:o}).add(t),s||this.track.attr({fill:e.trackBackgroundColor,stroke:e.trackBorderColor,"stroke-width":e.trackBorderWidth}),this.trackBorderWidth=this.track.strokeWidth(),this.track.attr({y:-this.trackBorderWidth%2/2}),this.scrollbarGroup=i.g().add(t),this.scrollbar=i.rect().addClass("highcharts-scrollbar-thumb").attr({height:o,width:o,r:e.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=i.path(h(["M",-3,o/4,"L",-3,2*o/3,"M",0,o/4,"L",0,2*o/3,"M",3,o/4,"L",3,2*o/3],e.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),s||(this.scrollbar.attr({fill:e.barBackgroundColor,stroke:e.barBorderColor,"stroke-width":e.barBorderWidth}),this.scrollbarRifles.attr({stroke:e.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)},position:function(t,i,e,o){var s=this.options.vertical,a=0,r=this.rendered?"animate":"attr";this.x=t,this.y=i+this.trackBorderWidth,this.width=e,this.xOffset=this.height=o,this.yOffset=a,s?(this.width=this.yOffset=e=a=this.size,this.xOffset=i=0,this.barWidth=o-2*e,this.x=t+=this.options.margin):(this.height=this.xOffset=o=i=this.size,this.barWidth=e-2*o,this.y+=this.options.margin),this.group[r]({translateX:t,translateY:this.y}),this.track[r]({width:e,height:o}),this.scrollbarButtons[1][r]({translateX:s?0:e-i,translateY:s?o-a:0})},drawScrollbarButton:function(t){var i=this.renderer,e=this.scrollbarButtons,o=this.options,s=this.size,a=i.g().add(this.group);e.push(a),a=i.rect().addClass("highcharts-scrollbar-button").add(a),this.chart.styledMode||a.attr({stroke:o.buttonBorderColor,"stroke-width":o.buttonBorderWidth,fill:o.buttonBackgroundColor}),a.attr(a.crisp({x:-.5,y:-.5,width:s+1,height:s+1,r:o.buttonBorderRadius},a.strokeWidth())),a=i.path(h(["M",s/2+(t?-1:1),s/2-3,"L",s/2+(t?-1:1),s/2+3,"L",s/2+(t?2:-2),s/2],o.vertical)).addClass("highcharts-scrollbar-arrow").add(e[t]),this.chart.styledMode||a.attr({fill:o.buttonArrowColor})},setRange:function(t,i){var e,o,s=this.options,a=s.vertical,r=s.minWidth,n=this.barWidth,h=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";l(n)&&(t=Math.max(t,0),o=Math.ceil(n*t),this.calculatedWidth=e=d(n*Math.min(i,1)-o),e<r&&(o=(n-r+e)*t,e=r),r=Math.floor(o+this.xOffset+this.yOffset),n=e/2-.5,this.from=t,this.to=i,a?(this.scrollbarGroup[h]({translateY:r}),this.scrollbar[h]({height:e}),this.scrollbarRifles[h]({translateY:n}),this.scrollbarTop=r,this.scrollbarLeft=0):(this.scrollbarGroup[h]({translateX:r}),this.scrollbar[h]({width:e}),this.scrollbarRifles[h]({translateX:n}),this.scrollbarLeft=r,this.scrollbarTop=0),e<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),!1===s.showFull&&(t<=0&&1<=i?this.group.hide():this.group.show()),this.rendered=!0)},initEvents:function(){var a=this;a.mouseMoveHandler=function(t){var i=a.chart.pointer.normalize(t),e=a.options.vertical?"chartY":"chartX",o=a.initPositions;!a.grabbedCenter||t.touches&&0===t.touches[0][e]||(e=(i=a.cursorToScrollbarPosition(i)[e])-(e=a[e]),a.hasDragged=!0,a.updatePosition(o[0]+e,o[1]+e),a.hasDragged&&c(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))},a.mouseUpHandler=function(t){a.hasDragged&&c(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),a.grabbedCenter=a.hasDragged=a.chartX=a.chartY=null},a.mouseDownHandler=function(t){t=a.chart.pointer.normalize(t),t=a.cursorToScrollbarPosition(t),a.chartX=t.chartX,a.chartY=t.chartY,a.initPositions=[a.from,a.to],a.grabbedCenter=!0},a.buttonToMinClick=function(t){var i=d(a.to-a.from)*a.options.step;a.updatePosition(d(a.from-i),d(a.to-i)),c(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:t})},a.buttonToMaxClick=function(t){var i=(a.to-a.from)*a.options.step;a.updatePosition(a.from+i,a.to+i),c(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:t})},a.trackClick=function(t){var i=a.chart.pointer.normalize(t),e=a.to-a.from,o=a.y+a.scrollbarTop,s=a.x+a.scrollbarLeft;a.options.vertical&&i.chartY>o||!a.options.vertical&&i.chartX>s?a.updatePosition(a.from+e,a.to+e):a.updatePosition(a.from-e,a.to-e),c(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:t})}},cursorToScrollbarPosition:function(t){var i=(i=this.options).minWidth>this.calculatedWidth?i.minWidth:0;return{chartX:(t.chartX-this.x-this.xOffset)/(this.barWidth-i),chartY:(t.chartY-this.y-this.yOffset)/(this.barWidth-i)}},updatePosition:function(t,i){1<i&&(t=d(1-d(i-t)),i=1),t<0&&(i=d(i-t),t=0),this.from=t,this.to=i},update:function(t){this.destroy(),this.init(this.chart.renderer,s(!0,this.options,t),this.chart)},addEvents:function(){var t=this.options.inverted?[1,0]:[0,1],i=this.scrollbarButtons,e=this.scrollbarGroup.element,o=this.mouseDownHandler,s=this.mouseMoveHandler,a=this.mouseUpHandler,t=[[i[t[0]].element,"click",this.buttonToMinClick],[i[t[1]].element,"click",this.buttonToMaxClick],[this.track.element,"click",this.trackClick],[e,"mousedown",o],[e.ownerDocument,"mousemove",s],[e.ownerDocument,"mouseup",a]];p&&t.push([e,"touchstart",o],[e.ownerDocument,"touchmove",s],[e.ownerDocument,"touchend",a]),t.forEach(function(t){n.apply(null,t)}),this._events=t},removeEvents:function(){this._events.forEach(function(t){u.apply(null,t)}),this._events.length=0},destroy:function(){var t=this.chart.scroller;this.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(t){this[t]&&this[t].destroy&&(this[t]=this[t].destroy())},this),t&&this===t.scrollbar&&(t.scrollbar=null,e(t.scrollbarButtons))}},a.Scrollbar||(n(t,"afterInit",function(){var s=this;s.options&&s.options.scrollbar&&s.options.scrollbar.enabled&&(s.options.scrollbar.vertical=!s.horiz,s.options.startOnTick=s.options.endOnTick=!1,s.scrollbar=new i(s.chart.renderer,s.options.scrollbar,s.chart),n(s.scrollbar,"changed",function(t){var i,e=Math.min(r(s.options.min,s.min),s.min,s.dataMin),o=Math.max(r(s.options.max,s.max),s.max,s.dataMax)-e;s.horiz&&!s.reversed||!s.horiz&&s.reversed?(i=e+o*this.to,e+=o*this.from):(i=e+o*(1-this.from),e+=o*(1-this.to)),r(this.options.liveRedraw,a.svg&&!a.isTouchDevice&&!this.chart.isBoosting)||"mouseup"===t.DOMType||!l(t.DOMType)?s.setExtremes(e,i,!0,"mousemove"!==t.DOMType,t):this.setRange(this.from,this.to)}))}),n(t,"afterRender",function(){var t=Math.min(r(this.options.min,this.min),this.min,r(this.dataMin,this.min)),i=Math.max(r(this.options.max,this.max),this.max,r(this.dataMax,this.max)),e=this.scrollbar,o=this.axisTitleMargin+(this.titleOffset||0),s=this.chart.scrollbarsOffsets,a=this.options.margin||0;e&&(o=this.horiz?(this.opposite||(s[1]+=o),e.position(this.left,this.top+this.height+2+s[1]-(this.opposite?a:0),this.width,this.height),this.opposite||(s[1]+=a),1):(this.opposite&&(s[0]+=o),e.position(this.left+this.width+2+s[0]-(this.opposite?0:a),this.top,this.width,this.height),this.opposite&&(s[0]+=a),0),s[o]+=e.size+e.options.margin,isNaN(t)||isNaN(i)||!l(this.min)||!l(this.max)||this.min===this.max?e.setRange(0,1):(s=(this.min-t)/(i-t),t=(this.max-t)/(i-t),this.horiz&&!this.reversed||!this.horiz&&this.reversed?e.setRange(s,t):e.setRange(1-t,1-s)))}),n(t,"afterGetOffset",function(){var t=this.horiz?2:1,i=this.scrollbar;i&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[t]+=i.size+i.options.margin)}),a.Scrollbar=i)}),i(t,"parts/Navigator.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(m,t){function i(t){this.init(t)}var v=t.defined,e=t.destroyObjectProperties,o=t.erase,u=t.extend,g=t.isArray,b=t.isNumber,y=t.pick,f=t.splat,l=m.addEvent,d=m.Axis;t=m.Chart;function c(t){for(var i=[],e=1;e<arguments.length;e++)i[e-1]=arguments[e];if((i=[].filter.call(i,b)).length)return Math[t].apply(0,i)}var s=m.color,x=m.defaultOptions,r=m.hasTouch,h=m.isTouchDevice,M=m.merge,k=m.removeEvent,p=m.Scrollbar,a=m.Series,n=void 0===m.seriesTypes.areaspline?"line":"areaspline";u(x,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:s("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:n,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),m.Renderer.prototype.symbols["navigator-handle"]=function(t,i,e,o,s){return t=s.width/2,i=Math.round(t/3)+.5,["M",-t-1,.5,"L",t,.5,"L",t,(s=s.height)+.5,"L",-t-1,s+.5,"L",-t-1,.5,"M",-i,4,"L",-i,s-3,"M",i-1,4,"L",i-1,s-3]},d.prototype.toFixedRange=function(t,i,e,o){var s=this.chart&&this.chart.fixedRange,a=(this.pointRange||0)/2;t=y(e,this.translate(t,!0,!this.horiz)),i=y(o,this.translate(i,!0,!this.horiz));var r=s&&(i-t)/s;return v(e)||(t=m.correctFloat(t+a)),v(o)||(i=m.correctFloat(i-a)),.7<r&&r<1.3&&(o?t=i-s:i=t+s),b(t)&&b(i)||(t=i=void 0),{min:t,max:i}},i.prototype={drawHandle:function(t,i,e,o){var s=this.navigatorOptions.handles.height;this.handles[i][o](e?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(t,10)+.5-s)}:{translateX:Math.round(this.left+parseInt(t,10)),translateY:Math.round(this.top+this.height/2-s/2-1)})},drawOutline:function(t,i,e,o){var s=this.navigatorOptions.maskInside,a=(r=this.outline.strokeWidth())/2,r=r%2/2,n=this.outlineHeight,h=this.scrollbarHeight,l=this.size,d=this.left-h,c=this.top;t=e?["M",(d-=a)+n,c-h-r,"L",d+n,e=c+i+r,"L",d,e,"L",d,i=c+t+r,"L",d+n,i,"L",d+n,c+l+h].concat(s?["M",d+n,e-a,"L",d+n,i+a]:[]):["M",d,c+=a,"L",t+=d+h-r,c,"L",t,c+n,"L",i+=d+h-r,c+n,"L",i,c,"L",d+l+2*h,c].concat(s?["M",t-a,c,"L",i+a,c]:[]),this.outline[o]({d:t})},drawMasks:function(t,i,e,o){var s,a,r,n=this.left,h=this.top,l=this.height,d=e?(s=[n,n,n],a=[h,h+t,h+i],r=[l,l,l],[t,i-t,this.size-i]):(s=[n,n+t,n+i],a=[h,h,h],r=[t,i-t,this.size-i],[l,l,l]);this.shades.forEach(function(t,i){t[o]({x:s[i],y:a[i],width:r[i],height:d[i]})})},renderElements:function(){var e,o=this,s=o.navigatorOptions,t=s.maskInside,a=o.chart,r=a.renderer,n={cursor:a.inverted?"ns-resize":"ew-resize"};o.navigatorGroup=e=r.g("navigator").attr({zIndex:8,visibility:"hidden"}).add(),[!t,t,!t].forEach(function(t,i){o.shades[i]=r.rect().addClass("highcharts-navigator-mask"+(1===i?"-inside":"-outside")).add(e),a.styledMode||o.shades[i].attr({fill:t?s.maskFill:"rgba(0,0,0,0)"}).css(1===i&&n)}),o.outline=r.path().addClass("highcharts-navigator-outline").add(e),a.styledMode||o.outline.attr({"stroke-width":s.outlineWidth,stroke:s.outlineColor}),s.handles.enabled&&[0,1].forEach(function(t){var i;s.handles.inverted=a.inverted,o.handles[t]=r.symbol(s.handles.symbols[t],-s.handles.width/2-1,0,s.handles.width,s.handles.height,s.handles),o.handles[t].attr({zIndex:7-t}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][t]).add(e),a.styledMode||(i=s.handles,o.handles[t].attr({fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.lineWidth}).css(n))})},update:function(t){(this.series||[]).forEach(function(t){t.baseSeries&&delete t.baseSeries.navigatorSeries}),this.destroy(),M(!0,this.chart.options.navigator,this.options,t),this.init(this.chart)},render:function(t,i,e,o){var s,a,r=this.chart,n=this.scrollbarHeight,h=this.xAxis,l=h.pointRange||0,d=h.fake?r.xAxis[0]:h,c=this.navigatorEnabled,p=this.rendered,u=r.inverted,g=r.xAxis[0].minRange,f=r.xAxis[0].options.maxRange;if(!this.hasDragged||v(e)){if(t=m.correctFloat(t-l/2),i=m.correctFloat(i+l/2),!b(t)||!b(i)){if(!p)return;e=0,o=y(h.width,d.width)}this.left=y(h.left,r.plotLeft+n+(u?r.plotWidth:0)),this.size=a=s=y(h.len,(u?r.plotHeight:r.plotWidth)-2*n),r=u?n:s+2*n,e=y(e,h.toPixels(t,!0)),o=y(o,h.toPixels(i,!0)),b(e)&&1/0!==Math.abs(e)||(e=0,o=r),t=h.toValue(e,!0),i=h.toValue(o,!0);var x=Math.abs(m.correctFloat(i-t));m.correctFloat(x-l)<g?this.grabbedLeft?e=h.toPixels(i-g-l,!0):this.grabbedRight&&(o=h.toPixels(t+g+l,!0)):v(f)&&m.correctFloat(x-l)>f&&(this.grabbedLeft?e=h.toPixels(i-f-l,!0):this.grabbedRight&&(o=h.toPixels(t+f+l,!0))),this.zoomedMax=Math.min(Math.max(e,o,0),a),this.zoomedMin=Math.min(Math.max(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(e,o),0),a),this.range=this.zoomedMax-this.zoomedMin,a=Math.round(this.zoomedMax),e=Math.round(this.zoomedMin),c&&(this.navigatorGroup.attr({visibility:"visible"}),p=p&&!this.hasDragged?"animate":"attr",this.drawMasks(e,a,u,p),this.drawOutline(e,a,u,p),this.navigatorOptions.handles.enabled&&(this.drawHandle(e,0,u,p),this.drawHandle(a,1,u,p))),this.scrollbar&&(u?(u=this.top-n,d=this.left-n+(c||!d.opposite?0:(d.titleOffset||0)+d.axisTitleMargin),n=s+2*n):(u=this.top+(c?this.height:-n),d=this.left-n),this.scrollbar.position(d,u,r,n),this.scrollbar.setRange(this.zoomedMin/(s||1),this.zoomedMax/(s||1))),this.rendered=!0}},addMouseEvents:function(){var t,i,e=this,o=e.chart,s=o.container,a=[];e.mouseMoveHandler=t=function(t){e.onMouseMove(t)},e.mouseUpHandler=i=function(t){e.onMouseUp(t)},(a=e.getPartsEvents("mousedown")).push(l(o.renderTo,"mousemove",t),l(s.ownerDocument,"mouseup",i)),r&&(a.push(l(o.renderTo,"touchmove",t),l(s.ownerDocument,"touchend",i)),a.concat(e.getPartsEvents("touchstart"))),e.eventsToUnbind=a,e.series&&e.series[0]&&a.push(l(e.series[0].xAxis,"foundExtremes",function(){o.navigator.modifyNavigatorAxisExtremes()}))},getPartsEvents:function(o){var s=this,a=[];return["shades","handles"].forEach(function(e){s[e].forEach(function(t,i){a.push(l(t.element,o,function(t){s[e+"Mousedown"](t,i)}))})}),a},shadesMousedown:function(t,i){t=this.chart.pointer.normalize(t);var e,o,s=this.chart,a=this.xAxis,r=this.zoomedMin,n=this.left,h=this.size,l=this.range,d=t.chartX;s.inverted&&(d=t.chartY,n=this.top),1===i?(this.grabbedCenter=d,this.fixedWidth=l,this.dragOffset=d-r):(t=d-n-l/2,0===i?t=Math.max(0,t):2===i&&h<=t+l&&(t=h-l,this.reversedExtremes?(t-=l,e=this.getUnionExtremes().dataMin):o=this.getUnionExtremes().dataMax),t!==r&&(this.fixedWidth=l,i=a.toFixedRange(t,t+l,e,o),v(i.min)&&s.xAxis[0].setExtremes(Math.min(i.min,i.max),Math.max(i.min,i.max),!0,null,{trigger:"navigator"})))},handlesMousedown:function(t,i){this.chart.pointer.normalize(t);var e=(t=this.chart).xAxis[0],o=this.reversedExtremes;0===i?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=o?e.min:e.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=o?e.max:e.min),t.fixedRange=null},onMouseMove:function(t){var i=this,e=i.chart,o=i.left,s=i.navigatorSize,a=i.range,r=i.dragOffset,n=e.inverted;t.touches&&0===t.touches[0].pageX||(e=(t=e.pointer.normalize(t)).chartX,n&&(o=i.top,e=t.chartY),i.grabbedLeft?(i.hasDragged=!0,i.render(0,0,e-o,i.otherHandlePos)):i.grabbedRight?(i.hasDragged=!0,i.render(0,0,i.otherHandlePos,e-o)):i.grabbedCenter&&(i.hasDragged=!0,e<r?e=r:s+r-a<e&&(e=s+r-a),i.render(0,0,e-r,e-r+a)),i.hasDragged&&i.scrollbar&&y(i.scrollbar.options.liveRedraw,m.svg&&!h&&!this.chart.isBoosting)&&(t.DOMType=t.type,setTimeout(function(){i.onMouseUp(t)},0)))},onMouseUp:function(t){var i,e,o=this.chart,s=this.xAxis,a=this.scrollbar,r=t.DOMEvent||t;(!this.hasDragged||a&&a.hasDragged)&&"scrollbar"!==t.trigger||(a=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?i=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(e=this.fixedExtreme),this.zoomedMax===this.size&&(e=this.reversedExtremes?a.dataMin:a.dataMax),0===this.zoomedMin&&(i=this.reversedExtremes?a.dataMax:a.dataMin),s=s.toFixedRange(this.zoomedMin,this.zoomedMax,i,e),v(s.min)&&o.xAxis[0].setExtremes(Math.min(s.min,s.max),Math.max(s.min,s.max),!0,!this.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:r})),"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null)},removeEvents:function(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},removeBaseSeriesEvents:function(){var t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach(function(t){k(t,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&k(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},init:function(r){var t=(o=r.options).navigator,i=t.enabled,e=(a=o.scrollbar).enabled,o=i?t.height:0,n=e?a.height:0;this.handles=[],this.shades=[],this.chart=r,this.setBaseSeries(),this.height=o,this.scrollbarHeight=n,this.scrollbarEnabled=e,this.navigatorEnabled=i,this.navigatorOptions=t,this.scrollbarOptions=a,this.outlineHeight=o+n,this.opposite=y(t.opposite,!(i||!r.inverted));var s=this,i=s.baseSeries,a=r.xAxis.length,e=r.yAxis.length,h=i&&i[0]&&i[0].xAxis||r.xAxis[0]||{options:{}};r.isDirtyBox=!0,s.navigatorEnabled?(s.xAxis=new d(r,M({breaks:h.options.breaks,ordinal:h.options.ordinal},t.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:a,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},r.inverted?{offsets:[n,0,-n,0],width:o}:{offsets:[0,-n,0,n],height:o})),s.yAxis=new d(r,M(t.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:e,isInternal:!0,zoomEnabled:!1},r.inverted?{width:o}:{height:o})),i||t.series.data?s.updateNavigatorSeries(!1):0===r.series.length&&(s.unbindRedraw=l(r,"beforeRedraw",function(){0<r.series.length&&!s.series&&(s.setBaseSeries(),s.unbindRedraw())})),s.reversedExtremes=r.inverted&&!s.xAxis.reversed||!r.inverted&&s.xAxis.reversed,s.renderElements(),s.addMouseEvents()):s.xAxis={translate:function(t,i){var e=(a=r.xAxis[0]).getExtremes(),o=a.len-2*n,s=c("min",a.options.min,e.dataMin),a=c("max",a.options.max,e.dataMax)-s;return i?t*a/o+s:o*(t-s)/a},toPixels:function(t){return this.translate(t)},toValue:function(t){return this.translate(t,!0)},toFixedRange:d.prototype.toFixedRange,fake:!0},r.options.scrollbar.enabled&&(r.scrollbar=s.scrollbar=new p(r.renderer,M(r.options.scrollbar,{margin:s.navigatorEnabled?0:10,vertical:r.inverted}),r),l(s.scrollbar,"changed",function(t){var i=s.size,e=i*this.to;i*=this.from,s.hasDragged=s.scrollbar.hasDragged,s.render(0,0,i,e),(r.options.scrollbar.liveRedraw||"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType)&&setTimeout(function(){s.onMouseUp(t)})})),s.addBaseSeriesEvents(),s.addChartEvents()},getUnionExtremes:function(t){var i,e=this.chart.xAxis[0],o=this.xAxis,s=o.options,a=e.options;return t&&null===e.dataMin||(i={dataMin:y(s&&s.min,c("min",a.min,e.dataMin,o.dataMin,o.min)),dataMax:y(s&&s.max,c("max",a.max,e.dataMax,o.dataMax,o.max))}),i},setBaseSeries:function(e,t){var i=this.chart,o=this.baseSeries=[];e=e||i.options&&i.options.navigator.baseSeries||(i.series.length?m.find(i.series,function(t){return!t.options.isInternal}).index:0),(i.series||[]).forEach(function(t,i){t.options.isInternal||!t.options.showInNavigator&&(i!==e&&t.options.id!==e||!1===t.options.showInNavigator)||o.push(t)}),this.xAxis&&!this.xAxis.fake&&this.updateNavigatorSeries(!0,t)},updateNavigatorSeries:function(t,o){var s,a,r,n=this,h=n.chart,l=n.baseSeries,d=n.navigatorOptions.series,c={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:!1,isInternal:!0,states:{inactive:{opacity:1}}},p=n.series=(n.series||[]).filter(function(t){var i=t.baseSeries;return!(l.indexOf(i)<0)||(i&&(k(i,"updatedData",n.updatedDataHandler),delete i.navigatorSeries),t.chart&&t.destroy(),!1)});l&&l.length&&l.forEach(function(t){var i=t.navigatorSeries,e=u({color:t.color,visible:t.visible},g(d)?x.navigator.series:d);i&&!1===n.navigatorOptions.adaptToUpdatedData||(c.name="Navigator "+l.length,s=t.options||{},r=s.navigatorOptions||{},(a=M(s,c,e,r)).pointRange=y(e.pointRange,r.pointRange,x.plotOptions[a.type||"line"].pointRange),e=r.data||e.data,n.hasNavigatorData=n.hasNavigatorData||!!e,a.data=e||s.data&&s.data.slice(0),i&&i.options?i.update(a,o):(t.navigatorSeries=h.initSeries(a),t.navigatorSeries.baseSeries=t,p.push(t.navigatorSeries)))}),(!d.data||l&&l.length)&&!g(d)||(n.hasNavigatorData=!1,(d=f(d)).forEach(function(t,i){c.name="Navigator "+(p.length+1),(a=M(x.navigator.series,{color:h.series[i]&&!h.series[i].options.isInternal&&h.series[i].color||h.options.colors[i]||h.options.colors[0]},c,t)).data=t.data,a.data&&(n.hasNavigatorData=!0,p.push(h.initSeries(a)))})),t&&this.addBaseSeriesEvents()},addBaseSeriesEvents:function(){var i=this,t=i.baseSeries||[];t[0]&&t[0].xAxis&&l(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes),t.forEach(function(t){l(t,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)}),l(t,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)}),!1!==this.navigatorOptions.adaptToUpdatedData&&t.xAxis&&l(t,"updatedData",this.updatedDataHandler),l(t,"remove",function(){this.navigatorSeries&&(o(i.series,this.navigatorSeries),v(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)})},this)},getBaseSeriesMin:function(t){return this.baseSeries.reduce(function(t,i){return Math.min(t,i.xData?i.xData[0]:t)},t)},modifyNavigatorAxisExtremes:function(){var t,i=this.xAxis;void 0!==i.getExtremes&&(!(t=this.getUnionExtremes(!0))||t.dataMin===i.min&&t.dataMax===i.max||(i.min=t.dataMin,i.max=t.dataMax))},modifyBaseAxisExtremes:function(){var t,i,e=this.chart.navigator,o=(a=this.getExtremes()).dataMin,s=a.dataMax,a=a.max-a.min,r=e.stickToMin,n=e.stickToMax,h=y(this.options.overscroll,0),l=e.series&&e.series[0],d=!!this.setExtremes;this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger||(r&&(i=(t=o)+a),n&&(i=s+h,r||(t=Math.max(i-a,e.getBaseSeriesMin(l&&l.xData?l.xData[0]:-Number.MAX_VALUE)))),d&&(r||n)&&b(t)&&(this.min=this.userMin=t,this.max=this.userMax=i)),e.stickToMin=e.stickToMax=null},updatedDataHandler:function(){var t=this.chart.navigator,i=this.navigatorSeries,e=t.getBaseSeriesMin(this.xData[0]);t.stickToMax=t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size),t.stickToMin=b(this.xAxis.min)&&this.xAxis.min<=e&&(!this.chart.fixedRange||!t.stickToMax),i&&!t.hasNavigatorData&&(i.options.pointStart=this.xData[0],i.setData(this.options.data,!1,null,!1))},addChartEvents:function(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(l(this.chart,"redraw",function(){var t=this.navigator,i=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||t.scrollbar&&this.xAxis[0]);i&&t.render(i.min,i.max)}),l(this.chart,"getMargins",function(){var t=this.navigator,i=t.opposite?"plotTop":"marginBottom";this.inverted&&(i=t.opposite?"marginRight":"plotLeft"),this[i]=(this[i]||0)+(t.navigatorEnabled||!this.inverted?t.outlineHeight:0)+t.navigatorOptions.margin}))},destroy:function(){this.removeEvents(),this.xAxis&&(o(this.chart.xAxis,this.xAxis),o(this.chart.axes,this.xAxis)),this.yAxis&&(o(this.chart.yAxis,this.yAxis),o(this.chart.axes,this.yAxis)),(this.series||[]).forEach(function(t){t.destroy&&t.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(function(t){this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null},this),[this.handles].forEach(function(t){e(t)},this)}},m.Navigator||(m.Navigator=i,l(d,"zoom",function(t){var i=(s=this.chart.options).chart.zoomType,e=s.chart.pinchType,o=s.navigator,s=s.rangeSelector;this.isXAxis&&(o&&o.enabled||s&&s.enabled)&&("y"===i?t.zoomed=!1:(!h&&"xy"===i||h&&"xy"===e)&&this.options.range&&(i=this.previousZoom,v(t.newMin)?this.previousZoom=[this.min,this.max]:i&&(t.newMin=i[0],t.newMax=i[1],delete this.previousZoom))),void 0!==t.zoomed&&t.preventDefault()}),l(t,"beforeShowResetZoom",function(){var t=this.options,i=t.navigator,e=t.rangeSelector;if((i&&i.enabled||e&&e.enabled)&&(!h&&"x"===t.chart.zoomType||h&&"x"===t.chart.pinchType))return!1}),l(t,"beforeRender",function(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new i(this))}),l(t,"afterSetChartSize",function(){var t,i,e,o,s=this.legend,a=this.navigator;a&&(t=s&&s.options,i=a.xAxis,e=a.yAxis,o=a.scrollbarHeight,this.inverted?(a.left=a.opposite?this.chartWidth-o-a.height:this.spacing[3]+o,a.top=this.plotTop+o):(a.left=this.plotLeft+o,a.top=a.navigatorOptions.top||this.chartHeight-a.height-o-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(t&&"bottom"===t.verticalAlign&&t.enabled&&!t.floating?s.legendHeight+y(t.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),i&&e&&(this.inverted?i.options.left=e.options.left=a.left:i.options.top=e.options.top=a.top,i.setAxisSize(),e.setAxisSize()))}),l(t,"update",function(t){var i=t.options.navigator||{},e=t.options.scrollbar||{};this.navigator||this.scroller||!i.enabled&&!e.enabled||(M(!0,this.options.navigator,i),M(!0,this.options.scrollbar,e),delete t.options.navigator,delete t.options.scrollbar)}),l(t,"afterUpdate",function(t){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new i(this),y(t.redraw,!0)&&this.redraw(t.animation))}),l(t,"afterAddSeries",function(){this.navigator&&this.navigator.setBaseSeries(null,!1)}),l(a,"afterUpdate",function(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}),t.prototype.callbacks.push(function(t){var i=t.navigator;i&&t.xAxis[0]&&(t=t.xAxis[0].getExtremes(),i.render(t.min,t.max))}))}),i(t,"parts/OrdinalAxis.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,i){var y=i.defined,e=i.extend,u=i.pick;i=t.addEvent;var l=t.Axis,o=t.Chart,f=t.css,d=t.noop,M=t.timeUnits;i(t.Series,"updatedData",function(){var t=this.xAxis;t&&t.options.ordinal&&delete t.ordinalIndex}),l.prototype.getTimeTicks=function(t,i,e,o,s,a,r){var n,h=0,l={},d=[],c=-Number.MAX_VALUE,p=this.options.tickPixelInterval,u=this.chart.time,g=[];if(!this.options.ordinal&&!this.options.breaks||!s||s.length<3||void 0===i)return u.getTimeTicks.apply(u,arguments);for(var f=s.length,x=0;x<f;x++){var m=x&&s[x-1]>e;if(s[x]<i&&(h=x),x===f-1||s[x+1]-s[x]>5*a||m){if(s[x]>c){for(n=u.getTimeTicks(t,s[h],s[x],o);n.length&&n[0]<=c;)n.shift();n.length&&(c=n[n.length-1]),g.push(d.length),d=d.concat(n)}h=x+1}if(m)break}if(n=n.info,r&&n.unitRange<=M.hour){for(x=d.length-1,h=1;h<x;h++){u.dateFormat("%d",d[h])!==u.dateFormat("%d",d[h-1])&&(l[d[h]]="day",b=!0)}b&&(l[d[0]]="day"),n.higherRanks=l}if(n.segmentStarts=g,d.info=n,r&&y(p)){for(var v,h=g=d.length,b=[],u=[];h--;)x=this.translate(d[h]),v&&(u[h]=v-x),b[h]=v=x;for(u.sort(),(u=u[Math.floor(u.length/2)])<.6*p&&(u=null),h=d[g-1]>e?g-1:g,v=void 0;h--;)x=b[h],g=Math.abs(v-x),v&&g<.8*p&&(null===u||g<.8*u)?(l[d[h]]&&!l[d[h+1]]?(g=h+1,v=x):g=h,d.splice(g,1)):v=x}return d},e(l.prototype,{beforeSetTickPositions:function(){var e,o,s=[],t=!1,i=(n=this.getExtremes()).min,a=n.max,r=this.isXAxis&&!!this.options.breaks,n=this.options.ordinal,h=Number.MAX_VALUE,l=this.chart.options.chart.ignoreHiddenSeries;if(n||r){this.series.forEach(function(t,i){if(e=[],!(l&&!1===t.visible||!1===t.takeOrdinalPosition&&!r)&&(s=s.concat(t.processedXData),d=s.length,s.sort(function(t,i){return t-i}),h=Math.min(h,u(t.closestPointRange,h)),d)){for(i=0;i<d-1;)s[i]!==s[i+1]&&e.push(s[i+1]),i++;e[0]!==s[0]&&e.unshift(s[0]),s=e}t.isSeriesBoosting&&(o=!0)}),o&&(s.length=0);var d=s.length;if(2<d){for(var c=s[1]-s[0],p=d-1;p--&&!t;)s[p+1]-s[p]!==c&&(t=!0);!this.options.keepOrdinalPadding&&(s[0]-i>c||a-s[s.length-1]>c)&&(t=!0)}else this.options.overscroll&&(2===d?h=s[1]-s[0]:1===d?(h=this.options.overscroll,s=[s[0],s[0]+h]):h=this.overscrollPointsRange);t?(this.options.overscroll&&(this.overscrollPointsRange=h,s=s.concat(this.getOverscrollPositions())),this.ordinalPositions=s,c=this.ordinal2lin(Math.max(i,s[0]),!0),p=Math.max(this.ordinal2lin(Math.min(a,s[s.length-1]),!0),1),this.ordinalSlope=a=(a-i)/(p-c),this.ordinalOffset=i-c*a):(this.overscrollPointsRange=u(this.closestPointRange,this.overscrollPointsRange),this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=void 0)}this.isOrdinal=n&&t,this.groupIntervalFactor=null},val2lin:function(t,i){var e=this.ordinalPositions;if(e){for(var o=e.length,s=o;s--;)if(e[s]===t){var a=s;break}for(s=o-1;s--;)if(t>e[s]||0===s){a=s+(t=(t-e[s])/(e[s+1]-e[s]));break}i=i?a:this.ordinalSlope*(a||0)+this.ordinalOffset}else i=t;return i},lin2val:function(t,i){var e=this.ordinalPositions;if(e){var o,s=this.ordinalSlope,a=this.ordinalOffset,r=e.length-1;if(i)t<0?t=e[0]:r<t?t=e[r]:o=t-(r=Math.floor(t));else for(;r--;)if((i=s*r+a)<=t){o=(t-i)/((s=s*(r+1)+a)-i);break}return void 0!==o&&void 0!==e[r]?e[r]+(o?o*(e[r+1]-e[r]):0):t}return t},getExtendedPositions:function(){var i,e,o=this,s=o.chart,a=o.series[0].currentDataGrouping,t=o.ordinalIndex,r=a?a.count+a.unitName:"raw",n=o.options.overscroll,h=o.getExtremes();return(t=t||(o.ordinalIndex={}))[r]||(e={series:[],chart:s,getExtremes:function(){return{min:h.dataMin,max:h.dataMax+n}},options:{ordinal:!0},val2lin:l.prototype.val2lin,ordinal2lin:l.prototype.ordinal2lin},o.series.forEach(function(t){(i={xAxis:e,xData:t.xData.slice(),chart:s,destroyGroupedData:d}).xData=i.xData.concat(o.getOverscrollPositions()),i.options={dataGrouping:a?{enabled:!0,forced:!0,approximation:"open",units:[[a.unitName,[a.count]]]}:{enabled:!1}},t.processData.apply(i),e.series.push(i)}),o.beforeSetTickPositions.apply(e),t[r]=e.ordinalPositions),t[r]},getOverscrollPositions:function(){var t=this.options.overscroll,i=this.overscrollPointsRange,e=[],o=this.dataMax;if(y(i))for(e.push(o);o<=this.dataMax+t;)o+=i,e.push(o);return e},getGroupIntervalFactor:function(t,i,e){var o=(e=e.processedXData).length,s=[],a=this.groupIntervalFactor;if(!a){for(a=0;a<o-1;a++)s[a]=e[a+1]-e[a];s.sort(function(t,i){return t-i}),s=s[Math.floor(o/2)],t=Math.max(t,e[0]),i=Math.min(i,e[o-1]),this.groupIntervalFactor=a=o*s/(i-t)}return a},postProcessTickInterval:function(t){var i=this.ordinalSlope;return i?this.options.breaks?this.closestPointRange||t:t/(i/this.closestPointRange):t}}),l.prototype.ordinal2lin=l.prototype.val2lin,i(o,"pan",function(t){var i,e,o,s,a,r,n,h,l,d,c=this.xAxis[0],p=c.options.overscroll,u=t.originalEvent.chartX,g=!1;c.options.ordinal&&c.series.length?(r=this.mouseDownX,e=(i=c.getExtremes()).dataMax,o=i.min,s=i.max,a=this.hoverPoints,h=c.closestPointRange||c.overscrollPointsRange,r=(r-u)/(c.translationSlope*(c.ordinalSlope||h)),n={ordinalPositions:c.getExtendedPositions()},h=c.lin2val,l=c.val2lin,n.ordinalPositions?1<Math.abs(r)&&(a&&a.forEach(function(t){t.setState()}),e>(n=(d=r<0?(a=n,c.ordinalPositions?c:n):(a=c.ordinalPositions?c:n,n)).ordinalPositions)[n.length-1]&&n.push(e),this.fixedRange=s-o,(r=c.toFixedRange(null,null,h.apply(a,[l.apply(a,[o,!0])+r,!0]),h.apply(d,[l.apply(d,[s,!0])+r,!0]))).min>=Math.min(i.dataMin,o)&&r.max<=Math.max(e,s)+p&&c.setExtremes(r.min,r.max,!0,!1,{trigger:"pan"}),this.mouseDownX=u,f(this.container,{cursor:"move"})):g=!0):g=!0,g?p&&(c.max=c.dataMax+p):t.preventDefault()}),i(l,"foundExtremes",function(){this.isXAxis&&y(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&"navigator"!==this.eventArgs.trigger)&&(this.max+=this.options.overscroll,!this.isInternal&&y(this.userMin)&&(this.min+=this.options.overscroll))}),i(l,"afterSetScale",function(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)})}),i(t,"modules/broken-axis.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(a,t){var i=t.extend,s=t.isArray,p=t.pick;t=a.addEvent;function n(i,t){return e(t,function(t){return t.from<i&&i<t.to})}var e=a.find,u=a.fireEvent,g=a.Axis,o=a.Series;i(g.prototype,{isInBreak:function(t,i){var e=t.repeat||1/0,o=t.from,s=t.to-t.from;return i=o<=i?(i-o)%e:e-(o-i)%e,t.inclusive?i<=s:i<s&&0!==i},isInAnyBreak:function(t,i){var e,o,s=this.options.breaks,a=s&&s.length;if(a){for(;a--;){this.isInBreak(s[a],t)&&(e=!0,o=o||p(s[a].showPoints,!this.isXAxis))}var r=e&&i?e&&!o:e}return r}}),t(g,"afterInit",function(){"function"==typeof this.setBreaks&&this.setBreaks(this.options.breaks,!1)}),t(g,"afterSetTickPositions",function(){if(this.isBroken){for(var t=this.tickPositions,i=this.tickPositions.info,e=[],o=0;o<t.length;o++)this.isInAnyBreak(t[o])||e.push(t[o]);this.tickPositions=e,this.tickPositions.info=i}}),t(g,"afterSetOptions",function(){this.isBroken&&(this.options.ordinal=!1)}),g.prototype.setBreaks=function(t,i){function e(t){for(var i=t,e=0;e<c.breakArray.length;e++){var o=c.breakArray[e];if(o.to<=t)i-=o.len;else{if(o.from>=t)break;if(c.isInBreak(o,t)){i-=t-o.from;break}}}return i}var c=this,o=s(t)&&!!t.length;c.isDirty=c.isBroken!==o,c.isBroken=o,c.options.breaks=c.userOptions.breaks=t,c.forceRedraw=!0,o||c.val2lin!==e||(delete c.val2lin,delete c.lin2val),o&&(c.userOptions.ordinal=!1,c.val2lin=e,c.lin2val=function(t){for(var i=0;i<c.breakArray.length;i++){var e=c.breakArray[i];if(e.from>=t)break;(e.to<t||c.isInBreak(e,t))&&(t+=e.len)}return t},c.setExtremes=function(t,i,e,o,s){if(this.isBroken){for(var a,r=this.options.breaks;a=n(t,r);)t=a.to;for(;a=n(i,r);)i=a.from;i<t&&(i=t)}g.prototype.setExtremes.call(this,t,i,e,o,s)},c.setAxisTranslation=function(t){var i,e,o,s,a,r,n,h,l,d;g.prototype.setAxisTranslation.call(this,t),this.unitLength=null,this.isBroken&&(t=c.options.breaks,i=[],e=[],o=0,a=c.userMin||c.min,r=c.userMax||c.max,n=p(c.pointRangePadding,0),t.forEach(function(t){s=t.repeat||1/0,c.isInBreak(t,a)&&(a+=t.to%s-a%s),c.isInBreak(t,r)&&(r-=r%s-t.from%s)}),t.forEach(function(t){for(d=t.from,s=t.repeat||1/0;a<d-s;)d-=s;for(;d<a;)d+=s;for(h=d;h<r;h+=s)i.push({value:h,move:"in"}),i.push({value:h+(t.to-t.from),move:"out",size:t.breakSize})}),i.sort(function(t,i){return t.value===i.value?("in"===t.move?0:1)-("in"===i.move?0:1):t.value-i.value}),l=0,d=a,i.forEach(function(t){1===(l+="in"===t.move?1:-1)&&"in"===t.move&&(d=t.value),0===l&&(e.push({from:d,to:t.value,len:t.value-d-(t.size||0)}),o+=t.value-d-(t.size||0))}),c.breakArray=e,c.unitLength=r-a-o+n,u(c,"afterBreaks"),c.staticScale?c.transA=c.staticScale:c.unitLength&&(c.transA*=(r-c.min+n)/c.unitLength),n&&(c.minPixelPadding=c.transA*c.minPointOffset),c.min=a,c.max=r)}),p(i,!0)&&this.chart.redraw()},t(o,"afterGeneratePoints",function(){var t=this.xAxis,i=this.yAxis,e=this.points,o=e.length,s=this.options.connectNulls;if(t&&i&&(t.options.breaks||i.options.breaks))for(;o--;){var a=e[o];null===a.y&&!1===s||!t.isInAnyBreak(a.x,!0)&&!i.isInAnyBreak(a.y,!0)||(e.splice(o,1),this.data[o]&&this.data[o].destroyElements())}}),t(o,"afterRender",function(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,p(this.pointArrayMap,["y"]))}),a.Series.prototype.drawBreaks=function(e,t){var o,s,a,r,i=this,n=i.points;e&&t.forEach(function(t){o=e.breakArray||[],s=e.isXAxis?e.min:p(i.options.threshold,e.min),n.forEach(function(i){r=p(i["stack"+t.toUpperCase()],i[t]),o.forEach(function(t){a=!1,s<t.from&&r>t.to||s>t.from&&r<t.from?a="pointBreak":(s<t.from&&r>t.from&&r<t.to||s>t.from&&r>t.to&&r<t.from)&&(a="pointInBreak"),a&&u(e,a,{point:i,brk:t})})})})},a.Series.prototype.gappedPath=function(){var t=(i=this.currentDataGrouping)&&i.gapSize,i=this.options.gapSize,e=this.points.slice(),o=e.length-1,s=this.yAxis;if(i&&0<o)for("value"!==this.options.gapUnit&&(i*=this.basePointRange),t&&i<t&&t>=this.basePointRange&&(i=t);o--;)e[o+1].x-e[o].x>i&&(t=(e[o].x+e[o+1].x)/2,e.splice(o+1,0,{isNull:!0,x:t}),this.options.stacking&&((t=s.stacks[this.stackKey][t]=new a.StackItem(s,s.options.stackLabels,!1,t,this.stack)).total=0));return this.getGraphPath(e)}}),i(t,"masters/modules/broken-axis.src.js",[],function(){}),i(t,"parts/DataGrouping.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,i){var e=i.arrayMax,o=i.arrayMin,A=i.defined,c=i.extend,S=i.isNumber,g=i.pick;i=t.addEvent;function s(t,i,e,o){var s=this,a=s.data,r=s.options&&s.options.data,n=[],h=[],l=[],d=t.length,c=!!i,p=[],u=s.pointArrayMap,g=u&&u.length,f=["x"].concat(u||["y"]),x=0,m=0;o="function"==typeof o?o:D[o]?D[o]:D[s.getDGApproximation&&s.getDGApproximation()||"average"],g?u.forEach(function(){p.push([])}):p.push([]);for(var v=g||1,b=0;b<=d&&!(t[b]>=e[0]);b++);for(;b<=d;b++){for(;void 0!==e[x+1]&&t[b]>=e[x+1]||b===d;){var y=e[x];s.dataGroupInfo={start:s.cropStart+m,length:p[0].length};var M=o.apply(s,p);for(s.pointClass&&!A(s.dataGroupInfo.options)&&(s.dataGroupInfo.options=w(s.pointClass.prototype.optionsToObject.call({series:s},s.options.data[s.cropStart+m])),f.forEach(function(t){delete s.dataGroupInfo.options[t]})),void 0!==M&&(n.push(y),h.push(M),l.push(s.dataGroupInfo)),m=b,y=0;y<v;y++)p[y].length=0,p[y].hasNulls=!1;if(x+=1,b===d)break}if(b===d)break;if(u)for(y=s.cropStart+b,M=a&&a[y]||s.pointClass.prototype.applyOptions.apply({series:s},[r[y]]),y=0;y<g;y++){var k=M[u[y]];S(k)?p[y].push(k):null===k&&(p[y].hasNulls=!0)}else y=c?i[b]:null,S(y)?p[0].push(y):null===y&&(p[0].hasNulls=!0)}return{groupedXData:n,groupedYData:h,groupMap:l}}var a=t.Axis,r=t.correctFloat,n=t.defaultPlotOptions,p=t.format,w=t.merge,h=t.Point,l=t.Series,d=t.Tooltip,D=t.approximations={sum:function(t){var i=t.length;if(!i&&t.hasNulls)var e=null;else if(i)for(e=0;i--;)e+=t[i];return e},average:function(t){var i=t.length;return t=D.sum(t),S(t)&&i&&(t=r(t/i)),t},averages:function(){var i=[];return[].forEach.call(arguments,function(t){i.push(D.average(t))}),void 0===i[0]?void 0:i},open:function(t){return t.length?t[0]:t.hasNulls?null:void 0},high:function(t){return t.length?e(t):t.hasNulls?null:void 0},low:function(t){return t.length?o(t):t.hasNulls?null:void 0},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:void 0},ohlc:function(t,i,e,o){if(t=D.open(t),i=D.high(i),e=D.low(e),o=D.close(o),S(t)||S(i)||S(e)||S(o))return[t,i,e,o]},range:function(t,i){return t=D.low(t),i=D.high(i),S(t)||S(i)?[t,i]:null===t&&null===i?null:void 0}},u={approximations:D,groupData:s},f=l.prototype,x=f.processData,m=f.generatePoints,v={groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},b={line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5}},y=t.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]];return f.getDGApproximation=function(){return t.seriesTypes.arearange&&this instanceof t.seriesTypes.arearange?"range":t.seriesTypes.ohlc&&this instanceof t.seriesTypes.ohlc?"ohlc":t.seriesTypes.column&&this instanceof t.seriesTypes.column?"sum":"average"},f.groupData=s,f.processData=function(){var t,i=this.chart,e=this.options.dataGrouping,o=!1!==this.allowDG&&e&&g(e.enabled,i.options.isStock),s=this.visible||!i.options.chart.ignoreHiddenSeries,a=this.currentDataGrouping,r=!1;if(this.forceCrop=o,this.groupPixelWidth=null,this.hasProcessed=!0,o&&!this.requireSorting&&(this.requireSorting=r=!0),o=!1===x.apply(this,arguments)||!o,r&&(this.requireSorting=!1),!o){this.destroyGroupedData(),o=e.groupAll?this.xData:this.processedXData;var n=e.groupAll?this.yData:this.processedYData,h=i.plotSizeX,l=(i=this.xAxis).options.ordinal;if(c=this.groupPixelWidth=i.getGroupPixelWidth&&i.getGroupPixelWidth()){this.isDirty=t=!0,this.points=null;var d=(r=i.getExtremes()).min,c=c*((r=r.max)-d)/h*(l=l&&i.getGroupIntervalFactor(d,r,this)||1),h=i.getTimeTicks(i.normalizeTimeTickInterval(c,e.units||y),Math.min(d,o[0]),Math.max(r,o[o.length-1]),i.options.startOfWeek,o,this.closestPointRange),o=(n=f.groupData.apply(this,[o,n,h,e.approximation])).groupedXData;l=n.groupedYData;var p=0;if(e.smoothed&&o.length){var u=o.length-1;for(o[u]=Math.min(o[u],r);u--&&0<u;)o[u]+=c/2;o[0]=Math.max(o[0],d)}for(u=1;u<h.length;u++)h.info.segmentStarts&&-1!==h.info.segmentStarts.indexOf(u)||(p=Math.max(h[u]-h[u-1],p));(d=h.info).gapSize=p,this.closestPointRange=h.info.totalRange,this.groupMap=n.groupMap,A(o[0])&&o[0]<i.min&&s&&((!A(i.options.min)&&i.min<=i.dataMin||i.min===i.dataMin)&&(i.min=Math.min(o[0],i.min)),i.dataMin=o[0]),e.groupAll&&(o=(e=this.cropData(o,l,i.min,i.max,1)).xData,l=e.yData),this.processedXData=o,this.processedYData=l}else this.groupMap=null;this.hasGroupedData=t,this.currentDataGrouping=d,this.preventGraphAnimation=(a&&a.totalRange)!==(d&&d.totalRange)}},f.destroyGroupedData=function(){this.groupedData&&(this.groupedData.forEach(function(t,i){t&&(this.groupedData[i]=t.destroy?t.destroy():null)},this),this.groupedData.length=0)},f.generatePoints=function(){m.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},i(h,"update",function(){if(this.dataGroup)return t.error(24,!1,this.series.chart),!1}),i(d,"headerFormatter",function(t){var i,e,o=this.chart.time,s=t.labelConfig,a=s.series,r=a.tooltipOptions,n=a.options.dataGrouping,h=r.xDateFormat,l=a.xAxis,d=r[(t.isFooter?"footer":"header")+"Format"];l&&"datetime"===l.options.type&&n&&S(s.key)&&(i=a.currentDataGrouping,n=n.dateTimeLabelFormats||v.dateTimeLabelFormats,i?(r=n[i.unitName],1===i.count?h=r[0]:(h=r[1],e=r[2])):!h&&n&&(h=this.getXDateFormat(s,r,l)),h=o.dateFormat(h,s.key),e&&(h+=o.dateFormat(e,s.key+i.totalRange-1)),a.chart.styledMode&&(d=this.styledModeFormat(d)),t.text=p(d,{point:c(s.point,{key:h}),series:a},o),t.preventDefault())}),i(l,"destroy",f.destroyGroupedData),i(l,"afterSetOptions",function(t){t=t.options;var i=this.type,e=this.chart.options.plotOptions,o=n[i].dataGrouping,s=this.useCommonDataGrouping&&v;(b[i]||s)&&(o=o||w(v,b[i]),t.dataGrouping=w(s,o,e.series&&e.series.dataGrouping,e[i].dataGrouping,this.userOptions.dataGrouping))}),i(a,"afterSetScale",function(){this.series.forEach(function(t){t.hasProcessed=!1})}),a.prototype.getGroupPixelWidth=function(){for(var t,i=this.series,e=i.length,o=0,s=!1,a=e;a--;)(t=i[a].options.dataGrouping)&&(o=Math.max(o,g(t.groupPixelWidth,v.groupPixelWidth)));for(a=e;a--;)(t=i[a].options.dataGrouping)&&i[a].hasProcessed&&(e=(i[a].processedXData||i[a].data).length,i[a].groupPixelWidth||e>this.chart.plotSizeX/o||e&&t.forced)&&(s=!0);return s?o:0},a.prototype.setDataGrouping=function(i,t){var e;if(t=g(t,!0),i=i||{forced:!1,units:null},this instanceof a)for(e=this.series.length;e--;)this.series[e].update({dataGrouping:i},!1);else this.chart.options.series.forEach(function(t){t.dataGrouping=i},!1);this.ordinalSlope=null,t&&this.chart.redraw()},t.dataGrouping=u}),i(t,"parts/OHLCSeries.js",[t["parts/Globals.js"]],function(t){var i=t.Point,e=t.seriesType,n=t.seriesTypes;e("ohlc","column",{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0},{directTouch:!1,pointArrayMap:["open","high","low","close"],toYData:function(t){return[t.open,t.high,t.low,t.close]},pointValKey:"close",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},init:function(){n.column.prototype.init.apply(this,arguments),this.options.stacking=!1},pointAttribs:function(t,i){i=n.column.prototype.pointAttribs.call(this,t,i);var e=this.options;return delete i.fill,!t.options.color&&e.upColor&&t.open<t.close&&(i.stroke=e.upColor),i},translate:function(){var o=this,s=o.yAxis,a=!!o.modifyValue,r=["plotOpen","plotHigh","plotLow","plotClose","yBottom"];n.column.prototype.translate.apply(o),o.points.forEach(function(e){[e.open,e.high,e.low,e.close,e.low].forEach(function(t,i){null!==t&&(a&&(t=o.modifyValue(t)),e[r[i]]=s.toPixels(t,!0))}),e.tooltipPos[1]=e.plotHigh+s.pos-o.chart.plotTop})},drawPoints:function(){var h=this,l=h.chart;h.points.forEach(function(t){var i,e,o,s,a,r=t.graphic,n=!r;void 0!==t.plotY&&(r||(t.graphic=r=l.renderer.path().add(h.group)),l.styledMode||r.attr(h.pointAttribs(t,t.selected&&"select")),i=r.strokeWidth()%2/2,e=Math.round(t.plotX)-i,o=Math.round(t.shapeArgs.width/2),s=["M",e,Math.round(t.yBottom),"L",e,Math.round(t.plotHigh)],null!==t.open&&(a=Math.round(t.plotOpen)+i,s.push("M",e,a,"L",e-o,a)),null!==t.close&&(a=Math.round(t.plotClose)+i,s.push("M",e,a,"L",e+o,a)),r[n?"attr":"animate"]({d:s}).addClass(t.getClassName(),!0))})},animate:null},{getClassName:function(){return i.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}})}),i(t,"parts/CandlestickSeries.js",[t["parts/Globals.js"]],function(t){var i=t.defaultPlotOptions,e=t.merge,o=t.seriesType,r=t.seriesTypes;o("candlestick","ohlc",e(i.column,{states:{hover:{lineWidth:2}},tooltip:i.ohlc.tooltip,threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),{pointAttribs:function(t,i){var e=r.column.prototype.pointAttribs.call(this,t,i),o=this.options,s=t.open<t.close,a=o.lineColor||this.color;return e["stroke-width"]=o.lineWidth,e.fill=t.options.color||s&&o.upColor||this.color,e.stroke=t.options.lineColor||s&&o.upLineColor||a,i&&(t=o.states[i],e.fill=t.color||e.fill,e.stroke=t.lineColor||e.stroke,e["stroke-width"]=t.lineWidth||e["stroke-width"]),e},drawPoints:function(){var d=this,c=d.chart,p=d.yAxis.reversed;d.points.forEach(function(t){var i,e,o,s,a,r,n,h=t.graphic,l=!h;void 0!==t.plotY&&(h||(t.graphic=h=c.renderer.path().add(d.group)),d.chart.styledMode||h.attr(d.pointAttribs(t,t.selected&&"select")).shadow(d.options.shadow),i=h.strokeWidth()%2/2,e=Math.round(t.plotX)-i,o=t.plotOpen,a=t.plotClose,n=Math.min(o,a),o=Math.max(o,a),s=Math.round(t.shapeArgs.width/2),a=p?o!==t.yBottom:Math.round(n)!==Math.round(t.plotHigh),r=p?Math.round(n)!==Math.round(t.plotHigh):o!==t.yBottom,n=Math.round(n)+i,o=Math.round(o)+i,(i=[]).push("M",e-s,o,"L",e-s,n,"L",e+s,n,"L",e+s,o,"Z","M",e,n,"L",e,a?Math.round(p?t.yBottom:t.plotHigh):n,"M",e,o,"L",e,r?Math.round(p?t.plotHigh:t.yBottom):o),h[l?"attr":"animate"]({d:i}).addClass(t.getClassName(),!0))})}})}),i(t,"mixins/on-series.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,i){var v=i.defined,b=t.seriesTypes,y=t.stableSort;return{getPlotBox:function(){return t.Series.prototype.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this)},translate:function(){b.column.prototype.translate.apply(this);var o,t,s=this,i=s.options,e=s.chart,a=s.points,r=a.length-1,n=(n=i.onSeries)&&e.get(n),i=i.onKey||"y",h=n&&n.options.step,l=n&&n.points,d=l&&l.length,c=e.inverted,p=s.xAxis,u=s.yAxis,g=0;if(n&&n.visible&&d){g=(n.pointXOffset||0)+(n.barW||0)/2,e=n.currentDataGrouping;var f=l[d-1].x+(e?e.totalRange:0);for(y(a,function(t,i){return t.x-i.x}),i="plot"+i[0].toUpperCase()+i.substr(1);d--&&a[r];){var x,m=l[d];if((e=a[r]).y=m.y,m.x<=e.x&&void 0!==m[i])if(e.x<=f&&(e.plotY=m[i],m.x<e.x&&!h&&(t=l[d+1])&&void 0!==t[i])&&(x=(e.x-m.x)/(t.x-m.x),e.plotY+=x*(t[i]-m[i]),e.y+=x*(t.y-m.y)),d++,--r<0)break}}a.forEach(function(t,i){var e;t.plotX+=g,void 0!==t.plotY&&!c||(0<=t.plotX&&t.plotX<=p.len?c?(t.plotY=p.translate(t.x,0,1,0,1),t.plotX=v(t.y)?u.translate(t.y,0,0,0,1):0):t.plotY=(p.opposite?0:s.yAxis.len)+p.offset:t.shapeArgs={}),(o=a[i-1])&&o.plotX===t.plotX&&(void 0===o.stackIndex&&(o.stackIndex=0),e=o.stackIndex+1),t.stackIndex=e}),this.onSeries=n}}}),i(t,"parts/FlagsSeries.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/on-series.js"]],function(v,t,i){function e(n){d[n+"pin"]=function(t,i,e,o,s){var a=s&&s.anchorX;s=s&&s.anchorY,"circle"===n&&e<o&&(t-=Math.round((o-e)/2),e=o);var r=d[n](t,i,e,o);return a&&s&&(r.push("M","circle"===n?t+e/2:r[1]+r[4]/2,s<i?i:i+o,"L",a,s),r=r.concat(d.circle(a-1,s-1,2,2))),r}}var b=t.defined,o=t.isNumber,y=t.objectEach,s=v.addEvent,M=v.merge;t=v.noop;var a=v.Renderer,r=v.Series,n=v.seriesType,h=v.TrackerMixin,l=v.VMLRenderer,d=v.SVGRenderer.prototype.symbols;n("flags","column",{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd6eb"}},style:{fontSize:"11px",fontWeight:"bold"}},{sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:r.prototype.init,pointAttribs:function(t,i){var e=this.options,o=t&&t.color||this.color,s=e.lineColor,a=t&&t.lineWidth;return t=t&&t.fillColor||e.fillColor,i&&(t=e.states[i].fillColor,s=e.states[i].lineColor,a=e.states[i].lineWidth),{fill:t||o,stroke:s||o,"stroke-width":a||e.lineWidth||0}},translate:i.translate,getPlotBox:i.getPlotBox,drawPoints:function(){for(var t=this.points,i=this.chart,e=i.renderer,o=i.inverted,s=this.options,a=s.y,r=this.yAxis,n={},h=[],l=t.length;l--;){var d=t[l],c=(o?d.plotY:d.plotX)>this.xAxis.len,p=d.plotX,u=d.stackIndex,g=d.options.shape||s.shape,f=d.plotY;void 0!==f&&(f=d.plotY+a-(void 0!==u&&u*s.stackDistance)),d.anchorX=u?void 0:d.plotX;var x=u?void 0:d.plotY,m="flag"!==g,u=d.graphic;void 0!==f&&0<=p&&!c?(u||(u=d.graphic=e.label("",null,null,g,null,null,s.useHTML),i.styledMode||u.attr(this.pointAttribs(d)).css(M(s.style,d.style)),u.attr({align:m?"center":"left",width:s.width,height:s.height,"text-align":s.textAlign}).addClass("highcharts-point").add(this.markerGroup),d.graphic.div&&(d.graphic.div.point=d),i.styledMode||u.shadow(s.shadow),u.isNew=!0),0<p&&(p-=u.strokeWidth()%2),g={y:f,anchorY:x},s.allowOverlapX&&(g.x=p,g.anchorX=d.anchorX),u.attr({text:d.options.title||s.title||"A"})[u.isNew?"attr":"animate"](g),s.allowOverlapX||(n[d.plotX]?n[d.plotX].size=Math.max(n[d.plotX].size,u.width):n[d.plotX]={align:m?.5:0,size:u.width,target:p,anchorX:p}),d.tooltipPos=[p,f+r.pos-i.plotTop]):u&&(d.graphic=u.destroy())}s.allowOverlapX||(y(n,function(t){t.plotX=t.anchorX,h.push(t)}),v.distribute(h,o?r.len:this.xAxis.len,100),t.forEach(function(t){var i=t.graphic&&n[t.plotX];i&&(t.graphic[t.graphic.isNew?"attr":"animate"]({x:i.pos+i.align*i.size,anchorX:t.anchorX}),b(i.pos)?t.graphic.isNew=!1:(t.graphic.attr({x:-9999,anchorX:-9999}),t.graphic.isNew=!0))})),s.useHTML&&v.wrap(this.markerGroup,"on",function(t){return v.SVGElement.prototype.on.apply(t.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},drawTracker:function(){var e=this.points;h.drawTrackerPoint.apply(this),e.forEach(function(i){var t=i.graphic;t&&s(t.element,"mouseover",function(){0<i.stackIndex&&!i.raised&&(i._y=t.y,t.attr({y:i._y-8}),i.raised=!0),e.forEach(function(t){t!==i&&t.raised&&t.graphic&&(t.graphic.attr({y:t._y}),t.raised=!1)})})})},animate:function(t){t?this.setClip():this.animate=null},setClip:function(){r.prototype.setClip.apply(this,arguments),!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup.clip(this.chart[this.sharedClipKey])},buildKDTree:t,invertGroups:t},{isValid:function(){return o(this.y)||void 0===this.y}}),d.flag=function(t,i,e,o,s){var a=s&&s.anchorX||t;return s=s&&s.anchorY||i,d.circle(a-1,s-1,2,2).concat(["M",a,s,"L",t,i+o,t,i,t+e,i,t+e,i+o,t,i+o,"Z"])},e("circle"),e("square"),a===l&&["circlepin","flag","squarepin"].forEach(function(t){l.prototype.symbols[t]=d[t]})}),i(t,"parts/RangeSelector.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(p,t){function s(t){this.init(t)}var a=t.defined,o=t.destroyObjectProperties,r=t.discardElement,u=t.extend,S=t.isNumber,n=t.objectEach,C=t.pick,g=t.pInt,x=t.splat,m=p.addEvent,v=p.Axis;t=p.Chart;var f=p.css,z=p.createElement,R=p.defaultOptions,h=p.fireEvent,b=p.merge;u(R,{rangeSelector:{verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputPosition:{align:"right",x:0,y:0},buttonPosition:{align:"left",x:0,y:0},labelStyle:{color:"#666666"}}}),R.lang=b(R.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),s.prototype={clickButton:function(t,i){var e,o,s,a,r,n=this.chart,h=this.buttonOptions[t],l=n.xAxis[0],d=(g=n.scroller&&n.scroller.getUnionExtremes()||l||{}).dataMin,c=g.dataMax,p=l&&Math.round(Math.min(l.max,C(c,l.max))),u=h.type,g=h._range,f=h.dataGrouping;if(null!==d&&null!==c){if(n.fixedRange=g,f&&(this.forcedDataGrouping=!0,v.prototype.setDataGrouping.call(l||{chart:this.chart},f,!1),this.frozenStates=h.preserveDataGrouping),"month"===u||"year"===u)l?(u={range:h,max:p,chart:n,dataMin:d,dataMax:c},o=l.minFromRange.call(u),S(u.newMax)&&(p=u.newMax)):g=h;else if(g)o=Math.max(p-g,d),p=Math.min(o+g,c);else if("ytd"===u){if(!l)return void(this.deferredYTDClick=t);void 0===c&&(d=Number.MAX_VALUE,c=Number.MIN_VALUE,n.series.forEach(function(t){t=t.xData,d=Math.min(t[0],d),c=Math.max(t[t.length-1],c)}),i=!1),o=e=(p=this.getYTDExtremes(c,d,n.time.useUTC)).min,p=p.max}else"all"===u&&l&&(o=d,p=c);o+=h._offsetMin,p+=h._offsetMax,this.setSelected(t),l?l.setExtremes(o,p,C(i,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:h}):(s=x(n.options.xAxis)[0],a=s.range,s.range=g,r=s.min,s.min=e,m(n,"load",function(){s.range=a,s.min=r}))}},setSelected:function(t){this.selected=this.options.selected=t},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(i){function t(){var t=e.minInput,i=e.maxInput;t&&t.blur&&h(t,"blur"),i&&i.blur&&h(i,"blur")}var e=this,o=i.options.rangeSelector,s=o.buttons||[].concat(e.defaultButtons),a=o.selected;e.chart=i,e.options=o,e.buttons=[],e.buttonOptions=s,this.unMouseDown=m(i.container,"mousedown",t),this.unResize=m(i,"resize",t),s.forEach(e.computeButtonRange),void 0!==a&&s[a]&&this.clickButton(a,!1),m(i,"load",function(){i.xAxis&&i.xAxis[0]&&m(i.xAxis[0],"setExtremes",function(t){this.max-this.min!==i.fixedRange&&"rangeSelectorButton"!==t.trigger&&"updatedData"!==t.trigger&&e.forcedDataGrouping&&!e.frozenStates&&this.setDataGrouping(!1,!1)})})},updateButtonStates:function(){var p=this,t=this.chart,u=t.xAxis[0],g=Math.round(u.max-u.min),f=!u.hasVisibleSeries,i=t.scroller&&t.scroller.getUnionExtremes()||u,x=i.dataMin,m=i.dataMax,v=(t=p.getYTDExtremes(m,x,t.time.useUTC)).min,b=t.max,y=p.selected,M=S(y),k=p.options.allButtonsEnabled,A=p.buttons;p.buttonOptions.forEach(function(t,i){var e=t._range,o=t.type,s=t.count||1,a=A[i],r=0,n=t._offsetMax-t._offsetMin;t=i===y;var h=m-x<e,l=e<u.minRange,d=!1,c=!1,e=e===g;("month"===o||"year"===o)&&864e5*{month:28,year:365}[o]*s-n<=g+36e5&&g-36e5<=864e5*{month:31,year:366}[o]*s+n?e=!0:"ytd"===o?(e=b-v+n===g,d=!t):"all"===o&&(e=u.max-u.min>=m-x,c=!t&&M&&e),o=!k&&(h||l||c||f),s=t&&e||e&&!M&&!d||t&&p.frozenStates,o?r=3:s&&(M=!0,r=2),a.state!==r&&(a.setState(r),0===r&&y===i&&p.setSelected(null))})},computeButtonRange:function(t){var i=t.type,e=t.count||1,o={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};o[i]?t._range=o[i]*e:"month"!==i&&"year"!==i||(t._range=864e5*{month:30,year:365}[i]*e),t._offsetMin=C(t.offsetMin,0),t._offsetMax=C(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin},setInputValue:function(t,i){var e=this.chart.options.rangeSelector,o=this.chart.time,s=this[t+"Input"];a(i)&&(s.previousValue=s.HCTime,s.HCTime=i),s.value=o.dateFormat(e.inputEditDateFormat||"%Y-%m-%d",s.HCTime),this[t+"DateBox"].attr({text:o.dateFormat(e.inputDateFormat||"%b %e, %Y",s.HCTime)})},showInput:function(t){var i=this.inputGroup,e=this[t+"DateBox"];f(this[t+"Input"],{left:i.translateX+e.x+"px",top:i.translateY+"px",width:e.width-2+"px",height:e.height-2+"px",border:"2px solid silver"})},hideInput:function(t){f(this[t+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(t)},drawInput:function(t){function i(){var t=a.value,i=(h.inputDateParser||Date.parse)(t),e=n.xAxis[0],o=(s=n.scroller&&n.scroller.xAxis?n.scroller.xAxis:e).dataMin,s=s.dataMax;i!==a.previousValue&&(a.previousValue=i,S(i)||(i=t.split("-"),i=Date.UTC(g(i[0]),g(i[1])-1,g(i[2]))),S(i)&&(n.time.useUTC||(i+=6e4*(new Date).getTimezoneOffset()),d?i>r.maxInput.HCTime?i=void 0:i<o&&(i=o):i<r.minInput.HCTime?i=void 0:s<i&&(i=s),void 0!==i&&e.setExtremes(d?i:e.min,d?e.max:i,void 0,void 0,{trigger:"rangeSelectorInput"})))}var a,e,r=this,n=r.chart,o=n.renderer.style||{},s=n.renderer,h=n.options.rangeSelector,l=r.div,d="min"===t,c=this.inputGroup;this[t+"Label"]=e=s.label(R.lang[d?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).addClass("highcharts-range-label").attr({padding:2}).add(c),c.offset+=e.width+5,this[t+"DateBox"]=s=s.label("",c.offset).addClass("highcharts-range-input").attr({padding:2,width:h.inputBoxWidth||90,height:h.inputBoxHeight||17,"text-align":"center"}).on("click",function(){r.showInput(t),r[t+"Input"].focus()}),n.styledMode||s.attr({stroke:h.inputBoxBorderColor||"#cccccc","stroke-width":1}),s.add(c),c.offset+=s.width+(d?10:0),this[t+"Input"]=a=z("input",{name:t,className:"highcharts-range-selector",type:"text"},{top:n.plotTop+"px"},l),n.styledMode||(e.css(b(o,h.labelStyle)),s.css(b({color:"#333333"},o,h.inputStyle)),f(a,u({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:o.fontSize,fontFamily:o.fontFamily,top:"-9999em"},h.inputStyle))),a.onfocus=function(){r.showInput(t)},a.onblur=function(){a===p.doc.activeElement&&i(),r.hideInput(t),a.blur()},a.onchange=i,a.onkeypress=function(t){13===t.keyCode&&i()}},getPosition:function(){var t=this.chart,i=t.options.rangeSelector;return{buttonTop:(t="top"===i.verticalAlign?t.plotTop-t.axisOffset[0]:0)+i.buttonPosition.y,inputTop:t+i.inputPosition.y-10}},getYTDExtremes:function(t,i,e){var o=this.chart.time,s=new o.Date(t),a=o.get("FullYear",s);return e=e?o.Date.UTC(a,0,1):+new o.Date(a,0,1),i=Math.max(i||0,e),s=s.getTime(),{max:Math.min(t||s,s),min:i}},render:function(t,i){var e,o,a=this,s=a.chart,r=s.renderer,n=s.container,h=(u=s.options).exporting&&!1!==u.exporting.enabled&&u.navigation&&u.navigation.buttonOptions,l=R.lang,d=a.div,c=u.rangeSelector,p=C(u.chart.style&&u.chart.style.zIndex,0)+1,u=c.floating,g=a.buttons,d=a.inputGroup,f=c.buttonTheme,x=c.buttonPosition,m=c.inputPosition,v=c.inputEnabled,b=f&&f.states,y=s.plotLeft,M=a.buttonGroup,k=a.rendered,A=a.options.verticalAlign,S=s.legend,w=S&&S.options,D=x.y,E=m.y,T=k||!1,B=T?"animate":"attr",P=0,O=0;!1!==c.enabled&&(k||(a.group=k=r.g("range-selector-group").attr({zIndex:7}).add(),a.buttonGroup=M=r.g("range-selector-buttons").add(k),a.zoomText=r.text(l.rangeSelectorZoom,0,15).add(M),s.styledMode||(a.zoomText.css(c.labelStyle),f["stroke-width"]=C(f["stroke-width"],0)),a.buttonOptions.forEach(function(o,s){g[s]=r.button(o.text,0,0,function(t){var i,e=o.events&&o.events.click;e&&(i=e.call(o,t)),!1!==i&&a.clickButton(s),a.isActive=!0},f,b&&b.hover,b&&b.select,b&&b.disabled).attr({"text-align":"center"}).add(M)}),!1!==v&&(a.div=d=z("div",null,{position:"relative",height:0,zIndex:p}),n.parentNode.insertBefore(d,n),a.inputGroup=d=r.g("input-group").add(k),d.offset=0,a.drawInput("min"),a.drawInput("max"))),a.zoomText[B]({x:C(y+x.x,y)}),o=C(y+x.x,y)+a.zoomText.getBBox().width+5,a.buttonOptions.forEach(function(t,i){g[i][B]({x:o}),o+=g[i].width+C(c.buttonSpacing,5)}),y=s.plotLeft-s.spacing[3],a.updateButtonStates(),h&&this.titleCollision(s)&&"top"===A&&"right"===x.align&&x.y+M.getBBox().height-12<(h.y||0)+h.height&&(P=-40),"left"===x.align?e=x.x-s.spacing[3]:"right"===x.align&&(e=x.x+P-s.spacing[1]),M.align({y:x.y,width:M.getBBox().width,align:x.align,x:e},!0,s.spacingBox),a.group.placed=T,a.buttonGroup.placed=T,!1!==v&&(P=h&&this.titleCollision(s)&&"top"===A&&"right"===m.align&&m.y-d.getBBox().height-12<(h.y||0)+h.height+s.spacing[0]?-40:0,"left"===m.align?e=y:"right"===m.align&&(e=-Math.max(s.axisOffset[1],-P)),d.align({y:m.y,width:d.getBBox().width,align:m.align,x:m.x+e-2},!0,s.spacingBox),n=d.alignAttr.translateX+d.alignOptions.x-P+d.getBBox().x+2,h=d.alignOptions.width,l=M.alignAttr.translateX+M.getBBox().x,e=M.getBBox().width+20,(m.align===x.align||n<l+e&&l<n+h&&D<E+d.getBBox().height)&&d.attr({translateX:d.alignAttr.translateX+(s.axisOffset[1]>=-P?0:-P),translateY:d.alignAttr.translateY+M.getBBox().height+10}),a.setInputValue("min",t),a.setInputValue("max",i),a.inputGroup.placed=T),a.group.align({verticalAlign:A},!0,s.spacingBox),t=a.group.getBBox().height+20,i=a.group.alignAttr.translateY,"bottom"===A&&(O=i-(t=t+(S=w&&"bottom"===w.verticalAlign&&w.enabled&&!w.floating?S.legendHeight+C(w.margin,10):0)-20)-(u?0:c.y)-(s.titleOffset?s.titleOffset[2]:0)-10),"top"===A?(u&&(O=0),s.titleOffset&&s.titleOffset[0]&&(O=s.titleOffset[0]),O+=s.margin[0]-s.spacing[0]||0):"middle"===A&&(E===D?O=E<0?i+void 0:i:(E||D)&&(O=E<0||D<0?O-Math.min(E,D):i-t+NaN)),a.group.translate(c.x,c.y+Math.floor(O)),!1!==v&&(a.minInput.style.marginTop=a.group.translateY+"px",a.maxInput.style.marginTop=a.group.translateY+"px"),a.rendered=!0)},getHeight:function(){var t=this.options,i=this.group,e=t.y,o=t.buttonPosition.y,s=t.inputPosition.y;return t.height?t.height:(t=i?i.getBBox(!0).height+13+e:0,i=Math.min(s,o),(s<0&&o<0||0<s&&0<o)&&(t+=Math.abs(i)),t)},titleCollision:function(t){return!(t.options.title.text||t.options.subtitle.text)},update:function(t){var i=this.chart;b(!0,i.options.rangeSelector,t),this.destroy(),this.init(i),i.rangeSelector.render()},destroy:function(){var e=this,t=e.minInput,i=e.maxInput;e.unMouseDown(),e.unResize(),o(e.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),i&&(i.onfocus=i.onblur=i.onchange=null),n(e,function(t,i){t&&"chart"!==i&&(t.destroy?t.destroy():t.nodeType&&r(this[i])),t!==s.prototype[i]&&(e[i]=null)},this)}},v.prototype.minFromRange=function(){function t(t,i){var e=new r.Date(t),o=r.get(s,e);return r.set(s,e,o+i),o===r.get(s,e)&&r.set("Date",e,0),e.getTime()-t}var i,e,o=this.range,s={month:"Month",year:"FullYear"}[o.type],a=this.max,r=this.chart.time;S(o)?(i=a-o,e=o):(i=a+t(a,-o.count),this.chart&&(this.chart.fixedRange=a-i));var n=C(this.dataMin,Number.MIN_VALUE);return S(i)||(i=n),i<=n&&(i=n,void 0===e&&(e=t(i,o.count)),this.newMax=Math.min(i+e,this.dataMax)),S(a)||(i=void 0),i},p.RangeSelector||(m(t,"afterGetContainer",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new s(this))}),m(t,"beforeRender",function(){var t=this.axes,i=this.rangeSelector;i&&(S(i.deferredYTDClick)&&(i.clickButton(i.deferredYTDClick),delete i.deferredYTDClick),t.forEach(function(t){t.updateNames(),t.setScale()}),this.getAxisMargins(),i.render(),t=i.options.verticalAlign,i.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)))}),m(t,"update",function(t){var i=t.options.rangeSelector;t=this.rangeSelector;var e=this.extraBottomMargin,o=this.extraTopMargin;i&&i.enabled&&!a(t)&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=new s(this)),this.extraTopMargin=this.extraBottomMargin=!1,t&&(t.render(),i=i&&i.verticalAlign||t.options&&t.options.verticalAlign,t.options.floating||("bottom"===i?this.extraBottomMargin=!0:"middle"!==i&&(this.extraTopMargin=!0)),this.extraBottomMargin!==e||this.extraTopMargin!==o)&&(this.isDirtyBox=!0)}),m(t,"render",function(){var t=this.rangeSelector;t&&!t.options.floating&&(t.render(),"bottom"===(t=t.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0))}),m(t,"getMargins",function(){var t=this.rangeSelector;t&&(t=t.getHeight(),this.extraTopMargin&&(this.plotTop+=t),this.extraBottomMargin&&(this.marginBottom+=t))}),t.prototype.callbacks.push(function(t){function i(){e=t.xAxis[0].getExtremes(),S(e.min)&&a.render(e.min,e.max)}var e,o,s,a=t.rangeSelector;a&&(o=m(t.xAxis[0],"afterSetExtremes",function(t){a.render(t.min,t.max)}),s=m(t,"redraw",i),i()),m(t,"destroy",function(){a&&(s(),o())})}),p.RangeSelector=s)}),i(t,"parts/StockChart.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(y,t){var i=t.arrayMax,e=t.arrayMin,M=t.defined,b=t.extend,k=t.isNumber,A=t.isString,S=t.pick,c=t.splat;t=y.addEvent;var o=y.Axis,p=y.Chart,w=y.format,u=y.merge,s=y.Point,a=y.Renderer,r=y.Series,n=y.SVGRenderer,h=y.VMLRenderer,l=r.prototype,d=l.init,g=l.processData,f=s.prototype.tooltipFormatter;y.StockChart=y.stockChart=function(t,i,e){var o,s=A(t)||t.nodeName,a=arguments[s?1:0],r=a,n=a.series,h=y.getOptions(),l=S(a.navigator&&a.navigator.enabled,h.navigator.enabled,!0),d=l?{startOnTick:!1,endOnTick:!1}:null;return a.xAxis=c(a.xAxis||{}).map(function(t,i){return u({minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},h.xAxis,h.xAxis&&h.xAxis[i],t,{type:"datetime",categories:null},d)}),a.yAxis=c(a.yAxis||{}).map(function(t,i){return o=S(t.opposite,!0),u({labels:{y:-2},opposite:o,showLastLabel:!(!t.categories&&"category"!==t.type),title:{text:null}},h.yAxis,h.yAxis&&h.yAxis[i],t)}),a.series=null,(a=u({chart:{panning:!0,pinchType:"x"},navigator:{enabled:l},scrollbar:{enabled:S(h.scrollbar.enabled,!0)},rangeSelector:{enabled:S(h.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:S(h.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},a,{isStock:!0})).series=r.series=n,s?new p(t,a,e):new p(a,i)},t(r,"setOptions",function(t){function i(t){return y.seriesTypes[t]&&o instanceof y.seriesTypes[t]}var e,o=this;this.chart.options.isStock&&(i("column")||i("columnrange")?e={borderWidth:0,shadow:!1}:!i("line")||i("scatter")||i("sma")||(e={marker:{enabled:!1,radius:2}}),e&&(t.plotOptions[this.type]=u(t.plotOptions[this.type],e)))}),t(o,"autoLabelAlign",function(t){var i=this.chart,e=this.options,i=i._labelPanes=i._labelPanes||{},o=this.options.labels;!this.chart.options.isStock||"yAxis"!==this.coll||!i[e=e.top+","+e.height]&&o.enabled&&(15===o.x&&(o.x=0),void 0===o.align&&(o.align="right"),i[e]=this,t.align="right",t.preventDefault())}),t(o,"destroy",function(){var t=this.chart,i=this.options&&this.options.top+","+this.options.height;i&&t._labelPanes&&t._labelPanes[i]===this&&delete t._labelPanes[i]}),t(o,"getPlotLinePath",function(t){var e,o,s,a,r,n,i,h,l=this,d=this.isLinked&&!this.series?this.linkedParent.series:this.series,c=l.chart,p=c.renderer,u=l.left,g=l.top,f=[],x=[],m=t.translatedValue,v=t.value,b=t.force;(c.options.isStock&&!1!==t.acrossPanes&&"xAxis"===l.coll||"yAxis"===l.coll)&&(t.preventDefault(),i=l.coll,h="xAxis"===i?"yAxis":"xAxis",i=l.options[h],x=k(i)?[c[h][i]]:A(i)?[c.get(i)]:d.map(function(t){return t[h]}),(l.isXAxis?c.yAxis:c.xAxis).forEach(function(t){var i;M(t.options.id)&&-1!==t.options.id.indexOf("navigator")||(i=t.isXAxis?"yAxis":"xAxis",i=M(t.options[i])?c[i][t.options[i]]:c[i][0],l===i&&x.push(t))}),r=x.length?[]:[l.isXAxis?c.yAxis[0]:c.xAxis[0]],x.forEach(function(i){-1!==r.indexOf(i)||y.find(r,function(t){return t.pos===i.pos&&t.len===i.len})||r.push(i)}),n=S(m,l.translate(v,null,null,t.old)),k(n)&&(l.horiz?r.forEach(function(t){var i;o=t.pos,a=o+t.len,e=s=Math.round(n+l.transB),"pass"!==b&&(e<u||e>u+l.width)&&(b?e=s=Math.min(Math.max(u,e),u+l.width):i=!0),i||f.push("M",e,o,"L",s,a)}):r.forEach(function(t){var i;e=t.pos,s=e+t.len,o=a=Math.round(g+l.height-n),"pass"!==b&&(o<g||o>g+l.height)&&(b?o=a=Math.min(Math.max(g,o),l.top+l.height):i=!0),i||f.push("M",e,o,"L",s,a)})),t.path=0<f.length?p.crispPolyLine(f,t.lineWidth||1):null)}),n.prototype.crispPolyLine=function(t,i){for(var e=0;e<t.length;e+=6)t[e+1]===t[e+4]&&(t[e+1]=t[e+4]=Math.round(t[e+1])-i%2/2),t[e+2]===t[e+5]&&(t[e+2]=t[e+5]=Math.round(t[e+2])+i%2/2);return t},a===h&&(h.prototype.crispPolyLine=n.prototype.crispPolyLine),t(o,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),t(o,"afterDrawCrosshair",function(t){var i,e,o,s,a,r,n,h,l,d,c,p,u,g,f,x,m,v;M(this.crosshair.label)&&this.crosshair.label.enabled&&this.cross&&(o=this.chart,s=this.options.crosshair.label,a=this.horiz,r=this.opposite,n=this.left,h=this.top,l=this.crossLabel,d=s.format,c="",p="inside"===this.options.tickPosition,u=!1!==this.crosshair.snap,g=0,f=t.e||this.cross&&this.cross.e,x=t.point,v=this.lin2log,m=this.isLog?(t=v(this.min),v(this.max)):(t=this.min,this.max),v=a?"center":r?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",l||(l=this.crossLabel=o.renderer.label(null,null,null,s.shape||"callout").addClass("highcharts-crosshair-label"+(this.series[0]&&" highcharts-color-"+this.series[0].colorIndex)).attr({align:s.align||v,padding:S(s.padding,8),r:S(s.borderRadius,3),zIndex:2}).add(this.labelGroup),o.styledMode||l.attr({fill:s.backgroundColor||this.series[0]&&this.series[0].color||"#666666",stroke:s.borderColor||"","stroke-width":s.borderWidth||0}).css(b({color:"#ffffff",fontWeight:"normal",fontSize:"11px",textAlign:"center"},s.style))),a?(v=u?x.plotX+n:f.chartX,h+=r?0:this.height):(v=r?this.width+n:0,h=u?x.plotY+h:f.chartY),d||s.formatter||(this.isDatetimeAxis&&(c="%b %d, %Y"),d="{value"+(c?":"+c:"")+"}"),c=u?x[this.isXAxis?"x":"y"]:this.toValue(a?f.chartX:f.chartY),l.attr({text:d?w(d,{value:c},o.time):s.formatter.call(this,c),x:v,y:h,visibility:c<t||m<c?"hidden":"visible"}),s=l.getBBox(),a?(p&&!r||!p&&r)&&(h=l.y-s.height):h=l.y-s.height/2,e=a?(i=n-s.x,n+this.width-s.x):(i="left"===this.labelAlign?n:0,"right"===this.labelAlign?n+this.width:o.chartWidth),l.translateX<i&&(g=i-l.translateX),l.translateX+s.width>=e&&(g=-(l.translateX+s.width-e)),l.attr({x:v+g,y:h,anchorX:a?v:this.opposite?0:o.chartWidth,anchorY:a?this.opposite?o.chartHeight:0:h+s.height/2}))}),l.init=function(){d.apply(this,arguments),this.setCompare(this.options.compare)},l.setCompare=function(o){this.modifyValue="value"===o||"percent"===o?function(t,i){var e=this.compareValue;return void 0!==t&&void 0!==e?(t="value"===o?t-e:t/e*100-(100===this.options.compareBase?0:100),i&&(i.change=t),t):0}:null,this.userOptions.compare=o,this.chart.hasRendered&&(this.isDirty=!0)},l.processData=function(t){var i,e=-1,o=!0===this.options.compareStart?0:1;if(g.apply(this,arguments),this.xAxis&&this.processedYData){var s=this.processedXData,a=this.processedYData,r=a.length;for(this.pointArrayMap&&(e=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),i=0;i<r-o;i++){var n=a[i]&&-1<e?a[i][e]:a[i];if(k(n)&&s[i+o]>=this.xAxis.min&&0!==n){this.compareValue=n;break}}}},t(r,"afterGetExtremes",function(){var t;this.modifyValue&&(t=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)],this.dataMin=e(t),this.dataMax=i(t))}),o.prototype.setCompare=function(i,t){this.isXAxis||(this.series.forEach(function(t){t.setCompare(i)}),S(t,!0)&&this.chart.redraw())},s.prototype.tooltipFormatter=function(t){return t=t.replace("{point.change}",(0<this.change?"+":"")+y.numberFormat(this.change,S(this.series.tooltipOptions.changeDecimals,2))),f.apply(this,[t])},t(r,"render",function(){var t,i,e,o=this.chart;o.is3d&&o.is3d()||o.polar||!this.xAxis||this.xAxis.isRadial||(t=this.yAxis.len,this.xAxis.axisLine&&(i=o.plotTop+o.plotHeight-this.yAxis.pos-this.yAxis.len,e=Math.floor(this.xAxis.axisLine.strokeWidth()/2),0<=i&&(t-=Math.max(e-i,0))),!this.clipBox&&this.animate?(this.clipBox=u(o.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=t):o[this.sharedClipKey]&&(o[this.sharedClipKey].animate({width:this.xAxis.len,height:t}),o[this.sharedClipKey+"m"]&&o[this.sharedClipKey+"m"].animate({width:this.xAxis.len})))}),t(p,"update",function(t){"scrollbar"in(t=t.options)&&this.navigator&&(u(!0,this.options.scrollbar,t.scrollbar),this.navigator.update({},!1),delete t.scrollbar)})}),i(t,"masters/modules/stock.src.js",[],function(){})});