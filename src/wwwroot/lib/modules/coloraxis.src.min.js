"use strict";!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/color-axis",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var i=t?t._modules:{};function o(t,i,o,s){t.hasOwnProperty(i)||(t[i]=s.apply(null,o))}o(i,"parts-map/ColorSeriesMixin.js",[i["parts/Globals.js"]],function(t){t.colorPointMixin={setVisible:function(t){var i=this,o=t?"show":"hide";i.visible=Boolean(t),["graphic","dataLabel"].forEach(function(t){i[t]&&i[t][o]()})}},t.colorSeriesMixin={optionalAxis:"colorAxis",colorAxis:0,translateColors:function(){var s=this,t=this.data.length?this.data:this.points,e=this.options.nullColor,a=this.colorAxis,n=this.colorKey;t.forEach(function(t){var i=t[n],o=t.options.color||(t.isNull?e:a&&void 0!==i?a.toColor(i,t):t.color||s.color);o&&(t.color=o)})}}}),o(i,"parts-map/ColorAxis.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(c,t){var s,e=t.erase,p=t.extend,o=t.isNumber,d=t.pick,i=t.splat,a=c.addEvent,l=c.Axis,n=c.Chart,f=c.Series,r=c.Point,h=c.color,u=c.Legend,g=c.LegendSymbolMixin,m=c.colorPointMixin,x=c.colorSeriesMixin,y=c.noop,v=c.merge;p(f.prototype,x),p(r.prototype,m),s=c.ColorAxis=function(){this.init.apply(this,arguments)},p(s.prototype,l.prototype),p(s.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0},keepProps:["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"].concat(l.prototype.keepProps),init:function(t,i){var o;this.coll="colorAxis",o=this.buildOptions.call(t,this.defaultColorAxisOptions,i),l.prototype.init.call(this,t,o),i.dataClasses&&this.initDataClasses(i),this.initStops(),this.horiz=!o.opposite,this.zoomEnabled=!1,this.defaultLegendLength=200},initDataClasses:function(t){var s,e=this.chart,a=0,n=e.options.chart.colorCount,l=this.options,r=t.dataClasses.length;this.dataClasses=s=[],this.legendItems=[],t.dataClasses.forEach(function(t,i){var o;t=v(t),s.push(t),!e.styledMode&&t.color||("category"===l.dataClassColor?(e.styledMode||(o=e.options.colors,n=o.length,t.color=o[a]),t.colorIndex=a,++a===n&&(a=0)):t.color=h(l.minColor).tweenTo(h(l.maxColor),r<2?.5:i/(r-1)))})},hasData:function(){return!(!this.tickPositions||!this.tickPositions.length)},setTickPositions:function(){if(!this.dataClasses)return l.prototype.setTickPositions.call(this)},initStops:function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach(function(t){t.color=h(t[1])})},buildOptions:function(t,i){var o=this.options.legend,s=i.layout?"vertical"!==i.layout:"vertical"!==o.layout;return v(t,{side:s?2:1,reversed:!s},i,{opposite:!s,showEmpty:!1,title:null,visible:o.enabled&&(!i||!1!==i.visible)})},setOptions:function(t){l.prototype.setOptions.call(this,t),this.options.crosshair=this.options.marker},setAxisSize:function(){var t,i,o,s,e=this.legendSymbol,a=this.chart,n=a.options.legend||{};e?(this.left=t=e.attr("x"),this.top=i=e.attr("y"),this.width=o=e.attr("width"),this.height=s=e.attr("height"),this.right=a.chartWidth-t-o,this.bottom=a.chartHeight-i-s,this.len=this.horiz?o:s,this.pos=this.horiz?t:i):this.len=(this.horiz?n.symbolWidth:n.symbolHeight)||this.defaultLegendLength},normalizedValue:function(t){return this.isLog&&(t=this.val2lin(t)),1-(this.max-t)/(this.max-this.min||1)},toColor:function(t,i){var o,s,e,a,n,l,r=this.stops,h=this.dataClasses;if(h){for(l=h.length;l--;)if(s=(n=h[l]).from,e=n.to,(void 0===s||s<=t)&&(void 0===e||t<=e)){a=n.color,i&&(i.dataClass=l,i.colorIndex=n.colorIndex);break}}else{for(o=this.normalizedValue(t),l=r.length;l--&&!(o>r[l][0]););s=r[l]||r[l+1],o=1-((e=r[l+1]||s)[0]-o)/(e[0]-s[0]||1),a=s.color.tweenTo(e.color,o)}return a},getOffset:function(){var t=this.legendGroup,i=this.chart.axisOffset[this.side];t&&(this.axisParent=t,l.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=i)},setLegendColor:function(){var t=this.horiz,i=this.reversed,o=i?1:0,s=i?0:1,e=t?[o,0,s,0]:[0,s,0,o];this.legendColor={linearGradient:{x1:e[0],y1:e[1],x2:e[2],y2:e[3]},stops:this.stops}},drawLegendSymbol:function(t,i){var o=t.padding,s=t.options,e=this.horiz,a=d(s.symbolWidth,e?this.defaultLegendLength:12),n=d(s.symbolHeight,e?12:this.defaultLegendLength),l=d(s.labelPadding,e?16:30),r=d(s.itemDistance,10);this.setLegendColor(),i.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,a,n).attr({zIndex:1}).add(i.legendGroup),this.legendItemWidth=a+o+(e?r:l),this.legendItemHeight=n+o+(e?l:0)},setState:function(i){this.series.forEach(function(t){t.setState(i)})},visible:!0,setVisible:y,getSeriesExtremes:function(){var t,i,o,s,e,a,n,l,r=this.series,h=r.length;for(this.dataMin=1/0,this.dataMax=-1/0;h--;){if(i=(a=r[h]).colorKey=d(a.options.colorKey,a.colorKey,a.pointValKey,a.zoneAxis,"y"),s=a.pointArrayMap,e=a[i+"Min"]&&a[i+"Max"],a[i+"Data"])t=a[i+"Data"];else if(s){if(t=[],o=s.indexOf(i),n=a.yData,0<=o&&n)for(l=0;l<n.length;l++)t.push(d(n[l][o],n[l]))}else t=a.yData;e?(a.minColorValue=a[i+"Min"],a.maxColorValue=a[i+"Max"]):(f.prototype.getExtremes.call(a,t),a.minColorValue=a.dataMin,a.maxColorValue=a.dataMax),void 0!==a.minColorValue&&(this.dataMin=Math.min(this.dataMin,a.minColorValue),this.dataMax=Math.max(this.dataMax,a.maxColorValue)),e||f.prototype.getExtremes.call(a)}},drawCrosshair:function(t,i){var o,s=i&&i.plotX,e=i&&i.plotY,a=this.pos,n=this.len;i&&((o=this.toPixels(i[i.series.colorKey]))<a?o=a-2:a+n<o&&(o=a+n+2),i.plotX=o,i.plotY=this.len-o,l.prototype.drawCrosshair.call(this,t,i),i.plotX=s,i.plotY=e,this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,this.chart.styledMode||this.cross.attr({fill:this.crosshair.color})))},getPlotLinePath:function(t){var i=t.translatedValue;return o(i)?this.horiz?["M",i-4,this.top-6,"L",i+4,this.top-6,i,this.top,"Z"]:["M",this.left,i,"L",this.left-6,i+6,this.left-6,i-6,"Z"]:l.prototype.getPlotLinePath.apply(this,arguments)},update:function(t,i){var o=this.chart,s=o.legend,e=this.buildOptions.call(o,{},t);this.series.forEach(function(t){t.isDirtyData=!0}),(t.dataClasses&&s.allItems||this.dataClasses)&&this.destroyItems(),o.options[this.coll]=v(this.userOptions,e),l.prototype.update.call(this,e,i),this.legendItem&&(this.setLegendColor(),s.colorizeItem(this,!0))},destroyItems:function(){var i=this.chart;this.legendItem?i.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(t){i.legend.destroyItem(t)}),i.isDirtyLegend=!0},remove:function(t){this.destroyItems(),l.prototype.remove.call(this,t)},getDataClassLegendSymbols:function(){var a,n=this,l=this.chart,r=this.legendItems,t=l.options.legend,h=t.valueDecimals,d=t.valueSuffix||"";return r.length||this.dataClasses.forEach(function(t,i){var o=!0,s=t.from,e=t.to;a="",void 0===s?a="< ":void 0===e&&(a="> "),void 0!==s&&(a+=c.numberFormat(s,h)+d),void 0!==s&&void 0!==e&&(a+=" - "),void 0!==e&&(a+=c.numberFormat(e,h)+d),r.push(p({chart:l,name:a,options:{},drawLegendSymbol:g.drawRectangle,visible:!0,setState:y,isDataClass:!0,setVisible:function(){o=this.visible=!o,n.series.forEach(function(t){t.points.forEach(function(t){t.dataClass===i&&t.setVisible(o)})}),l.legend.colorizeItem(this,o)}},t))}),r},beforePadding:!1,name:""}),["fill","stroke"].forEach(function(t){c.Fx.prototype[t+"Setter"]=function(){this.elem.attr(t,h(this.start).tweenTo(h(this.end),this.pos),null,!0)}}),a(n,"afterGetAxes",function(){var o=this,t=o.options;this.colorAxis=[],t.colorAxis&&(t.colorAxis=i(t.colorAxis),t.colorAxis.forEach(function(t,i){t.index=i,new s(o,t)}))}),a(f,"bindAxes",function(){var t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}),a(u,"afterGetAllItems",function(i){var o,t,s=[];for((this.chart.colorAxis||[]).forEach(function(t){(o=t.options)&&o.showInLegend&&(o.dataClasses&&o.visible?s=s.concat(t.getDataClassLegendSymbols()):o.visible&&s.push(t),t.series.forEach(function(t){t.options.showInLegend&&!o.dataClasses||("point"===t.options.legendType?t.points.forEach(function(t){e(i.allItems,t)}):e(i.allItems,t))}))}),t=s.length;t--;)i.allItems.unshift(s[t])}),a(u,"afterColorizeItem",function(t){t.visible&&t.item.legendColor&&t.item.legendSymbol.attr({fill:t.item.legendColor})}),a(u,"afterUpdate",function(){var t=this.chart.colorAxis;t&&t.forEach(function(t){t.update({},arguments[2])})}),a(f,"afterTranslate",function(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()})}),o(i,"masters/modules/coloraxis.src.js",[],function(){})});