"use strict";import H from"../parts/Globals.js";import U from"../parts/Utilities.js";var isArray=U.isArray,seriesType=H.seriesType,correctFloat=H.correctFloat;seriesType("ema","sma",{params:{index:3,period:9}},{accumulatePeriodPoints:function(r,a,t){for(var e=0,i=0;i<r;)e+=a<0?t[i]:t[i][a],i++;return e},calculateEma:function(r,a,t,e,i,s,o){var u=r[t-1],c=s<0?a[t-1]:a[t-1][s];return[u,void 0===i?o:correctFloat(c*e+i*(1-e))]},getValues:function(r,a){var t,e,i,s,o=a.period,u=r.xData,c=r.yData,n=c?c.length:0,l=2/(o+1),p=[],m=[],d=[],f=-1;if(n<o)return!1;for(isArray(c[0])&&(f=a.index?a.index:0),t=this.accumulatePeriodPoints(o,f,c)/o,s=o;s<n+1;s++)i=this.calculateEma(u,c,s,l,e,f,t),p.push(i),m.push(i[0]),d.push(i[1]),e=i[1];return{values:p,xData:m,yData:d}}});