"use strict";import H from"../parts/Globals.js";import U from"../parts/Utilities.js";var pick=U.pick;import multipleLinesMixin from"../mixins/multipe-lines.js";function getExtremeIndexInArray(r,n){var o,e=r[0],i=0;for(o=1;o<r.length;o++)("max"===n&&r[o]>=e||"min"===n&&r[o]<=e)&&(e=r[o],i=o);return i}H.seriesType("aroon","sma",{params:{period:25},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span><b> {series.name}</b><br/>Aroon Up: {point.y}<br/>Aroon Down: {point.aroonDown}<br/>'},aroonDown:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}},H.merge(multipleLinesMixin,{nameBase:"Aroon",pointArrayMap:["y","aroonDown"],pointValKey:"y",linesApiNames:["aroonDown"],getValues:function(r,n){var o,e,i,a,t,p=n.period,s=r.xData,m=r.yData,l=m?m.length:0,u=[],x=[],y=[];for(t=p-1;t<l;t++)a=getExtremeIndexInArray((o=m.slice(t-p+1,t+2)).map(function(r){return pick(r[2],r)}),"min"),e=getExtremeIndexInArray(o.map(function(r){return pick(r[1],r)}),"max")/p*100,i=a/p*100,s[t+1]&&(u.push([s[t+1],e,i]),x.push(s[t+1]),y.push([e,i]));return{values:u,xData:x,yData:y}}}));