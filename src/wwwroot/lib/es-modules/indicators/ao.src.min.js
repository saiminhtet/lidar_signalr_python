"use strict";import H from"../parts/Globals.js";import U from"../parts/Utilities.js";var isArray=U.isArray,correctFloat=H.correctFloat,noop=H.noop;H.seriesType("ao","sma",{greaterBarColor:"#06B535",lowerBarColor:"#F21313",threshold:0,groupPadding:.2,pointPadding:.2,states:{hover:{halo:{size:0}}}},{nameBase:"AO",nameComponents:!1,markerAttribs:noop,getColumnMetrics:H.seriesTypes.column.prototype.getColumnMetrics,crispCol:H.seriesTypes.column.prototype.crispCol,translate:H.seriesTypes.column.prototype.translate,drawPoints:H.seriesTypes.column.prototype.drawPoints,drawGraph:function(){var r,o=this.options,t=this.points,e=this.userOptions.color,s=o.greaterBarColor,a=o.lowerBarColor,l=t[0];if(!e&&l)for(l.color=s,r=1;r<t.length;r++)t[r].y>t[r-1].y?t[r].color=s:t[r].y<t[r-1].y?t[r].color=a:t[r].color=t[r-1].color},getValues:function(r){var o,t,e,s,a,l,c=r.xData||[],i=r.yData||[],n=i.length,p=[],u=[],y=[],h=0,m=0;if(c.length<=34||!isArray(i[0])||4!==i[0].length)return!1;for(a=0;a<33;a++)s=(i[a][1]+i[a][2])/2,a>=29&&(h=correctFloat(h+s)),m=correctFloat(m+s);for(l=33;l<n;l++)s=(i[l][1]+i[l][2])/2,h=correctFloat(h+s),m=correctFloat(m+s),o=correctFloat(h/5-m/34),p.push([c[l],o]),u.push(c[l]),y.push(o),e=l+1-34,h=correctFloat(h-(i[t=l+1-5][1]+i[t][2])/2),m=correctFloat(m-(i[e][1]+i[e][2])/2);return{values:p,xData:u,yData:y}}});