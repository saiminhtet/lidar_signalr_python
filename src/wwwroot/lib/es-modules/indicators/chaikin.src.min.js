"use strict";import H from"../parts/Globals.js";import"./accumulation-distribution.src.js";import"../parts/Utilities.js";import requiredIndicatorMixin from"../mixins/indicator-required.js";var EMA=H.seriesTypes.ema,AD=H.seriesTypes.ad,error=H.error,correctFloat=H.correctFloat,requiredIndicator=requiredIndicatorMixin;H.seriesType("chaikin","ema",{params:{volumeSeriesID:"volume",periods:[3,10]}},{nameBase:"Chaikin Osc",nameComponents:["periods"],init:function(){var e=arguments,r=this;requiredIndicator.isParentLoaded(EMA,"ema",r.type,function(i){i.prototype.init.apply(r,e)})},getValues:function(e,r){var i,t,o,a,s,n,p=r.periods,u=r.period,l=[],c=[],d=[];if(2!==p.length||p[1]<=p[0])return error('Error: "Chaikin requires two periods. Notice, first period should be lower than the second one."'),!1;if(!(i=AD.prototype.getValues.call(this,e,{volumeSeriesID:r.volumeSeriesID,period:u})))return!1;if(o=EMA.prototype.getValues.call(this,i,{period:p[0]}),a=EMA.prototype.getValues.call(this,i,{period:p[1]}),!o||!a)return!1;for(t=p[1]-p[0],n=0;n<a.yData.length;n++)s=correctFloat(o.yData[n+t]-a.yData[n]),l.push([a.xData[n],s]),c.push(a.xData[n]),d.push(s);return{values:l,xData:c,yData:d}}});