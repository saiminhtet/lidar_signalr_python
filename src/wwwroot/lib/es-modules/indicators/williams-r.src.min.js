"use strict";import H from"../parts/Globals.js";import U from"../parts/Utilities.js";var isArray=U.isArray;import reduceArrayMixin from"../mixins/reduce-array.js";var getArrayExtremes=reduceArrayMixin.getArrayExtremes;H.seriesType("williamsr","sma",{params:{period:14}},{nameBase:"Williams %R",getValues:function(r,a){var e,s,i,t,m,l,p=a.period,u=r.xData,y=r.yData,n=y?y.length:0,o=[],x=[],A=[];if(u.length<p||!isArray(y[0])||4!==y[0].length)return!1;for(l=p-1;l<n;l++)e=y.slice(l-p+1,l+1),m=(s=getArrayExtremes(e,2,1))[0],i=((t=s[1])-y[l][3])/(t-m)*-100,u[l]&&(o.push([u[l],i]),x.push(u[l]),A.push(i));return{values:o,xData:x,yData:A}}});