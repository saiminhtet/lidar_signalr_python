"use strict";import H from"../parts/Globals.js";import"../parts/Utilities.js";var seriesType=H.seriesType;function populateAverage(e,r,t,a){var s=r[a][1],i=r[a][2],u=r[a][3],o=t[a],n=u===s&&u===i||s===i?0:(2*u-i-s)/(s-i)*o;return[e[a],n]}seriesType("ad","sma",{params:{volumeSeriesID:"volume"}},{nameComponents:!1,nameBase:"Accumulation/Distribution",getValues:function(e,r){var t,a,s,i=r.period,u=e.xData,o=e.yData,n=r.volumeSeriesID,p=e.chart.get(n),l=p&&p.yData,m=o?o.length:0,h=[],v=[],D=[];if(u.length<=i&&m&&4!==o[0].length)return!1;if(!p)return H.error("Series "+n+" not found! Check `volumeSeriesID`.",!0,e.chart);for(a=i;a<m;a++)t=h.length,s=populateAverage(u,o,l,a,i),t>0&&(s[1]+=h[t-1][1]),h.push(s),v.push(s[0]),D.push(s[1]);return{values:h,xData:v,yData:D}}});