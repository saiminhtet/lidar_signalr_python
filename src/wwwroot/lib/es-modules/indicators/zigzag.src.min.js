"use strict";import H from"../parts/Globals.js";import"../parts/Utilities.js";var UNDEFINED,seriesType=H.seriesType;seriesType("zigzag","sma",{params:{lowIndex:2,highIndex:1,deviation:1}},{nameComponents:["deviation"],nameSuffixes:["%"],nameBase:"Zig Zag",getValues:function(e,s){var a,t,i,n,p,r,h,u=s.lowIndex,o=s.highIndex,g=s.deviation/100,l=1+g,D=1-g,m=e.xData,d=e.yData,f=d?d.length:0,x=[],I=[],v=[],E=!1,N=!1;if(m.length<=1||f&&(d[0][u]===UNDEFINED||d[0][o]===UNDEFINED))return!1;for(n=d[0][u],p=d[0][o],a=1;a<f;a++)d[a][u]<=p*D?(x.push([m[0],p]),i=[m[a],d[a][u]],r=!0,E=!0):d[a][o]>=n*l&&(x.push([m[0],n]),i=[m[a],d[a][o]],r=!1,E=!0),E&&(I.push(x[0][0]),v.push(x[0][1]),t=a++,a=f);for(a=t;a<f;a++)r?(d[a][u]<=i[1]&&(i=[m[a],d[a][u]]),d[a][o]>=i[1]*l&&(N=o)):(d[a][o]>=i[1]&&(i=[m[a],d[a][o]]),d[a][u]<=i[1]*D&&(N=u)),!1!==N&&(x.push(i),I.push(i[0]),v.push(i[1]),i=[m[a],d[a][N]],r=!r,N=!1);return 0!==(h=x.length)&&x[h-1][0]<m[f-1]&&(x.push(i),I.push(i[0]),v.push(i[1])),{values:x,xData:I,yData:v}}});