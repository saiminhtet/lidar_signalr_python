"use strict";import H from"../parts/Globals.js";import U from"../parts/Utilities.js";var isArray=U.isArray;function toFixed(t,a){return parseFloat(t.toFixed(a))}H.seriesType("rsi","sma",{params:{period:14,decimals:4}},{getValues:function(t,a){var r,e,i,s,o,d=a.period,p=t.xData,l=t.yData,u=l?l.length:0,x=a.decimals,n=1,F=[],h=[],m=[],f=0,y=0;if(p.length<d||!isArray(l[0])||4!==l[0].length)return!1;for(;n<d;)(e=toFixed(l[n][3]-l[n-1][3],x))>0?f+=e:y+=Math.abs(e),n++;for(i=toFixed(f/(d-1),x),s=toFixed(y/(d-1),x),o=n;o<u;o++)(e=toFixed(l[o][3]-l[o-1][3],x))>0?(f=e,y=0):(f=0,y=Math.abs(e)),i=toFixed((i*(d-1)+f)/d,x),r=0===(s=toFixed((s*(d-1)+y)/d,x))?100:0===i?0:toFixed(100-100/(1+i/s),x),F.push([p[o],r]),h.push(p[o]),m.push(r);return{values:F,xData:h,yData:m}}});