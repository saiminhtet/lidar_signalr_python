"use strict";import H from"../parts/Globals.js";import"../parts/Utilities.js";import requiredIndicatorMixin from"../mixins/indicator-required.js";var EMA=H.seriesTypes.ema,error=H.error,correctFloat=H.correctFloat,requiredIndicator=requiredIndicatorMixin;H.seriesType("ppo","ema",{params:{periods:[12,26]}},{nameBase:"PPO",nameComponents:["periods"],init:function(){var r=arguments,e=this;requiredIndicator.isParentLoaded(EMA,"ema",e.type,function(t){t.prototype.init.apply(e,r)})},getValues:function(r,e){var t,i,a,o,s,n=e.periods,p=e.index,d=[],u=[],c=[];if(2!==n.length||n[1]<=n[0])return error('Error: "PPO requires two periods. Notice, first period should be lower than the second one."'),!1;if(i=EMA.prototype.getValues.call(this,r,{index:p,period:n[0]}),a=EMA.prototype.getValues.call(this,r,{index:p,period:n[1]}),!i||!a)return!1;for(t=n[1]-n[0],s=0;s<a.yData.length;s++)o=correctFloat((i.yData[s+t]-a.yData[s])/a.yData[s]*100),d.push([a.xData[s],o]),u.push(a.xData[s]),c.push(o);return{values:d,xData:u,yData:c}}});