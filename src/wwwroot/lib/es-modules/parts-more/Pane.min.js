"use strict";import H from"../parts/Globals.js";import"../mixins/centered-series.js";import U from"../parts/Utilities.js";var extend=U.extend,splat=U.splat,CenteredSeriesMixin=H.CenteredSeriesMixin,merge=H.merge;function Pane(t,e){this.init(t,e)}extend(Pane.prototype,{coll:"pane",init:function(t,e){this.chart=e,this.background=[],e.pane.push(this),this.setOptions(t)},setOptions:function(t){this.options=t=merge(this.defaultOptions,this.chart.angular?{background:{}}:void 0,t)},render:function(){var t,e,r=this.options,i=this.options.background,n=this.chart.renderer;if(this.group||(this.group=n.g("pane-group").attr({zIndex:r.zIndex||0}).add()),this.updateCenter(),i)for(i=splat(i),t=Math.max(i.length,this.background.length||0),e=0;e<t;e++)i[e]&&this.axis?this.renderBackground(merge(this.defaultBackgroundOptions,i[e]),e):this.background[e]&&(this.background[e]=this.background[e].destroy(),this.background.splice(e,1))},renderBackground:function(t,e){var r="animate",i={class:"highcharts-pane "+(t.className||"")};this.chart.styledMode||extend(i,{fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth}),this.background[e]||(this.background[e]=this.chart.renderer.path().add(this.group),r="attr"),this.background[e][r]({d:this.axis.getPlotBandPath(t.from,t.to,t)}).attr(i)},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},updateCenter:function(t){this.center=(t||this.axis||{}).center=CenteredSeriesMixin.getCenter.call(this)},update:function(t,e){merge(!0,this.options,t),merge(!0,this.chart.options.pane,t),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(t){t.pane===this&&(t.pane=null,t.update({},e))},this)}}),H.Pane=Pane;