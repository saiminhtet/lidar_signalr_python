"use strict";import H from"../parts/Globals.js";import U from"../parts/Utilities.js";var isNumber=U.isNumber,pick=U.pick,pInt=U.pInt;import"../parts/Options.js";import"../parts/Point.js";import"../parts/Series.js";import"../parts/Interaction.js";var merge=H.merge,noop=H.noop,Series=H.Series,seriesType=H.seriesType,TrackerMixin=H.TrackerMixin;seriesType("gauge","line",{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1},{angular:!0,directTouch:!0,drawGraph:noop,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var t=this.yAxis,r=this.options,a=t.center;this.generatePoints(),this.points.forEach(function(e){var i=merge(r.dial,e.dial),o=pInt(pick(i.radius,"80%"))*a[2]/200,s=pInt(pick(i.baseLength,"70%"))*o/100,n=pInt(pick(i.rearLength,"10%"))*o/100,p=i.baseWidth||3,d=i.topWidth||1,h=r.overshoot,c=t.startAngleRad+t.translate(e.y,null,null,null,!0);isNumber(h)?(h=h/180*Math.PI,c=Math.max(t.startAngleRad-h,Math.min(t.endAngleRad+h,c))):!1===r.wrap&&(c=Math.max(t.startAngleRad,Math.min(t.endAngleRad,c))),c=180*c/Math.PI,e.shapeType="path",e.shapeArgs={d:i.path||["M",-n,-p/2,"L",s,-p/2,o,-d/2,o,d/2,s,p/2,-n,p/2,"z"],translateX:a[0],translateY:a[1],rotation:c},e.plotX=a[0],e.plotY=a[1]})},drawPoints:function(){var t=this,r=t.chart,a=t.yAxis.center,e=t.pivot,i=t.options,o=i.pivot,s=r.renderer;t.points.forEach(function(a){var e=a.graphic,o=a.shapeArgs,n=o.d,p=merge(i.dial,a.dial);e?(e.animate(o),o.d=n):a.graphic=s[a.shapeType](o).attr({rotation:o.rotation,zIndex:1}).addClass("highcharts-dial").add(t.group),r.styledMode||a.graphic[e?"animate":"attr"]({stroke:p.borderColor||"none","stroke-width":p.borderWidth||0,fill:p.backgroundColor||"#000000"})}),e?e.animate({translateX:a[0],translateY:a[1]}):(t.pivot=s.circle(0,0,pick(o.radius,5)).attr({zIndex:2}).addClass("highcharts-pivot").translate(a[0],a[1]).add(t.group),r.styledMode||t.pivot.attr({"stroke-width":o.borderWidth||0,stroke:o.borderColor||"#cccccc",fill:o.backgroundColor||"#000000"}))},animate:function(t){var r=this;t||(r.points.forEach(function(t){var a=t.graphic;a&&(a.attr({rotation:180*r.yAxis.startAngleRad/Math.PI}),a.animate({rotation:t.shapeArgs.rotation},r.options.animation))}),r.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),Series.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(t,r){Series.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),pick(r,!0)&&this.chart.redraw()},hasData:function(){return!!this.points.length},drawTracker:TrackerMixin&&TrackerMixin.drawTrackerPoint},{setState:function(t){this.state=t}});