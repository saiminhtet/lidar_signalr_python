"use strict";import H from"../parts/Globals.js";import U from"../parts/Utilities.js";var pick=U.pick;import"../parts/Axis.js";var addEvent=H.addEvent,Axis=H.Axis;addEvent(Axis,"getSeriesExtremes",function(){var i=[];this.isXAxis&&(this.series.forEach(function(t,a){t.useMapGeometry&&(i[a]=t.xData,t.xData=[])}),this.seriesXData=i)}),addEvent(Axis,"afterGetSeriesExtremes",function(){var i,t,a,s=this.seriesXData;this.isXAxis&&(i=pick(this.dataMin,Number.MAX_VALUE),t=pick(this.dataMax,-Number.MAX_VALUE),this.series.forEach(function(e,n){e.useMapGeometry&&(i=Math.min(i,pick(e.minX,i)),t=Math.max(t,pick(e.maxX,t)),e.xData=s[n],a=!0)}),a&&(this.dataMin=i,this.dataMax=t),delete this.seriesXData)}),addEvent(Axis,"afterSetAxisTranslation",function(){var i,t,a,s,e,n=this.chart,r=n.plotWidth/n.plotHeight,x=n.xAxis[0];"yAxis"===this.coll&&void 0!==x.transA&&this.series.forEach(function(i){i.preserveAspectRatio&&(e=!0)}),e&&(this.transA=x.transA=Math.min(this.transA,x.transA),i=((t=r/((x.max-x.min)/(this.max-this.min))<1?this:x).max-t.min)*t.transA,t.pixelPadding=t.len-i,t.minPixelPadding=t.pixelPadding/2,(a=t.fixTo)&&(s=a[1]-t.toValue(a[0],!0),s*=t.transA,(Math.abs(s)>t.minPixelPadding||t.min===t.dataMin&&t.max===t.dataMax)&&(s=0),t.minPixelPadding-=s))}),addEvent(Axis,"render",function(){this.fixTo=null});