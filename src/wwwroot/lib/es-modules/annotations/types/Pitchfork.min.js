"use strict";import H from"../../parts/Globals.js";import"../../parts/Utilities.js";var Annotation=H.Annotation,MockPoint=Annotation.MockPoint,InfinityLine=Annotation.types.infinityLine;function Pitchfork(){InfinityLine.apply(this,arguments)}Pitchfork.findEdgePoint=function(t,i,n){var o=Math.atan2(n.plotY-i.plotY,n.plotX-i.plotX);return{x:t.plotX+1e7*Math.cos(o),y:t.plotY+1e7*Math.sin(o)}},Pitchfork.middleLineEdgePoint=function(t){var i=t.annotation,n=i.points;return InfinityLine.findEdgePoint(n[0],new MockPoint(i.chart,t,i.midPointOptions()))};var outerLineEdgePoint=function(t){return function(i){var n=i.annotation,o=n.points;return Pitchfork.findEdgePoint(o[t],o[0],new MockPoint(n.chart,i,n.midPointOptions()))}};Pitchfork.topLineEdgePoint=outerLineEdgePoint(1),Pitchfork.bottomLineEdgePoint=outerLineEdgePoint(0),H.extendAnnotation(Pitchfork,InfinityLine,{midPointOptions:function(){var t=this.points;return{x:(t[1].x+t[2].x)/2,y:(t[1].y+t[2].y)/2,xAxis:t[0].series.xAxis,yAxis:t[0].series.yAxis}},addShapes:function(){this.addLines(),this.addBackgrounds()},addLines:function(){this.initShape({type:"path",points:[this.points[0],Pitchfork.middleLineEdgePoint]},!1),this.initShape({type:"path",points:[this.points[1],Pitchfork.topLineEdgePoint]},!1),this.initShape({type:"path",points:[this.points[2],Pitchfork.bottomLineEdgePoint]},!1)},addBackgrounds:function(){var t=this.shapes,i=this.options.typeOptions,n=this.initShape(H.merge(i.innerBackground,{type:"path",points:[function(t){var i=t.annotation,n=i.points,o=i.midPointOptions();return{x:(n[1].x+o.x)/2,y:(n[1].y+o.y)/2,xAxis:o.xAxis,yAxis:o.yAxis}},t[1].points[1],t[2].points[1],function(t){var i=t.annotation,n=i.points,o=i.midPointOptions();return{x:(o.x+n[2].x)/2,y:(o.y+n[2].y)/2,xAxis:o.xAxis,yAxis:o.yAxis}}]})),o=this.initShape(H.merge(i.outerBackground,{type:"path",points:[this.points[1],t[1].points[1],t[2].points[1],this.points[2]]}));i.innerBackground=n.options,i.outerBackground=o.options}},{typeOptions:{innerBackground:{fill:"rgba(130, 170, 255, 0.4)",strokeWidth:0},outerBackground:{fill:"rgba(156, 229, 161, 0.4)",strokeWidth:0}}}),Annotation.types.pitchfork=Pitchfork;export default Pitchfork;