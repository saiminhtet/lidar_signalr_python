import H from"./../parts/Globals.js";import U from"./../parts/Utilities.js";var extend=U.extend,pick=U.pick;import eventEmitterMixin from"./eventEmitterMixin.js";function ControlPoint(t,i,o,r){this.chart=t,this.target=i,this.options=o,this.index=pick(o.index,r)}extend(ControlPoint.prototype,eventEmitterMixin),ControlPoint.prototype.nonDOMEvents=["drag"],ControlPoint.prototype.setVisibility=function(t){this.graphic.attr("visibility",t?"visible":"hidden"),this.options.visible=t},ControlPoint.prototype.render=function(){var t=this.chart,i=this.options;this.graphic=t.renderer.symbol(i.symbol,0,0,i.width,i.height).add(t.controlPointsGroup).css(i.style),this.setVisibility(i.visible),this.addEvents()},ControlPoint.prototype.redraw=function(t){this.graphic[t?"animate":"attr"](this.options.positioner.call(this,this.target))},ControlPoint.prototype.destroy=function(){eventEmitterMixin.destroy.call(this),this.graphic&&(this.graphic=this.graphic.destroy()),this.chart=null,this.target=null,this.options=null},ControlPoint.prototype.update=function(t){var i=this.chart,o=this.target,r=this.index,n=H.merge(!0,this.options,t);this.destroy(),this.constructor(i,o,n,r),this.render(i.controlPointsGroup),this.redraw()};export default ControlPoint;