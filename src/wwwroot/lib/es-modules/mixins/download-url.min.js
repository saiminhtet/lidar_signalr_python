"use strict";import Highcharts from"../parts/Globals.js";var win=Highcharts.win,nav=win.navigator,doc=win.document,domurl=win.URL||win.webkitURL||win,isEdgeBrowser=/Edge\/\d+/.test(nav.userAgent);Highcharts.dataURLtoBlob=function(e){var n=e.match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/);if(n&&n.length>3&&win.atob&&win.ArrayBuffer&&win.Uint8Array&&win.Blob&&domurl.createObjectURL){for(var r,o=win.atob(n[3]),t=new win.ArrayBuffer(o.length),a=new win.Uint8Array(t),i=0;i<a.length;++i)a[i]=o.charCodeAt(i);return r=new win.Blob([a],{type:n[1]}),domurl.createObjectURL(r)}},Highcharts.downloadURL=function(e,n){var r=doc.createElement("a");if("string"==typeof e||e instanceof String||!nav.msSaveOrOpenBlob){if((isEdgeBrowser||e.length>2e6)&&!(e=Highcharts.dataURLtoBlob(e)))throw new Error("Failed to convert to blob");if(void 0!==r.download)r.href=e,r.download=n,doc.body.appendChild(r),r.click(),doc.body.removeChild(r);else try{if(null==win.open(e,"chart"))throw new Error("Failed to open window")}catch(n){win.location.href=e}}else nav.msSaveOrOpenBlob(e,n)};