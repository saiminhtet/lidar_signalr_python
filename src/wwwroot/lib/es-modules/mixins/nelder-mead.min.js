var getCentroid=function(n){for(var r=n.slice(0,-1),e=r.length,t=[],f=function(n,r){return n.sum+=r[n.i],n},u=0;u<e;u++)t[u]=r.reduce(f,{sum:0,i:u}).sum/e;return t},nelderMead=function(n,r){for(var e=function(n,r){return n.fx-r.fx},t=function(n,r,e,t){return r.map(function(r,f){return n*r+e*t[f]})},f=function(r,e){return e.fx=n(e),r[r.length-1]=e,r},u=function(r){var e=r[0];return r.map(function(r){var f=t(.5,e,.5,r);return f.fx=n(f),f})},o=function(r,e,f,u){var o=t(f,r,u,e);return o.fx=n(o),o},i=function(r){var e=r.length,t=new Array(e+1);t[0]=r,t[0].fx=n(r);for(var f=0;f<e;++f){var u=r.slice();u[f]=u[f]?1.05*u[f]:.001,u.fx=n(u),t[f+1]=u}return t}(r),x=0;x<100;x++){i.sort(e);var a=i[i.length-1],c=getCentroid(i),l=o(c,a,2,-1);if(l.fx<i[0].fx){var d=o(c,a,3,-2);i=f(i,d.fx<l.fx?d:l)}else if(l.fx>=i[i.length-2].fx){var v;i=l.fx>a.fx?(v=o(c,a,.5,.5)).fx<a.fx?f(i,v):u(i):(v=o(c,a,1.5,-.5)).fx<l.fx?f(i,v):u(i)}else i=f(i,l)}return i[0]},content={getCentroid:getCentroid,nelderMead:nelderMead};export default content;