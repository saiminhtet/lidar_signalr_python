"use strict";import H from"../parts/Globals.js";import U from"../parts/Utilities.js";var isArray=U.isArray,addEvent=H.addEvent,merge=H.merge;addEvent(H.Series,"afterRender",function(){var s=this.options,i=s.pointRange,r=s.lastVisiblePrice,t=s.lastPrice;if((r||t)&&"highcharts-navigator-series"!==s.id){var a,e,o,l=this.xAxis,c=this.yAxis,h=c.crosshair,n=c.cross,b=c.crossLabel,d=this.points,y=this.yData.length,p=d.length,P=this.xData[this.xData.length-1],x=this.yData[y-1];t&&t.enabled&&(c.crosshair=c.options.crosshair=s.lastPrice,c.cross=this.lastPrice,e=isArray(x)?x[3]:x,c.drawCrosshair(null,{x:P,y:e,plotX:l.toPixels(P,!0),plotY:c.toPixels(e,!0)}),this.yAxis.cross&&(this.lastPrice=this.yAxis.cross,this.lastPrice.y=e)),r&&r.enabled&&p>0&&(o=d[p-1].x===P||null===i?1:2,c.crosshair=c.options.crosshair=merge({color:"transparent"},s.lastVisiblePrice),c.cross=this.lastVisiblePrice,a=d[p-o],c.drawCrosshair(null,a),c.cross&&(this.lastVisiblePrice=c.cross,this.lastVisiblePrice.y=a.y),this.crossLabel&&this.crossLabel.destroy(),this.crossLabel=c.crossLabel),c.crosshair=h,c.cross=n,c.crossLabel=b}});